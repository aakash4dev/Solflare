"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["libs_shared_dist_components_Receive_index_js-libs_shared_dist_components_ReconnectFTXModal_in-5a301f"],{"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationBurnTokenAccount.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/currencies/index.js"),d=s("../../libs/shared/dist/utils/displayPrice.js"),l=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({amount:e,tokenImage:t,tokenMint:s,tokenSymbol:i,tokenVerified:u})=>{const{value:c,suffix:m,prefix:p,price:f}=(0,o.useTokenFiatValue)(s,e);return(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faFire}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,d.displayPrice)({amount:e,displayType:"solana",prefix:"-",suffix:i?` ${i}`:void 0}),subtitle:f?`-${(0,d.displayPrice)({amount:c,displayType:"value",suffix:m,prefix:p})}`:void 0,avatar:(0,r.jsx)(l.default,{src:t,verified:u})})})}},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCancelLimitOrder.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/pfp/index.js"),d=s("../../libs/shared/dist/utils/displayPrice.js"),l=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({amount:e,tokenImage:t,tokenSymbol:s,tokenVerified:i=!0,toPubkey:c,toName:m})=>(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faLineChart}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,d.displayPrice)({amount:e,displayType:"solana",suffix:s?` ${s}`:void 0}),avatar:(0,r.jsx)(u.default,{src:t,verified:i})}),transactionToItem:(0,r.jsx)(n.TXListItem,{title:m||(0,l.truncateMiddle)(c),subtitle:m?(0,l.truncateMiddle)(c):void 0,avatar:(0,r.jsx)(o.PFPAvatar,{publicKey:c})})})},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCloseTokenAccount.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/truncateMiddle.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({tokenImage:e,tokenMint:t,tokenSymbol:s,tokenVerified:i})=>(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faCoinVertical}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:s||(0,o.truncateMiddle)(t),subtitle:s?(0,o.truncateMiddle)(t):void 0,avatar:(0,r.jsx)(d.default,{src:e,verified:i})})})},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCreateLimitOrder.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/displayPrice.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({fromAmount:e,fromSymbol:t,fromTokenImage:s,fromTokenVerified:i,toAmount:l,toSymbol:u,toTokenImage:c,toTokenVerified:m})=>(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faLineChart}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,o.displayPrice)({amount:e,displayType:"solana",suffix:t?` ${t}`:void 0}),avatar:(0,r.jsx)(d.default,{src:s,verified:i})}),transactionToItem:(0,r.jsx)(n.TXListItem,{title:(0,o.displayPrice)({amount:l,displayType:"solana",suffix:u?` ${u}`:void 0}),avatar:(0,r.jsx)(d.default,{src:c,verified:m})})})},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCreateTokenAccount.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/truncateMiddle.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({tokenName:e,tokenImage:t,tokenMint:s,tokenVerified:i})=>(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faCoinVertical}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:e,subtitle:(0,o.truncateMiddle)(s),avatar:(0,r.jsx)(d.default,{src:t,verified:i})})})},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationSendToken.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/currencies/index.js"),d=s("../../libs/shared/dist/features/pfp/index.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({amount:e,tokenImage:t,tokenMint:s,tokenSymbol:i,tokenVerified:m=!0,toPubkey:p,toName:f})=>{const{value:b,suffix:h,prefix:_,price:j}=(0,o.useTokenFiatValue)(s,e);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faPaperPlane}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,l.displayPrice)({amount:e,displayType:"solana",suffix:i?` ${i}`:void 0}),subtitle:j?(0,l.displayPrice)({amount:b,displayType:"value",suffix:h,prefix:_}):void 0,avatar:(0,r.jsx)(c.default,{src:t,verified:m})}),transactionToItem:(0,r.jsx)(n.TXListItem,{title:f||(0,u.truncateMiddle)(p),subtitle:f?(0,u.truncateMiddle)(p):void 0,avatar:(0,r.jsx)(d.PFPAvatar,{publicKey:p})})})})}},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/features/currencies/index.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({amount:e,validatorName:t,validatorImage:s})=>{const{value:i,suffix:c,prefix:m,price:p}=(0,d.useTokenFiatValue)("SOL",e);return(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faPiggyBank}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,l.displayPrice)({amount:e,displayType:"solana",suffix:" SOL"}),subtitle:p?(0,l.displayPrice)({amount:i,displayType:"value",suffix:c,prefix:m}):void 0,avatar:(0,r.jsx)(u.default,{src:o.SOLANA_MINT_OBJ.logoURI,verified:!0})}),transactionToItem:t?(0,r.jsx)(n.TXListItem,{title:t,avatar:(0,r.jsx)(n.ValidatorAvatar,{src:s})}):void 0})}},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationSwap.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({fromTokenImage:e,fromAmountWithSymbol:t,fromTokenVerified:s,toTokenImage:i,toAmountWithSymbol:d,toTokenVerified:l})=>(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faArrowRightArrowLeft}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:t,avatar:(0,r.jsx)(o.default,{src:e,verified:s})}),transactionToItem:(0,r.jsx)(n.TXListItem,{title:d,avatar:(0,r.jsx)(o.default,{src:i,verified:l})})})},"../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationUnwrapWSol.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/features/currencies/index.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=i(s("../../libs/shared/dist/components/TokenAvatar/index.js"));t.default=({amount:e})=>{const{value:t,suffix:s,prefix:i,price:c}=(0,d.useTokenFiatValue)("SOL",e);return(0,r.jsx)(n.ConfirmTransaction,{avatar:(0,r.jsx)(n.IconAvatar,{size:"xl",icon:a.faArrowRightArrowLeft}),transactionFromItem:(0,r.jsx)(n.TXListItem,{title:(0,l.displayPrice)({amount:e,displayType:"solana",suffix:" WSOL"}),subtitle:c?(0,l.displayPrice)({amount:t,displayType:"value",suffix:s,prefix:i}):void 0,avatar:(0,r.jsx)(u.default,{src:o.SOLANA_MINT_OBJ.logoURI,verified:!0})}),transactionToItem:(0,r.jsx)(n.TXListItem,{title:(0,l.displayPrice)({amount:e,displayType:"solana",suffix:" SOL"}),avatar:(0,r.jsx)(u.default,{src:o.SOLANA_MINT_OBJ.logoURI,verified:!0})})})}},"../../libs/shared/dist/components/QRGenerator/index.js":function(e,t,s){var i=s("../../../node_modules/console-browserify/index.js"),r=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=this&&this.__decorate||function(e,t,s,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a<3?r(n):a>3?r(t,s,n):r(t,s))||n);return a>3&&n&&Object.defineProperty(t,s,n),n};const l=s("../../../node_modules/react/jsx-runtime.js"),u=n(s("../../../node_modules/react/index.js")),c=s("../../../node_modules/@mui/material/index.js"),m=o(s("../../../node_modules/@mui/styles/withStyles/index.js")),p=o(s("../../../node_modules/easyqrcodejs/dist/easy.qrcode.min.js")),f=o(s("../../../node_modules/prop-types/index.js"));let b=class extends u.Component{constructor(e){super(e),this.qrcode=u.default.createRef()}componentDidMount(){const{text:e}=this.props;i.log("text",e),new p.default(this.qrcode.current,{text:e,logoWidth:64,logoHeight:64,quietZone:10,quietZoneColor:"white"})}render(){const{classes:e}=this.props;return(0,l.jsx)(c.Box,{className:e.root,children:(0,l.jsx)("div",{ref:this.qrcode})})}};b.propTypes={text:f.default.string,classes:f.default.object},b=d([(0,m.default)((()=>({root:{"& canvas":{borderRadius:8,width:160,height:160}}})))],b),t.default=b},"../../libs/shared/dist/components/Receive/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Receive=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-redux/es/index.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/features/featureFlags/receive/index.js"),u=s("../../libs/shared/dist/store/actions/common.js"),c=i(s("../../libs/shared/dist/components/QRGenerator/index.js")),m=s("../../libs/shared/dist/components/UniversalModal/index.js");t.Receive=({address:e,onClose:t,tRoute:s,tSource:i})=>{const{t:p}=(0,n.useTranslation)(),f=(0,o.useDispatch)();return(0,a.useEffect)((()=>{(0,l.logReceiveRoute)(s,i)}),[s,i]),(0,r.jsx)(m.UniversalModal,{title:"Receive",onClose:t,footer:(0,r.jsx)(d.Button,{onClick:()=>{f((0,u.copyClipboard)(e)),(0,l.logReceiveCopyAddress)(i)},children:p("action_copy_address")}),children:(0,r.jsx)(d.Receive,{address:e,title:p("receive_your_address_simple"),code:(0,r.jsx)(c.default,{text:e})})})}},"../../libs/shared/dist/components/ReconnectFTXModal/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return r(t,e),t},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=this&&this.__decorate||function(e,t,s,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(a<3?r(n):a>3?r(t,s,n):r(t,s))||n);return a>3&&n&&Object.defineProperty(t,s,n),n};const d=s("../../../node_modules/react/jsx-runtime.js"),l=s("../../../node_modules/@fortawesome/pro-light-svg-icons/faWarning.js"),u=s("../../../node_modules/@fortawesome/react-fontawesome/index.es.js"),c=s("../../../node_modules/@mui/material/index.js"),m=s("../../../node_modules/@mui/material/colors/index.js"),p=s("../../../node_modules/@mui/styles/index.js"),f=s("../../libs/rise-ui/dist/index.js"),b=n(s("../../../node_modules/prop-types/index.js")),h=a(s("../../../node_modules/react/index.js")),_=s("../../../node_modules/react-i18next/dist/es/index.js"),j=s("../../../node_modules/react-redux/es/index.js"),g=s("../../libs/shared/dist/store/actions/exchange.js"),y=s("../../libs/shared/dist/store/actions/ftxReconnect.js"),x=s("../../libs/shared/dist/store/actions/wallet.js"),v=s("../../libs/shared/dist/utils/extension.js"),k=s("../../libs/shared/dist/components/withWallet/index.js"),S=n(s("../../libs/shared/dist/components/ReconnectFTXModal/selector.js"));let T=class extends h.Component{constructor(){super(...arguments),this.getWebUrl=()=>encodeURIComponent(window.location.origin),this.getRedirectUri=(e=!1)=>v.isExtension?`https://solflare.com/redirect2/${e?"us/":""}${this.getWebUrl()}`:`${window.location.origin}/callback${e?"/us":""}`,this.onReconnect=async()=>{const{wallet:e}=this.props;let t;t=e.instance.us?(await this.props.getOAuth2Client({redirectUri:this.getRedirectUri(!0),us:!0})).code.getUri():(await this.props.getOAuth2Client({redirectUri:this.getRedirectUri()})).code.getUri(),this.props.fullScreen?window.open(t,"_blank"):window.open(t,"_self")},this.onDisconnect=()=>{const e=this.props.wallet.getPublicKey().toString(),t=Object.values(this.props.wallets),s=t.map(((t,s)=>t.publicKey===e||t.parent===e?{index:s,pubkey:t.publicKey}:null)),i=t.find((e=>!s.find((t=>t?.pubkey===e.publicKey)))),{deleteAccount:r,hideFTXReconnect:a,selectAccountByPubkey:n}=this.props;n(i.publicKey),s.forEach((e=>{e&&r(e)})),a()}}render(){const{classes:e,fullScreen:t,ftxReconnect:s,t:i}=this.props;return(0,d.jsx)(f.Modal,{open:s,fullScreen:t,title:i("reconnect_FTX"),actions:(0,d.jsxs)(f.Box,{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[(0,d.jsx)(c.Divider,{width:"100%",light:!0}),(0,d.jsx)(f.Box,{mb:2}),(0,d.jsx)(f.Button,{variant:"contained",onClick:this.onReconnect,children:i("reconnect_to_FTX")}),(0,d.jsx)(f.Box,{mb:1}),(0,d.jsx)(f.Button,{onClick:this.onDisconnect,children:i("remove_FTX_account")})]}),children:(0,d.jsxs)(f.Box,{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[(0,d.jsx)(f.Box,{mb:4,mt:2,children:(0,d.jsx)(c.Avatar,{classes:{root:e.avatar},children:(0,d.jsx)(u.FontAwesomeIcon,{style:{width:100,height:87.5},icon:l.faWarning})})}),(0,d.jsx)(f.Typography,{children:i("your_ftx_session_has_expired")}),(0,d.jsx)(f.Typography,{children:(0,d.jsx)(c.Link,{target:"_blank",href:"https://academy.solflare.com/guides/how-to-integrate-your-ftx-account-within-the-solflare-wallet-web/",children:i("why_did_this_happen")})})]})})}};T.propTypes={classes:b.default.object,deleteAccount:b.default.func,fullScreen:b.default.bool,ftxReconnect:b.default.bool,getOAuth2Client:b.default.func,selectAccountByPubkey:b.default.func,t:b.default.func,hideFTXReconnect:b.default.func,wallet:b.default.object,wallets:b.default.object},T=o([(0,p.withStyles)((e=>({avatar:{backgroundColor:"rgba(218, 73, 63, 0.1)",color:m.red[500],width:180,height:180}}))),(0,_.withTranslation)(),(0,k.withWallet)(),(0,j.connect)(S.default,{deleteAccount:x.deleteAccount,getOAuth2Client:g.getOAuth2Client,hideFTXReconnect:y.hideFTXReconnect,selectAccountByPubkey:x.selectAccountByPubkey})],T),t.default=T},"../../libs/shared/dist/components/ReconnectFTXModal/selector.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/reselect/es/index.js"),r=s("../../libs/shared/dist/store/selectors/config.js"),a=s("../../libs/shared/dist/store/selectors/data.js"),n=(0,i.createSelector)(r.walletDataSelector,(e=>e.wallets));t.default=(0,i.createStructuredSelector)({wallets:n,ftxReconnect:a.ftxReconnectSelector})},"../../libs/shared/dist/components/WebInfoTooltip/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebInfoTooltip=void 0;const i=s("../../../node_modules/@mui/system/esm/index.js"),r=s("../../libs/foundation-ui/dist/index.js");t.WebInfoTooltip=(0,i.styled)(r.InfoTooltip)({zIndex:r.Z_INDEX_TOOLTIP})},"../../libs/shared/dist/constants/validatorStatus.js":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorStatusEnum=void 0,(s=t.ValidatorStatusEnum||(t.ValidatorStatusEnum={})).Active="active",s.Inactive="inactive"},"../../libs/shared/dist/features/addressBook/constants/index.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NAME_LENGTH=void 0,t.MAX_NAME_LENGTH=16},"../../libs/shared/dist/features/addressBook/context/AddressBook.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useAddressBook=t.AddressBookProvider=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../libs/shared/dist/store/actions/addressBook.js"),o=s("../../libs/shared/dist/store/selectors/data.js"),d=(0,r.createContext)({addresses:[],nameByAddress:{},addAddress:()=>Promise.resolve(),removeAddress:()=>Promise.resolve(),updateAddress:()=>Promise.resolve()});t.AddressBookProvider=({children:e})=>{const t=(0,a.useDispatch)(),s=(0,a.useSelector)(o.addressBookDataSelector),l=(0,r.useMemo)((()=>s.reduce(((e,t)=>(e[t.address]=t.name,e)),{})),[s]),u=(0,r.useCallback)((async e=>{await t((0,n.saveAddressToAddressBook)(e))}),[t]),c=(0,r.useCallback)((async e=>{await t((0,n.deleteAddressFromAddressBook)({index:e}))}),[t]),m=(0,r.useCallback)((async(e,s)=>{await t((0,n.updateAddressInAddressBook)({index:e,...s}))}),[t]);(0,r.useEffect)((()=>{t((0,n.loadAddressBookAddresses)())}),[t]);const p=(0,r.useMemo)((()=>({addresses:s,nameByAddress:l,addAddress:u,removeAddress:c,updateAddress:m})),[u,s,l,c,m]);return(0,i.jsx)(d.Provider,{value:p,children:e})},t.useAddressBook=()=>(0,r.useContext)(d)},"../../libs/shared/dist/features/addressBook/context/RecentAddresses.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRecentAddresses=t.RecentAddressesProvider=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../libs/shared/dist/store/actions/addressBook.js"),o=s("../../libs/shared/dist/store/selectors/data.js"),d=(0,r.createContext)({addresses:[],upsertAddress:()=>Promise.resolve()});t.RecentAddressesProvider=({children:e})=>{const t=(0,a.useDispatch)(),s=(0,a.useSelector)(o.recentAddressesDataSelector),l=(0,r.useCallback)((async e=>{await t((0,n.saveRecentAddress)({address:e}))}),[t]);(0,r.useEffect)((()=>{t((0,n.loadRecentAddresses)())}),[t]);const u=(0,r.useMemo)((()=>({addresses:s,upsertAddress:l})),[s,l]);return(0,i.jsx)(d.Provider,{value:u,children:e})},t.useRecentAddresses=()=>(0,r.useContext)(d)},"../../libs/shared/dist/features/addressBook/hooks/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useDestinationWalletType=void 0;var i=s("../../libs/shared/dist/features/addressBook/hooks/useDestinationWalletType.js");Object.defineProperty(t,"useDestinationWalletType",{enumerable:!0,get:function(){return i.useDestinationWalletType}})},"../../libs/shared/dist/features/addressBook/hooks/useDestinationWalletType.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useDestinationWalletType=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-redux/es/index.js"),a=s("../../libs/wallet-core/dist/shared.js"),n=s("../../libs/shared/dist/store/selectors/config.js"),o=s("../../libs/shared/dist/features/addressBook/context/AddressBook.js");t.useDestinationWalletType=()=>{const{wallets:e}=(0,r.useSelector)(n.walletDataSelector),{addresses:t}=(0,o.useAddressBook)();return{getDestinationWalletType:(0,i.useCallback)((s=>e[s]&&e[s].type in a.TRACKING_WALLET_TYPES?a.TRACKING_WALLET_TYPES[e[s].type]:t.find((e=>e.pubkey===s))?9:10),[t,e])}}},"../../libs/shared/dist/features/addressBook/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s("../../libs/shared/dist/features/addressBook/constants/index.js"),t),r(s("../../libs/shared/dist/features/addressBook/hooks/index.js"),t)},"../../libs/shared/dist/features/amountInput/utils.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAmountInput=void 0;const i=s("../../libs/shared/dist/utils/common.js");t.resolveAmountInput=(e,t)=>{const s=e.includes(",")?e.replace(",",".").trim():e.trim(),r=(0,i.isValidPositiveNumber)(s);if("."===s||","===s)return"0.";if("e"===s||"E"===s||"-"===s)return"";if(!(0,i.hasValidDecimals)(s,t)||!r)throw new Error("More decimals then allowed or input is not valid.");return s}},"../../libs/shared/dist/features/featureFlags/onramper/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logOnRamperInfoVideoRoute=t.logOnRamperBuyRoute=void 0;const r=i(s("../../libs/shared/dist/utils/featureFlags.js"));t.logOnRamperBuyRoute=e=>{r.default.pv("/onRamperBuyRoute",{source:e})},t.logOnRamperInfoVideoRoute=()=>{r.default.pv("/onRamperInfoVideoRoute")}},"../../libs/shared/dist/features/featureFlags/promo/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logIntermediaryScreenCloseClicked=t.logIntermediaryScreenCTAClicked=t.logRemoteBannerCloseClicked=t.logRemoteBannerCTAClicked=t.INTERMEDIARY_SCREEN_ROUTE=void 0;const r=i(s("../../libs/shared/dist/utils/featureFlags.js")),a="RemoteBanner",n="IntermediaryScreen",o="CTAClicked",d="CloseClicked";t.INTERMEDIARY_SCREEN_ROUTE="/intermediaryRoute",t.logRemoteBannerCTAClicked=async e=>r.default.c(a,o,e),t.logRemoteBannerCloseClicked=async e=>r.default.c(a,d,e),t.logIntermediaryScreenCTAClicked=async e=>r.default.c(n,o,e),t.logIntermediaryScreenCloseClicked=async({page:e})=>r.default.c(n,d,{page:e})},"../../libs/shared/dist/features/featureFlags/receive/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logReceiveCopyAddress=t.logReceiveRoute=void 0;const r=i(s("../../libs/shared/dist/utils/featureFlags.js"));t.logReceiveRoute=(e,t)=>{r.default.pv(e,{source:t})},t.logReceiveCopyAddress=e=>{r.default.c("PortfolioReceive","CopyAddress",{source:e})}},"../../libs/shared/dist/features/featureFlags/utils.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureFlagsOrigin=void 0;const i=s("../../libs/shared/dist/utils/extension.js");t.getFeatureFlagsOrigin=()=>i.isWidget?"widget":i.isExtensionPopup?"popup":i.isExpandedView?"expanded":"web"},"../../libs/shared/dist/features/infoScreen/container.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/@mui/styles/index.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/rise-ui/dist/index.js"),l=i(s("../../libs/shared/dist/storage/solflareService.js")),u=s("../../libs/shared/dist/utils/extension.js"),c=i(s("../../libs/shared/dist/utils/featureFlags.js")),m=(0,n.makeStyles)((()=>({dialogScreenPaper:{padding:"0px",width:"auto",borderRadius:"20px"},content:{padding:"0px !important",borderRadius:"20px",overflow:"hidden"}})));t.default=({storageKey:e,cta:t,page:s,manualOpen:i,onClose:n,...p})=>{const[f,b]=(0,a.useState)(!!i),h=(0,a.useRef)(i),_=m(),j=(0,a.useCallback)((async()=>{n&&i?n():(await l.default.infoScreen.setField(e,!0),b(!1))}),[i,n,e]);(0,a.useEffect)((()=>{(async()=>{if(!i){const t=await l.default.infoScreen.getField(e);b(!t)}})()}),[]),(0,a.useEffect)((()=>{i!==h.current&&b(!!i),h.current=i}),[i]),(0,a.useEffect)((()=>{f&&c.default.pv(s)}),[f]);const g=()=>{t.action(),j()};return f?u.isExtension&&!u.isExpandedView?(0,r.jsx)(o.FullPageModal,{open:!0,children:(0,r.jsx)(o.WhatsNew,{...p,onClose:j,cta:{...t,action:g}})}):(0,r.jsx)(d.Modal,{open:!0,contentClassName:_.content,dialogPaperClassName:_.dialogScreenPaper,onClose:j,children:(0,r.jsx)(o.WhatsNew,{...p,cta:{...t,action:g}})}):null}},"../../libs/shared/dist/features/infoScreen/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InfoScreenUnverifiedNftGuide=t.InfoScreenMultiStepExample=t.InfoScreenJupiterSwap=void 0;var i=s("../../libs/shared/dist/features/infoScreen/newFeatures/index.js");Object.defineProperty(t,"InfoScreenJupiterSwap",{enumerable:!0,get:function(){return i.InfoScreenJupiterSwap}}),Object.defineProperty(t,"InfoScreenMultiStepExample",{enumerable:!0,get:function(){return i.InfoScreenMultiStepExample}}),Object.defineProperty(t,"InfoScreenUnverifiedNftGuide",{enumerable:!0,get:function(){return i.InfoScreenUnverifiedNftGuide}})},"../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenJupiterSwap/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InfoScreenJupiterSwap=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../libs/shared/dist/assets/InfoScreen/JupiterSwap/jupiter-swap-1.mp4")),o=i(s("../../libs/shared/dist/assets/InfoScreen/JupiterSwap/jupiter-swap-2.mp4")),d=s("../../libs/shared/dist/features/featureFlags/infoScreen/index.js"),l=i(s("../../libs/shared/dist/features/infoScreen/container.js")),u=[{title:"Get the best prices",subtitle:"Solflare uses Jupiter to find the best rates for your swaps across multiple decentralized exchanges.",videoSrc:n.default,duration:7e3},{title:"Get $JUP airdrops",subtitle:"Swap in Solflare to qualify for upcoming rounds of $JUP airdrops in the years ahead.",videoSrc:o.default,duration:7e3}];t.InfoScreenJupiterSwap=()=>{const{t:e}=(0,a.useTranslation)();return(0,r.jsx)(l.default,{steps:u,title:"Swap powered by Jupiter",cta:{title:e("action_continue"),action:()=>{}},storageKey:"jupiter-swap",page:d.PAGE_INFO_SCREEN_JUPITER_SWAP})}},"../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenMultiStepExample/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InfoScreenMultiStepExample=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=i(s("../../libs/shared/dist/assets/taskmask-banner-active.mp4")),o=i(s("../../libs/shared/dist/assets/taskmask-banner-upcoming.mp4")),d=i(s("../../libs/shared/dist/assets/taskmask-banner-won.mp4")),l=i(s("../../libs/shared/dist/features/infoScreen/container.js")),u=[{title:"First title",subtitle:"Could not find any better videos for this example, sorry..",videoSrc:o.default,duration:5e3},{title:"This one is without subtitle",videoSrc:n.default,duration:5e3},{subtitle:"This one is without title",videoSrc:d.default,duration:5e3}];t.InfoScreenMultiStepExample=()=>{const[e,t]=(0,a.useState)(!0);return e?(0,r.jsx)(l.default,{steps:u,title:"Main title",cta:{title:"Bridge now",action:()=>t(!1)},storageKey:"example",page:"/infoScreenMultiStepExample"}):null}},"../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenUnverifiedNftGuide/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InfoScreenUnverifiedNftGuide=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-1.mp4")),o=i(s("../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-2.mp4")),d=i(s("../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-3.mp4")),l=i(s("../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-4.mp4")),u=s("../../libs/shared/dist/features/featureFlags/infoScreen/index.js"),c=i(s("../../libs/shared/dist/features/infoScreen/container.js")),m=[{title:"Unverified NFTs",subtitle:"Here, you'll find NFTs that we and top marketplaces couldn't verify.",videoSrc:n.default,duration:7e3},{title:"Identify Unsafe NFTs",subtitle:"Anyone can send you NFTs. Some are safe, but those containing links might be scams.",videoSrc:o.default,duration:7e3},{title:"Don't Follow Links!",subtitle:"Links could lead you to unsafe sites putting your assets at risk. Ignore or burn NFTs you can't verify.",videoSrc:d.default,duration:7e3},{title:"Verify Safe NFTs",subtitle:"If you are confident an NFT is safe, you can move it to your main gallery. It's easy to undo if you change your mind.",videoSrc:l.default,duration:7e3}];t.InfoScreenUnverifiedNftGuide=({open:e,onClose:t})=>{const{t:s}=(0,a.useTranslation)();return(0,r.jsx)(c.default,{steps:m,title:"Unverified NFTs",cta:{title:s("action_continue"),action:()=>{}},storageKey:"unverified-nft-guide",page:u.PAGE_INFO_SCREEN_UNVERIFIED_NFT_GUIDE,manualOpen:e,onClose:t})}},"../../libs/shared/dist/features/infoScreen/newFeatures/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InfoScreenUnverifiedNftGuide=t.InfoScreenMultiStepExample=t.InfoScreenJupiterSwap=void 0;var i=s("../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenJupiterSwap/index.js");Object.defineProperty(t,"InfoScreenJupiterSwap",{enumerable:!0,get:function(){return i.InfoScreenJupiterSwap}});var r=s("../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenMultiStepExample/index.js");Object.defineProperty(t,"InfoScreenMultiStepExample",{enumerable:!0,get:function(){return r.InfoScreenMultiStepExample}});var a=s("../../libs/shared/dist/features/infoScreen/newFeatures/InfoScreenUnverifiedNftGuide/index.js");Object.defineProperty(t,"InfoScreenUnverifiedNftGuide",{enumerable:!0,get:function(){return a.InfoScreenUnverifiedNftGuide}})},"../../libs/shared/dist/features/limitOrders/api/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuote=t.createOrder=t.cancelOrder=t.getOrdersHistory=t.getOpenOrders=void 0;const r=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=i(s("../../../node_modules/base64-js/index.js")),n=s("../../libs/shared/dist/api/index.js"),o="https://wallet-api.solflare.com";t.getOpenOrders=async(e,t="USD")=>{const s={wallet:e,currency:t},{body:i}=await(0,n.get)(`${o}/v2/trade/limit-orders/list?${new URLSearchParams(s).toString()}`);return i},t.getOrdersHistory=async(e,t="USD")=>{const s={wallet:e,currency:t},{body:i}=await(0,n.get)(`${o}/v2/trade/limit-orders/list-history?${new URLSearchParams(s).toString()}`);return i},t.cancelOrder=async({publicKey:e,orders:t,setComputeBudget:s})=>{const i={wallet:e,orders:t,setComputeBudget:s},{body:d}=await(0,n.post)(`${o}/v2/trade/limit-orders/orders-delete`,i);return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(d.txs[0])),data:{...d}}},t.createOrder=async({publicKey:e,inAmount:t,outAmount:s,inMint:i,outMint:d,expiredAt:l,setComputeBudget:u})=>{const c={wallet:e,inAmount:t,outAmount:s,inMint:i,outMint:d,setComputeBudget:u};void 0!==l&&(c.expiredAt=l);const{body:m}=await(0,n.post)(`${o}/v2/trade/limit-orders/order-create`,c);return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(m.txs[0])),data:{...m}}},t.getQuote=async({inMint:e,outMint:t,inAmount:s,price:i,feeBps:r})=>{const{body:a}=await(0,n.get)(`${o}/v2/trade/limit-orders/quote?inMint=${e}&outMint=${t}&inAmount=${s}&price=${i}&feeBps=${r}`);return a}},"../../libs/shared/dist/features/limitOrders/components/CTA/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CTA=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/utils/units.js"),o=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),d=s("../../libs/shared/dist/features/trading/hooks/useMarketPrice/index.js"),l=s("../../libs/shared/dist/features/trading/hooks/useWarningStates/index.js"),u=s("../../libs/shared/dist/features/limitOrders/context/OrderFormState.js"),c=s("../../libs/shared/dist/features/limitOrders/hooks/index.js"),m=s("../../libs/shared/dist/features/limitOrders/hooks/useQuote/index.js");t.CTA=({variant:e})=>{const{t}=(0,r.useTranslation)(),{fromAmount:s,maxFromBalance:p,selectedFromCoin:f,selectedToCoin:b,tokens:h}=(0,o.useSharedTradingState)(),{inputError:_,hasEditedInputAmount:j,inputAmount:g,toAmount:y}=(0,u.useOrderFormState)(),{data:x}=(0,d.useMarketPrice)({inMint:f.tokenId,outMint:b.tokenId}),v=(0,n.convertDecimalsToAmount)(s,f.decimals),{data:k,isLoading:S,dataUpdatedAt:T,isError:w}=(0,m.useQuote)({inMint:f.tokenId,outMint:b.tokenId,inAmount:isNaN(+v)?"":v,price:j?+g:x?.price}),{alertProps:P}=(0,l.useWarningStates)({variant:"limit",fromAmount:s,maxFromBalance:p,selectedFromCoin:f,tokens:h,hasQuoteData:!!k,isQuoteLoading:S,dataUpdatedAt:T,isError:w}),{create:C}=(0,c.useCreateOrder)(),A=!(!P&&+s&&f.tokenId&&b.tokenId&&!_);return(0,i.jsxs)(a.FooterActions,{variant:e,children:[P&&(0,i.jsx)(a.Alert,{...P,variant:"error"}),(0,i.jsx)(a.Button,{disabled:A,onClick:()=>C(y),children:t("limit_order_create_action")})]})}},"../../libs/shared/dist/features/limitOrders/components/CompletedOrderDetails/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompletedOrderDetails=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../../node_modules/dayjs/dayjs.min.js")),o=s("../../libs/foundation-ui/dist/index.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),l=s("../../libs/shared/dist/components/UniversalModal/index.js"),u=s("../../libs/shared/dist/utils/units.js");t.CompletedOrderDetails=({order:e,buyToken:t,sellToken:s,fromMint:i,denominationMint:c,onClose:m})=>{const{t:p}=(0,a.useTranslation)(),f=(0,u.convertTokensToDecimals)(e.amountOutput,t.decimals),b=(0,u.convertTokensToDecimals)(e.amountInput,s.decimals);return(0,r.jsx)(l.UniversalModal,{title:p("limit_orders_completed_order_details_title"),textAlign:"left",onClose:m,children:(0,r.jsxs)(o.DetailsSection,{children:[(0,r.jsx)(o.DetailsSectionRow,{title:p("limit_orders_completed_order_details_date_completed"),content:`${(0,n.default)(e.updatedAt).format("YYYY MMMM D")} ${p("at_time")} ${(0,n.default)(e.updatedAt).format("HH:mm:ss")}`}),(0,r.jsx)(o.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(o.DetailsSectionRow,{title:p("bought_label"),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{size:"s",src:t.logoUrl||void 0,verified:t.verified}),f," ",t.symbol]})}),(0,r.jsx)(o.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(o.DetailsSectionRow,{title:p("sold_label"),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{size:"s",src:s.logoUrl||void 0,verified:s.verified}),b," ",s.symbol]})}),(0,r.jsx)(o.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(o.DetailsSectionRow,{title:p("bought_at_price_label",{token:i.symbol}),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{size:"s",src:c.logoUrl||void 0,verified:c.verified}),+e.price," ",c.symbol]})})]})})}},"../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/MarketPriceInput.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MarketPriceInput=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),l=s("../../libs/shared/dist/utils/common.js"),u=s("../../libs/shared/dist/utils/units.js"),c=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),m=s("../../libs/shared/dist/features/trading/hooks/useMarketPrice/index.js"),p=s("../../libs/shared/dist/features/limitOrders/context/OrderFormState.js"),f=s("../../libs/shared/dist/features/limitOrders/hooks/useQuote/index.js"),b=s("../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/MarketPriceLabel.js");t.MarketPriceInput=()=>{const{selectedFromCoin:e,selectedToCoin:t,tokensByMint:s,fromAmount:i}=(0,c.useSharedTradingState)(),{inputAmount:h,setInputAmount:_,hasEditedInputAmount:j,setHasEditedInputAmount:g,inputError:y}=(0,p.useOrderFormState)(),{data:x,isLoading:v}=(0,m.useMarketPrice)({inMint:e?.tokenId,outMint:t?.tokenId}),k=(0,u.convertDecimalsToAmount)(i,e.decimals),{refetch:S}=(0,f.useQuote)({inMint:e?.tokenId,outMint:t?.tokenId,inAmount:isNaN(+k)?"":k,price:j?+h:x?.price}),[T,w]=(0,a.useState)(h),P=x&&s[x.denom],C=(0,a.useRef)((0,n.debounce)((e=>w(e)),1e3)).current,A=(0,a.useRef)((0,n.debounce)((()=>S()),500)).current,O=(0,a.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,l.isValidPositiveNumber)(t);if("."===t||","===t)return _("0."),g(!0),void C(+t);(0,l.hasValidDecimals)(t,20)&&s&&(_(t),g(!0),C(+t))}),[g,_,C]);return(0,a.useEffect)((()=>{T&&+h==+T&&+T&&t.tokenId&&e.tokenId&&T!==h&&S()}),[T,h,S]),v||!x?(0,r.jsx)(o.TextField,{label:(0,r.jsx)(b.MarketPriceLabel,{isLoading:!0}),textAlign:"right",left:(0,r.jsx)(o.Skeleton,{__height:"20px",__width:"70px"}),children:(0,r.jsx)(o.Skeleton,{__height:"20px",__width:"70px"})},"market-price-input-loading"):(0,r.jsx)(o.TextField,{label:(0,r.jsx)(b.MarketPriceLabel,{marketPrice:x,isLoading:v,onClick:()=>{_(`${x.price}`),g(!0),A(),T||w(h)}}),textAlign:"right",placeholder:"0",name:"sell-price",error:!!y,value:j?h:x.price,onChange:O,onBlur:()=>{_((e=>e?(0,l.convertToRegularNum)(e,P?.decimals||0):e))},left:(0,r.jsx)(o.TextInputTokenSlot,{avatar:(0,r.jsx)(d.default,{src:P?.logoURI,size:"xs",verified:P?.verified}),children:P?.symbol}),hint:y&&(0,r.jsx)(o.Label,{error:!0,children:y})},"market-price-input")}},"../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/MarketPriceLabel.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MarketPriceLabel=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js");t.MarketPriceLabel=({marketPrice:e,isLoading:t,onClick:s})=>{const{t:o}=(0,r.useTranslation)(),{tokensByMint:d}=(0,n.useSharedTradingState)();if(t||!e)return(0,i.jsx)(a.InputLabel,{label:(0,i.jsx)(a.Label,{children:(0,i.jsx)(a.Skeleton,{__width:"50px",__height:"16px"})}),children:(0,i.jsx)(a.RightLabel,{children:(0,i.jsx)(a.Skeleton,{__width:"50px",__height:"16px"})})});const l="buy"===e.direction?o("buy_at_price_label",{token:d[e.from]?.symbol}):o("sell_at_price_label",{token:d[e.from]?.symbol});return(0,i.jsx)(a.InputLabel,{label:(0,i.jsxs)(a.Label,{children:[l," ",(0,i.jsx)(a.InfoTooltip,{tooltip:o("limit_order_market_price_label_tooltip")})]}),children:(0,i.jsx)(a.RightLabel,{onClick:s,children:o("market_price_label",{price:e.price})})})}},"../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/index.js":function(e,t,s){var i=s("../../../node_modules/console-browserify/index.js"),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LimitOrdersForm=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/index.js"),d=s("../../../node_modules/lodash/lodash.js"),l=s("../../libs/foundation-ui/dist/index.js"),u=r(s("../../libs/shared/dist/storage/solflareService.js")),c=s("../../libs/shared/dist/utils/common.js"),m=s("../../libs/shared/dist/utils/displayPrice.js"),p=s("../../libs/shared/dist/utils/extension.js"),f=s("../../libs/shared/dist/utils/units.js"),b=s("../../libs/shared/dist/features/amountInput/utils.js"),h=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),_=s("../../libs/shared/dist/features/trading/hooks/useMarketPrice/index.js"),j=s("../../libs/shared/dist/features/limitOrders/context/OrderFormState.js"),g=s("../../libs/shared/dist/features/limitOrders/hooks/useQuote/index.js"),y=s("../../libs/shared/dist/features/limitOrders/components/CTA/index.js"),x=s("../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/MarketPriceInput.js");t.LimitOrdersForm=()=>{const{t:e}=(0,o.useTranslation)(),{selectedFromCoin:t,setSelectedFromCoin:s,selectedToCoin:r,setSelectedToCoin:v,fromAmount:k,setFromAmount:S,setFromSearchParam:T,setToSearchParam:w,isTokensLoading:P,fromCoins:C,toCoins:A,maxFromBalance:O,settingsData:M,openSettings:I,setSettingsData:E,setSlippage:R,setExpiry:D}=(0,h.useSharedTradingState)(),[N,L]=(0,n.useState)(k),{inputAmount:B,hasEditedInputAmount:F,setHasEditedInputAmount:U,setInputAmount:V,toAmount:W,setToAmount:q}=(0,j.useOrderFormState)(),{data:K}=(0,_.useMarketPrice)({inMint:t?.tokenId,outMint:r?.tokenId}),$=(0,f.convertDecimalsToAmount)(k,t.decimals),[G,H]=(0,n.useState)(!1),{data:Q,isLoading:Y,refetch:z,isFetching:J,isError:X,isSuccess:Z}=(0,g.useQuote)({inMint:t?.tokenId,outMint:r?.tokenId,inAmount:isNaN(+$)?"":$,price:F?+B:K?.price}),ee=(0,n.useRef)((0,d.debounce)((e=>L(e)),1e3)).current,te=(0,n.useRef)((0,d.debounce)((()=>z()),500)).current,se=({type:e,coin:i})=>{if({from:t,to:r}[e]===i)return;const a={from:s,to:v},n={from:T,to:w};if(U(!1),H(!0),"from"===e&&r===i||"to"===e&&t===i)return ie(),void n[e](null);a[e](i),n[e](null)},ie=()=>{const e=W.replace(/,/g,"");+k&&S((0,c.convertToRegularNum)(e||0,r.decimals)),U(!1),H(!0),s(r),v(t)};return(0,n.useEffect)((()=>{N&&+k==+N&&+N&&r.tokenId&&t.tokenId&&N!==k&&z()}),[N,k,z]),(0,n.useEffect)((()=>{k?(r.tokenId&&k||q(""),+k&&r.tokenId&&t.tokenId&&!F&&void 0!==K?.price&&z()):q("")}),[t.tokenId,r.tokenId,F,K?.price]),(0,n.useEffect)((()=>{if(!X&&Q||q(""),Z&&!J&&Q){const e=(0,f.convertTokensToDecimals)(Q.outAmount,r.decimals);H(!1),q((0,m.displayPrice)({displayType:"solana",amount:(0,c.convertToRegularNum)(e,r.decimals)}))}}),[Q,X,J,Z,q]),(0,n.useEffect)((()=>{(async()=>{const{refetch:e}=M||{};if(e&&!I&&M){k&&z();const{slippage:e,expiry:t}=M;R({value:Math.round(100*e),label:String(e)}),await u.default.swapSlippage.set(+e),D(t),await u.default.limitOrderExpiry.set(+t),E(void 0)}})()}),[k,M,I,E,R,D,z]),(0,a.jsxs)(l.TradeContent,{children:[(0,a.jsx)(l.SwapAssets,{from:(0,a.jsx)(l.SwapInput,{onBlur:()=>S((e=>""===k?"":(0,c.convertToRegularNum)(e,t.decimals))),placeholder:"0",amount:k,onAmountChange:e=>{let{value:s}=e.target;s=s.trim();try{const e=(0,b.resolveAmountInput)(s,t.decimals);S(e),+e||q(""),ee(+e)}catch(e){i.log(e)}},isLoading:P,id:"fromDefault",onSearchChange:e=>T(e.target.value),selectedToken:t,onSelectedTokenChange:e=>se({type:"from",coin:e}),onOpenChange:e=>{e||T(null)},label:(0,a.jsx)(l.Label,{htmlFor:"fromDefault",children:e("sell_label")}),right:(0,a.jsx)(l.RightLabel,{onClick:()=>{O&&t.tokenId&&r.tokenId&&(te(),S(O.toString()),N||L(O.toString()))},children:(0,m.displayPrice)({displayType:"solana",amount:O||0,prefix:`${e("swap_max")}: `})}),tokens:C,unverifiedTooltip:e("unverified_token_tooltip")}),to:(0,a.jsx)(l.SwapInput,{placeholder:"0",amount:W,id:"toDefault",readOnly:!0,isLoading:P,isLoadingAmount:J&&!Y&&!!k||G,onSearchChange:e=>w(e.target.value),onOpenChange:e=>{e||w(null)},selectedToken:r,onSelectedTokenChange:e=>se({type:"to",coin:e}),label:(0,a.jsxs)(l.Label,{htmlFor:"toDefault",children:[e("buy_label"),(0,a.jsx)(l.InfoTooltip,{tooltip:e("trading_buy_tooltip")})]}),right:(0,a.jsx)(l.RightLabel,{htmlFor:"toDefault",children:(0,m.displayPrice)({displayType:"solana",amount:r.rawAmount||0,prefix:`${e("table_balance")}: `})}),tokens:A,unverifiedTooltip:e("unverified_token_tooltip")}),onSwapDividerClick:ie,dividerButtonDisabled:!r.isAta||J}),(0,a.jsxs)(l.TradePrice,{children:[(0,a.jsx)(x.MarketPriceInput,{}),p.isExtensionPopup&&(0,a.jsx)(y.CTA,{variant:"inContent"})]})]})}},"../../libs/shared/dist/features/limitOrders/components/OpenOrder/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenOrder=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/rise-ui/dist/index.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/units.js"),c=s("../../libs/shared/dist/features/limitOrders/hooks/index.js");t.OpenOrder=({order:e,mints:t,showOrderDetails:s})=>{const{t:i}=(0,a.useTranslation)(),{cancel:m}=(0,c.useCancelOrder)(),p=t[e.mintOutput],f=(0,u.convertTokensToDecimals)(e.amountOutput,p?.decimals),b=(0,u.convertTokensToDecimals)(e.amountInput-e.amountInputLeft,p?.decimals),h=t[e.mintInput],_=(0,u.convertTokensToDecimals)(e.amountInput,h?.decimals),j=t[e.mintFrom],g=t[e.mintDenomination],y=`${+b?(0,l.displayPrice)({amount:b,displayType:"value"}):0}/${(0,l.displayPrice)({amount:f,displayType:"value"})} ${p?.symbol}`,x=+e.price;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Breakpoint,{bp:"lg",match:"down",children:(0,r.jsxs)(n.OrderCard,{onClick:()=>s({order:e,sellToken:h,buyToken:p,fromMint:j,denominationMint:g}),header:(0,r.jsx)(n.OrderCardHeader,{label:i("buy_label"),value:(0,l.displayPrice)({amount:f,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"s",src:p?.logoUrl||void 0,alt:"Order value",verified:p?.verified}),right:(0,r.jsx)(n.Button,{size:"s",variant:"secondary",onClick:t=>{t.stopPropagation(),m(e,h)},children:i("action_cancel")})}),progress:(0,r.jsx)(n.OrderProgressLine,{value:(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%"}),children:[(0,r.jsx)(n.OrderCardFooterLeft,{label:i("sell_label"),value:(0,l.displayPrice)({amount:_,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:h?.logoUrl||void 0,alt:"Order value",verified:h?.verified})}),"buy"===e.direction?(0,r.jsx)(n.OrderCardFooterRight,{label:i("buy_at_price_label",{token:j?.symbol}),value:(0,l.displayPrice)({amount:x,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:g?.logoUrl||void 0,alt:"Order value",verified:g?.verified})}):(0,r.jsx)(n.OrderCardFooterRight,{label:i("sell_at_price_label",{token:j?.symbol}),value:(0,l.displayPrice)({amount:x,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:g?.logoUrl||void 0,alt:"Order value",verified:g?.verified})})]},`open-order-${e.orderKey}`)}),(0,r.jsx)(o.Breakpoint,{bp:"lg",match:"up",children:(0,r.jsxs)(o.TableRow,{hover:!0,onClick:()=>s({order:e,sellToken:h,buyToken:p,fromMint:j,denominationMint:g}),children:[(0,r.jsx)(o.TableCell,{scope:"row",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,r.jsx)(d.default,{size:"xs",src:p?.logoUrl||void 0,alt:"Order value",verified:p?.verified})," ",(0,l.displayPrice)({amount:f,displayType:"value"})]})}),(0,r.jsx)(o.TableCell,{scope:"row",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,r.jsx)(d.default,{size:"xs",src:h?.logoUrl||void 0,alt:"Order value",verified:h?.verified})," ",(0,l.displayPrice)({amount:_,displayType:"value"})]})}),(0,r.jsx)(o.TableCell,{scope:"row",children:(e.direction,(0,r.jsxs)(r.Fragment,{children:[(0,l.displayPrice)({amount:x,displayType:"value"})," ",g?.symbol," per ",j?.symbol]}))}),(0,r.jsx)(o.TableCell,{scope:"row",children:y}),(0,r.jsx)(o.TableCell,{children:(0,r.jsx)(n.Button,{size:"s",variant:"secondary",onClick:t=>{t.stopPropagation(),m(e,h)},children:i("action_cancel")})})]})})]})}},"../../libs/shared/dist/features/limitOrders/components/OpenOrderDetails/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenOrderDetails=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),d=s("../../libs/shared/dist/components/UniversalModal/index.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/humanDate.js"),c=s("../../libs/shared/dist/utils/units.js");t.OpenOrderDetails=({order:e,buyToken:t,sellToken:s,fromMint:i,denominationMint:m,onClose:p,onCancelOrder:f})=>{const{t:b}=(0,a.useTranslation)(),h=(0,c.convertTokensToDecimals)(e.amountOutput,t?.decimals),_=(0,c.convertTokensToDecimals)(e.amountInput,s?.decimals),j=(0,c.convertTokensToDecimals)((e.amountOutput-e.amountOutputLeft)/e.amountOutput,t?.decimals),g=`${+j?(0,l.displayPrice)({amount:j,displayType:"value"}):0}/${h}`,y=(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%";return(0,r.jsx)(d.UniversalModal,{title:b("limit_orders_open_order_details_title"),textAlign:"left",onClose:p,footer:(0,r.jsx)(n.Button,{variant:"destructive",onClick:f,children:b("limit_orders_open_order_details_cta")}),children:(0,r.jsxs)(n.DetailsSection,{children:[(0,r.jsx)(n.DetailsSectionRow,{title:b("buy_label"),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{size:"s",src:t?.logoUrl||void 0,verified:t?.verified}),h," ",t?.symbol]})}),(0,r.jsx)(n.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(n.DetailsSectionRow,{title:b("sell_label"),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{size:"s",src:s?.logoUrl||void 0,verified:s?.verified}),_," ",s?.symbol]})}),(0,r.jsx)(n.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(n.DetailsSectionRow,{title:b("buy_at_price_label",{token:i?.symbol}),content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{size:"s",src:m?.logoUrl||void 0,verified:m?.verified}),+e.price," ",m?.symbol]})}),(0,r.jsx)(n.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(n.DetailsSectionRow,{title:b("limit_orders_open_order_details_filled_size"),content:(0,r.jsxs)(r.Fragment,{children:[g,(0,r.jsx)(n.TextXS,{children:y})]})}),(0,r.jsx)(n.Divider,{fullWidthNegativeMargin:!0}),(0,r.jsx)(n.DetailsSectionRow,{title:b("limit_orders_open_order_details_expiry"),content:e.expiredAt?(0,u.shortDateFormat)(e.expiredAt):b("limit_orders_open_order_details_expiry_never")})]})})}},"../../libs/shared/dist/features/limitOrders/components/OpenOrdersList/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/@mui/styles/index.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/rise-ui/dist/index.js"),u=s("../../libs/shared/dist/features/limitOrders/hooks/index.js"),c=s("../../libs/shared/dist/features/limitOrders/queries/index.js"),m=s("../../libs/shared/dist/features/limitOrders/components/OpenOrder/index.js"),p=s("../../libs/shared/dist/features/limitOrders/components/OpenOrderDetails/index.js"),f=(0,n.makeStyles)((()=>({emptyStateContainer:{padding:"50px 0px 74px 0px"}}))),b=({children:e})=>{const{t}=(0,a.useTranslation)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsx)(l.Box,{p:2,children:(0,i.jsxs)(l.Table,{children:[(0,i.jsx)(l.TableHead,{children:(0,i.jsxs)(l.TableRow,{children:[(0,i.jsx)(l.TableCell,{align:"left",children:t("buy_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("sell_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("limit_price_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("limit_orders_open_order_details_filled_size")}),(0,i.jsx)(l.TableCell,{sx:{width:[50,110,110,110,110]}})]})}),(0,i.jsx)(l.TableBody,{children:e})]})})}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.List,{gapSize:"gapM",children:e})})]})};t.default=()=>{const{t:e}=(0,a.useTranslation)(),{orders:t,mints:s,isLoading:n}=(0,c.useOpenOrdersQuery)(),{cancel:h}=(0,u.useCancelOrder)(),_=f(),[j,g]=(0,r.useState)();return n?(0,i.jsx)(b,{children:(0,o.times)(4).map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.OrderCard,{isLoading:!0},`loading-order-card-${t}`)}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsxs)(l.TableRow,{children:[(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row"})]})})]})))}):(0,o.isEmpty)(t)||(0,o.isEmpty)(s)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.EmptyState,{children:e("limit_orders_empty_open_orders_tab")})}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsx)("div",{className:_.emptyStateContainer,children:(0,i.jsx)(d.EmptyState,{children:e("limit_orders_empty_open_orders_tab")})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b,{children:t&&s&&t.map((e=>(0,i.jsx)(m.OpenOrder,{order:e,mints:s,showOrderDetails:g},`open-order-${e.orderKey}`)))}),j&&(0,i.jsx)(p.OpenOrderDetails,{...j,onClose:()=>g(void 0),onCancelOrder:()=>{h(j.order,j.sellToken),g(void 0)}})]})}},"../../libs/shared/dist/features/limitOrders/components/OrderHistory/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OrderHistory=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/rise-ui/dist/index.js"),d=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/humanDate.js"),c=s("../../libs/shared/dist/utils/units.js");t.OrderHistory=({order:e,mints:t,showOrderDetails:s})=>{const{t:i}=(0,a.useTranslation)(),m=t[e.mintOutput],p=(0,c.convertTokensToDecimals)(e.amountOutput,m?.decimals),f=t[e.mintInput],b=(0,c.convertTokensToDecimals)(e.amountInput,f?.decimals),h=t[e.mintFrom],_=t[e.mintDenomination],j=+e.price;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Breakpoint,{bp:"lg",match:"down",children:(0,r.jsxs)(n.OrderCard,{onClick:()=>s({order:e,sellToken:f,buyToken:m,fromMint:h,denominationMint:_}),header:(0,r.jsx)(n.OrderCardHeader,{label:i("bought_label"),value:(0,l.displayPrice)({amount:p,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"s",src:m?.logoUrl||void 0,alt:"Order value",verified:m?.verified}),right:e.updatedAt?(0,u.humanDate)(e.updatedAt,!1,!1):"",state:"success"}),progress:(0,r.jsx)(n.OrderProgressLine,{value:(e.amountOutput-e.amountOutputLeft)*BigInt(100)/e.amountOutput+"%"}),children:[(0,r.jsx)(n.OrderCardFooterLeft,{label:i("sold_label"),value:(0,l.displayPrice)({amount:b,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:f?.logoUrl||void 0,alt:"Order value",verified:f?.verified})}),"buy"===e.direction?(0,r.jsx)(n.OrderCardFooterRight,{label:i("bought_at_price_label",{token:h?.symbol}),value:(0,l.displayPrice)({amount:j,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:_?.logoUrl||void 0,alt:"Order value",verified:_?.verified})}):(0,r.jsx)(n.OrderCardFooterRight,{label:i("sold_at_price_label",{token:h?.symbol}),value:(0,l.displayPrice)({amount:j,displayType:"value"}),avatar:(0,r.jsx)(d.default,{size:"xs",src:_?.logoUrl||void 0,alt:"Order value",verified:_?.verified})})]},`OderHistory-${e.orderKey}`)}),(0,r.jsx)(o.Breakpoint,{bp:"lg",match:"up",children:(0,r.jsxs)(o.TableRow,{hover:!0,onClick:()=>s({order:e,sellToken:f,buyToken:m,fromMint:h,denominationMint:_}),children:[(0,r.jsx)(o.TableCell,{scope:"row",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,r.jsx)(d.default,{size:"xs",src:m?.logoUrl||void 0,alt:"Order value",verified:m?.verified})," ",(0,l.displayPrice)({amount:p,displayType:"value"})]})}),(0,r.jsx)(o.TableCell,{scope:"row",children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[(0,r.jsx)(d.default,{size:"xs",src:f?.logoUrl||void 0,alt:"Order value",verified:f?.verified})," ",(0,l.displayPrice)({amount:b,displayType:"value"})]})}),(0,r.jsx)(o.TableCell,{scope:"row",children:(e.direction,(0,r.jsxs)(r.Fragment,{children:[(0,l.displayPrice)({amount:j,displayType:"value"})," ",_?.symbol," per ",h?.symbol]}))}),(0,r.jsx)(o.TableCell,{scope:"row",children:e.updatedAt?(0,u.humanDate)(e.updatedAt,!1,!1):""}),(0,r.jsx)(o.TableCell,{scope:"row"})]})})]})}},"../../libs/shared/dist/features/limitOrders/components/Orders/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Orders=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/@mui/styles/index.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/rise-ui/dist/index.js"),l=s("../../libs/shared/dist/utils/extension.js"),u=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),c=i(s("../../libs/shared/dist/features/limitOrders/components/OpenOrdersList/index.js")),m=i(s("../../libs/shared/dist/features/limitOrders/components/OrdersHistoryList/index.js")),p=(0,n.makeStyles)((()=>({ordersWebContainer:{display:"flex",flexDirection:"column",width:"420px",padding:"0px 16px",borderRadius:"10px"}}))),f=({children:e})=>{const t=p();return l.isExtensionPopup?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)("div",{className:t.ordersWebContainer,children:e})};t.Orders=()=>{const{activeTab:e}=(0,u.useSharedTradingState)(),[t,s]=(0,a.useState)("open-orders");return"swap"===e?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Breakpoint,{bp:"lg",match:"down",children:(0,r.jsx)(f,{children:(0,r.jsx)(o.TabsContainer,{activeTab:t,onChange:s,tabs:[{value:"open-orders",label:"Open orders",content:(0,r.jsx)(c.default,{})},{value:"order-history",label:"Order history",content:(0,r.jsx)(m.default,{})}]})})}),(0,r.jsx)(d.Breakpoint,{bp:"lg",match:"up",children:(0,r.jsx)(d.TabView,{defaultActiveTab:"openOrders",tabOrder:["openOrders","orderHistory"],tabs:{openOrders:{tabName:"Open orders",render:(0,r.jsx)(c.default,{})},orderHistory:{tabName:"Order history",render:(0,r.jsx)(m.default,{})}}})})]})}},"../../libs/shared/dist/features/limitOrders/components/OrdersHistoryList/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/@mui/styles/index.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/rise-ui/dist/index.js"),u=s("../../libs/shared/dist/features/limitOrders/queries/index.js"),c=s("../../libs/shared/dist/features/limitOrders/components/CompletedOrderDetails/index.js"),m=s("../../libs/shared/dist/features/limitOrders/components/OrderHistory/index.js"),p=(0,n.makeStyles)((()=>({emptyStateContainer:{padding:"50px 0px 74px 0px"}}))),f=({children:e})=>{const{t}=(0,a.useTranslation)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsx)(l.Box,{p:2,children:(0,i.jsxs)(l.Table,{children:[(0,i.jsx)(l.TableHead,{children:(0,i.jsxs)(l.TableRow,{children:[(0,i.jsx)(l.TableCell,{align:"left",children:t("bought_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("sold_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("limit_price_label")}),(0,i.jsx)(l.TableCell,{align:"left",children:t("time_completed_label")}),(0,i.jsx)(l.TableCell,{sx:{width:[50,110,110,110,110]}})]})}),(0,i.jsx)(l.TableBody,{children:e})]})})}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.List,{gapSize:"gapM",children:e})})]})};t.default=()=>{const{t:e}=(0,a.useTranslation)(),{orders:t,mints:s,isLoading:n}=(0,u.useOrdersHistoryQuery)(),b=p(),[h,_]=(0,r.useState)();return n?(0,i.jsx)(f,{children:(0,o.times)(4).map(((e,t)=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.OrderCard,{isLoading:!0},`loading-order-card-${t}`)}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsxs)(l.TableRow,{children:[(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row",children:(0,i.jsx)(d.Skeleton,{__width:"70px",__height:"16px"})}),(0,i.jsx)(l.TableCell,{scope:"row"})]})})]})))}):(0,o.isEmpty)(t)||(0,o.isEmpty)(s)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"down",children:(0,i.jsx)(d.EmptyState,{children:e("limit_orders_empty_order_history_tab")})}),(0,i.jsx)(l.Breakpoint,{bp:"lg",match:"up",children:(0,i.jsx)("div",{className:b.emptyStateContainer,children:(0,i.jsx)(d.EmptyState,{children:e("limit_orders_empty_order_history_tab")})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{children:t&&s&&t.map((e=>(0,i.jsx)(m.OrderHistory,{order:e,mints:s,showOrderDetails:_},`order-history-${e.orderKey}`)))}),h&&(0,i.jsx)(c.CompletedOrderDetails,{...h,onClose:()=>_(void 0)})]})}},"../../libs/shared/dist/features/limitOrders/components/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OrdersHistoryList=t.Orders=t.OpenOrdersList=t.CTA=void 0;var r=s("../../libs/shared/dist/features/limitOrders/components/CTA/index.js");Object.defineProperty(t,"CTA",{enumerable:!0,get:function(){return r.CTA}});var a=s("../../libs/shared/dist/features/limitOrders/components/OpenOrdersList/index.js");Object.defineProperty(t,"OpenOrdersList",{enumerable:!0,get:function(){return i(a).default}});var n=s("../../libs/shared/dist/features/limitOrders/components/Orders/index.js");Object.defineProperty(t,"Orders",{enumerable:!0,get:function(){return n.Orders}});var o=s("../../libs/shared/dist/features/limitOrders/components/OrdersHistoryList/index.js");Object.defineProperty(t,"OrdersHistoryList",{enumerable:!0,get:function(){return i(o).default}})},"../../libs/shared/dist/features/limitOrders/container.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LimitOrders=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../libs/foundation-ui/dist/index.js"),a=s("../../libs/shared/dist/utils/extension.js"),n=s("../../libs/shared/dist/features/limitOrders/components/LimitOrdersForm/index.js"),o=s("../../libs/shared/dist/features/limitOrders/context/OrderFormState.js"),d=s("../../libs/shared/dist/features/limitOrders/components/index.js");t.LimitOrders=({orders:e})=>(0,i.jsxs)(o.OrderFormStateProvider,{children:[(0,i.jsx)(r.PageContent,{overflow:!0,children:(0,i.jsxs)(r.LimitOrderContent,{children:[(0,i.jsx)(n.LimitOrdersForm,{}),e]})}),!a.isExtensionPopup&&(0,i.jsx)(d.CTA,{variant:"fixed"})]})},"../../libs/shared/dist/features/limitOrders/context/OrderFormState.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOrderFormState=t.OrderFormStateProvider=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/shared/dist/utils/common.js"),o=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),d=s("../../libs/shared/dist/features/trading/hooks/useMarketPrice/index.js"),l=(0,r.createContext)({inputAmount:"",setInputAmount:()=>{},toAmount:"",setToAmount:()=>{},hasEditedInputAmount:!1,setHasEditedInputAmount:()=>{},inputError:"",handleAmountChange:()=>{},marketPriceData:void 0,isLoadingMarketPrice:!0,isFetchingMarketPrice:!0});t.OrderFormStateProvider=({children:e})=>{const{t}=(0,a.useTranslation)(),[s,u]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[b,h]=(0,r.useState)(""),{selectedFromCoin:_,selectedToCoin:j,fromAmount:g}=(0,o.useSharedTradingState)(),{data:y,isLoading:x,isFetching:v}=(0,d.useMarketPrice)({inMint:_?.tokenId,outMint:j?.tokenId});(0,r.useEffect)((()=>{if(!p)return void h("");const e=((e,t)=>+((e-t)/t*100).toFixed(2))(+s,y?.price||0);if(+s>0&&g){if("buy"===y?.direction&&e>.05)return void h(t("limit_order_market_price_input_higher_error",{percentageDifference:e}));if("sell"===y?.direction&&e<-.05)return void h(t("limit_order_market_price_input_lower_error",{percentageDifference:Math.abs(e)}))}h("")}),[s,y,p,g,t]);const k=(0,r.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,n.isValidPositiveNumber)(t);if("."===t||","===t)return u("0."),void f(!0);(0,n.hasValidDecimals)(t,20)&&s&&(u(t),f(!0))}),[]),S=(0,r.useMemo)((()=>({inputAmount:s,setInputAmount:u,toAmount:c,setToAmount:m,hasEditedInputAmount:p,setHasEditedInputAmount:f,inputError:b,handleAmountChange:k,marketPriceData:y,isLoadingMarketPrice:x,isFetchingMarketPrice:v})),[s,c,p,b,y,x,v,u,m,k]);return(0,i.jsx)(l.Provider,{value:S,children:e})},t.useOrderFormState=()=>{const e=(0,r.useContext)(l);if(!e)throw new Error("useOrderFormState must be used within a OrderFormStateProvider");return e}},"../../libs/shared/dist/features/limitOrders/hooks/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateOrder=t.useCancelOrder=void 0;var i=s("../../libs/shared/dist/features/limitOrders/hooks/useCancelOrder/index.js");Object.defineProperty(t,"useCancelOrder",{enumerable:!0,get:function(){return i.useCancelOrder}});var r=s("../../libs/shared/dist/features/limitOrders/hooks/useCreateOrder/index.js");Object.defineProperty(t,"useCreateOrder",{enumerable:!0,get:function(){return r.useCreateOrder}})},"../../libs/shared/dist/features/limitOrders/hooks/useCancelOrder/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCancelOrder=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),d=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCancelLimitOrder.js")),l=s("../../libs/shared/dist/utils/units.js"),u=s("../../libs/shared/dist/wallet/index.js"),c=s("../../libs/shared/dist/features/limitOrders/api/index.js");t.useCancelOrder=()=>{const{t:e}=(0,n.useTranslation)(),{wallet:{publicKey:t,accountName:s,instance:i},transactionInit:m}=(0,u.useSolflareWallet)(),p=(0,o.useQueryClient)();return{cancel:(0,a.useCallback)((async(i,a)=>{await m({txBuilder:c.cancelOrder,builderParams:{publicKey:t,orders:[i.orderKey],setComputeBudget:!0},commitment:"confirmed",title:e("limit_orders_cancel_order_confirmation_title"),onConfirm:async()=>{p.resetQueries(["openOrders"])},confirmDialog:(0,r.jsx)(d.default,{amount:(0,l.convertTokensToDecimals)(i.amountInputLeft,a.decimals),tokenImage:a.logoUrl||void 0,tokenSymbol:a.symbol||void 0,tokenVerified:a.verified,toPubkey:t,toName:s})})}),[t,s,p,m,e])}}},"../../libs/shared/dist/features/limitOrders/hooks/useCreateOrder/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateOrder=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),d=i(s("../../../node_modules/dayjs/dayjs.min.js")),l=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCreateLimitOrder.js")),u=s("../../libs/shared/dist/utils/units.js"),c=s("../../libs/shared/dist/wallet/index.js"),m=s("../../libs/shared/dist/features/trading/constants.js"),p=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),f=s("../../libs/shared/dist/features/limitOrders/api/index.js");t.useCreateOrder=()=>{const{t:e}=(0,n.useTranslation)(),{wallet:{publicKey:t,instance:s},transactionInit:i}=(0,c.useSolflareWallet)(),{selectedFromCoin:b,selectedToCoin:h,fromAmount:_,expiry:j}=(0,p.useSharedTradingState)(),g=(0,o.useQueryClient)(),y=(0,u.convertDecimalsToAmount)(_,b.decimals);return{create:(0,a.useCallback)((async s=>{const a=(0,u.convertDecimalsToAmount)(s,h.decimals);await i({txBuilder:f.createOrder,builderParams:{publicKey:t,inMint:b.tokenId,outMint:h.tokenId,inAmount:isNaN(+y)?"":y,outAmount:isNaN(+a)?"":a,setComputeBudget:!0,expiredAt:j!==m.EXPIRY_VALUES.NEVER?((0,d.default)(new Date).add(j,"minutes").valueOf()/1e3).toString():void 0},commitment:"confirmed",title:e("limit_orders_create_order_confirmation_title"),onConfirm:async()=>{g.resetQueries(["openOrders"])},confirmDialog:(0,r.jsx)(l.default,{fromAmount:_,fromSymbol:b.symbol,fromTokenImage:b.logoURI,fromTokenVerified:b.verified,toAmount:s,toSymbol:h.symbol,toTokenImage:h.logoURI,toTokenVerified:h.verified})})}),[_,t,y,b,h,g,j,i,e])}}},"../../libs/shared/dist/features/limitOrders/hooks/useQuote/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useQuote=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/features/limitOrders/api/index.js");t.useQuote=({inMint:e,outMint:t,inAmount:s,price:a=0,feeBps:n=10})=>(0,i.useQuery)({queryKey:["limitOrderQuote"],queryFn:()=>(0,r.getQuote)({inMint:e,outMint:t,inAmount:s,price:a,feeBps:n}),retry:!1,enabled:!1,cacheTime:0})},"../../libs/shared/dist/features/limitOrders/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LimitOrderWeb=t.default=void 0;var i=s("../../libs/shared/dist/features/limitOrders/limitOrders.ext.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.LimitOrderExt}});var r=s("../../libs/shared/dist/features/limitOrders/limitOrders.web.js");Object.defineProperty(t,"LimitOrderWeb",{enumerable:!0,get:function(){return r.LimitOrderWeb}})},"../../libs/shared/dist/features/limitOrders/limitOrders.ext.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LimitOrderExt=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../libs/shared/dist/features/limitOrders/components/index.js"),a=s("../../libs/shared/dist/features/limitOrders/container.js");t.LimitOrderExt=()=>(0,i.jsx)(a.LimitOrders,{orders:(0,i.jsx)(r.Orders,{})})},"../../libs/shared/dist/features/limitOrders/limitOrders.web.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LimitOrderWeb=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../libs/shared/dist/features/limitOrders/container.js");t.LimitOrderWeb=()=>(0,i.jsx)(r.LimitOrders,{})},"../../libs/shared/dist/features/limitOrders/queries/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOrdersHistoryQuery=t.useOpenOrdersQuery=void 0;var i=s("../../libs/shared/dist/features/limitOrders/queries/openOrdersQuery.js");Object.defineProperty(t,"useOpenOrdersQuery",{enumerable:!0,get:function(){return i.useOpenOrdersQuery}});var r=s("../../libs/shared/dist/features/limitOrders/queries/ordersHistoryQuery.js");Object.defineProperty(t,"useOrdersHistoryQuery",{enumerable:!0,get:function(){return r.useOrdersHistoryQuery}})},"../../libs/shared/dist/features/limitOrders/queries/openOrdersQuery.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOpenOrdersQuery=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/wallet/index.js"),a=s("../../libs/shared/dist/features/currencies/index.js"),n=s("../../libs/shared/dist/features/limitOrders/api/index.js");t.useOpenOrdersQuery=()=>{const{wallet:e}=(0,r.useSolflareWallet)(),t=(0,a.useCurrentCurrency)(),{data:{orders:s,mints:o}={},isLoading:d,isFetching:l}=(0,i.useQuery)({queryKey:["openOrders",e.publicKey,t.ticker],queryFn:()=>(0,n.getOpenOrders)(e.publicKey,t.ticker),refetchInterval:5e3});return{orders:s,mints:o,isLoading:d,isFetching:l}}},"../../libs/shared/dist/features/limitOrders/queries/ordersHistoryQuery.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOrdersHistoryQuery=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/wallet/index.js"),a=s("../../libs/shared/dist/features/currencies/index.js"),n=s("../../libs/shared/dist/features/limitOrders/api/index.js");t.useOrdersHistoryQuery=()=>{const{wallet:e}=(0,r.useSolflareWallet)(),t=(0,a.useCurrentCurrency)(),{data:{orders:s,mints:o}={},isLoading:d}=(0,i.useQuery)({queryKey:["orders-history",e.publicKey,t.ticker],queryFn:()=>(0,n.getOrdersHistory)(e.publicKey,t.ticker)});return{orders:s,mints:o,isLoading:d}}},"../../libs/shared/dist/features/onramper/components/OnramperBuyModal/VideoContent/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/assets/onramper-info.mp4"));t.default=({onContinue:e})=>{const{t}=(0,a.useTranslation)();return(0,r.jsx)(n.WhatsNew,{cta:{title:t("action_continue"),action:e},steps:[{videoSrc:o.default}]})}},"../../libs/shared/dist/features/onramper/components/OnramperBuyModal/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/@mui/styles/index.js"),o=i(s("../../../node_modules/bs58/index.js")),d=s("../../libs/wallet-core/dist/shared.js"),l=s("../../libs/foundation-ui/dist/index.js"),u=s("../../libs/rise-ui/dist/index.js"),c=i(s("../../libs/shared/dist/storage/solflareService.js")),m=s("../../libs/shared/dist/utils/extension.js"),p=s("../../libs/shared/dist/utils/requestId.js"),f=s("../../libs/shared/dist/wallet/index.js"),b=s("../../libs/shared/dist/features/featureFlags/onramper/index.js"),h=s("../../libs/shared/dist/features/featureFlags/utils.js"),_=s("../../libs/shared/dist/features/settings/index.js"),j=s("../../libs/shared/dist/features/onramper/utils.js"),g=i(s("../../libs/shared/dist/features/onramper/components/OnramperBuyModal/VideoContent/index.js")),y=(0,n.makeStyles)((()=>({dialogScreenPaper:{padding:"0px",width:"auto",borderRadius:"20px",boxShadow:"none"},content:{padding:"0px !important",borderRadius:"20px",overflow:"hidden"}})));t.default=({token:e,onCancel:t,source:s})=>{const i=y(),{wallet:n,publicKey:x}=(0,f.useSolflareWallet)(),{cluster:v}=(0,_.useNetwork)(),[k,S]=(0,a.useState)(null),T=(0,a.useCallback)((async()=>{if(!x)return null;const t=n.instance&&n.instance.type in d.TRACKING_WALLET_TYPES?d.TRACKING_WALLET_TYPES[n.instance.type]:255,i=(0,h.getFeatureFlagsOrigin)(),r={publicKey:x,network:v,wt:t,origin:i,user_platform:"web",source:s},a=await c.default.solflarenetwork.get(),l=(0,p.generateRandomIdFromSeed)(a);l&&(r.id=l);const u=o.default.encode((new TextEncoder).encode(JSON.stringify(r)));return(0,j.getOnrampURL)(x,u,e.onrampTokenId)}),[v,x,s,e.onrampTokenId,n.instance?.type]),w=k?(0,r.jsx)("iframe",{width:375,height:600,style:{border:0,display:"block"},src:k}):(0,r.jsx)(g.default,{onContinue:async()=>{const e=await T();m.isExtension&&!m.isExpandedView?(window.open(e??"","_blank","width=450,height=750"),t()):S(e),(0,b.logOnRamperBuyRoute)(s)}});return m.isExtension&&!m.isExpandedView?(0,r.jsx)(l.FullPageModal,{open:!0,children:w}):(0,r.jsx)(u.Modal,{open:!0,disableBackdropClick:!0,contentClassName:i.content,dialogPaperClassName:i.dialogScreenPaper,onClose:t,children:w})}},"../../libs/shared/dist/features/onramper/components/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OnramperBuyModal=void 0;var r=s("../../libs/shared/dist/features/onramper/components/OnramperBuyModal/index.js");Object.defineProperty(t,"OnramperBuyModal",{enumerable:!0,get:function(){return i(r).default}})},"../../libs/shared/dist/features/onramper/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.OnramperBuyModal=void 0;var a=s("../../libs/shared/dist/features/onramper/components/index.js");Object.defineProperty(t,"OnramperBuyModal",{enumerable:!0,get:function(){return a.OnramperBuyModal}}),r(s("../../libs/shared/dist/features/onramper/types.js"),t)},"../../libs/shared/dist/features/onramper/types.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"../../libs/shared/dist/features/onramper/utils.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeQuery=t.getOnrampURL=void 0;const i=s("../../libs/foundation-ui/dist/index.js");t.getOnrampURL=(e,s,i)=>`https://buy.onramper.com?apiKey=pk_prod_01HGD8ENSBSM0EG0N0RKW2Y6A2&partnerContext=${s}&mode=buy&onlyCryptoNetworks=solana&defaultCrypto=${i}&networkWallets=solana:${e}${(0,t.getThemeQuery)()}`,t.getThemeQuery=()=>{const e=i.solflareTokens.semanticColorsOnramperPrimaryDefault.replace("#",""),t=i.solflareTokens.semanticColorsOnramperSecondaryDefault.replace("#",""),s=i.solflareTokens.semanticColorsOnramperTextPrimaryDefault.replace("#","");return`&themeName=dark&primaryColor=${e}&secondaryColor=${t}&containerColor=${i.solflareTokens.semanticColorsOnramperSurfaceElevation0.replace("#","")}&cardColor=ffffff0f&primaryTextColor=${s}&secondaryTextColor=ffffff66&borderRadius=${i.solflareTokens.semanticBorderRadiusSurface/16}`}},"../../libs/shared/dist/features/portfolio/api/computeUnit.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getComputeUnitPrice=void 0;const r=i(s("../../../node_modules/axios/dist/browser/axios.cjs"));t.getComputeUnitPrice=async function(){try{const e=await r.default.get("https://priority-fee-api.solflare.com");return e?.data?.compute_unit_price||0}catch{return 0}}},"../../libs/shared/dist/features/portfolio/api/tokens.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTokensFilteredList=void 0;const i=s("../../libs/shared/dist/api/index.js"),r=s("../../libs/shared/dist/constants/networks.js");t.getTokensFilteredList=async function({term:e,cluster:t},{start:s=0,limit:a=50}={},n){const o={chainId:String(t&&r.CHAIN_IDS[t]?r.CHAIN_IDS[t]:r.CHAIN_IDS.mainnet),query:e||" "};"number"==typeof s&&(o.start=String(s)),"number"==typeof a&&(o.limit=String(a));const{body:d}=await(0,i.get)(`https://token-list-api.solana.cloud/v1/search?${new URLSearchParams(o)}`),l=d?.content||[];return n&&n.length?{totalReceivedItems:l.length,data:l.filter((e=>!n.includes(e.address)))}:{totalReceivedItems:l.length,data:l}}},"../../libs/shared/dist/features/portfolio/components/ManageAssets/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/components/UniversalModal/index.js"),u=s("../../libs/shared/dist/utils/truncateMiddle.js"),c=s("../../libs/shared/dist/features/settings/index.js"),m=s("../../libs/shared/dist/features/portfolio/api/tokens.js");t.default=({submit:e,onClose:t,portfolioList:s})=>{const{t:p}=(0,a.useTranslation)(),f=(0,c.useNetwork)(),b=(0,n.useQueryClient)(),h=(0,r.useMemo)((()=>(s||[]).map((e=>e.id))),[s]),_=e=>e.map((e=>({...e,title:e.name,subtitle:(0,u.truncateMiddle)(e.address)}))),{data:j,hasNextPage:g,fetchNextPage:y,refetch:x,isLoading:v}=(0,n.useInfiniteQuery)({queryKey:["manage-assets-filter",f.cluster],queryFn:async({pageParam:e=0})=>(0,m.getTokensFilteredList)({term:k,cluster:f.cluster},{start:e,limit:40},h).then((e=>({...e,data:_(e.data)}))),getNextPageParam:(e,t)=>!e||e.totalReceivedItems<40?void 0:40*t.length,enabled:!1});(0,r.useEffect)((()=>{x()}),[x]);const[k,S]=(0,r.useState)(""),T=(0,r.useRef)((0,o.debounce)(x,200)).current,{tokens:w,tokensById:P}=(0,r.useMemo)((()=>{const e=(0,o.keyBy)((j?.pages?.map((e=>e.data))||[])?.flat(),"address");return{tokens:Object.keys(e),tokensById:e}}),[j]),C=!v&&0===w.length;return(0,i.jsx)(l.UniversalModal,{onClose:t,title:p("portfolio_create_account_title"),textAlign:"left",contentInlineStyle:{maxHeight:500,minHeight:50},children:(0,i.jsx)(d.ManageAssetsList,{noResults:C,isLoading:v,data:w.map((e=>P[e])),onTokenClick:s=>{const i=P[s]??{address:s,name:"Unknown",logoURI:"",decimals:0,symbol:"Unknown"};e(i),t(),b.resetQueries(["manage-assets-filter"])},onSearch:e=>{b.resetQueries(["manage-assets-filter"]),S(e.target.value),T()},endReached:()=>g&&y(),placeholder:"Search by token name or address"})})}},"../../libs/shared/dist/features/portfolio/components/MonitorAccounts/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../libs/shared/dist/features/portfolio/hooks/useMonitorAccounts.js");t.default=()=>((0,i.useMonitorAccounts)(),null)},"../../libs/shared/dist/features/portfolio/components/SendModal/SendInfoBox/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=i(s("../../../node_modules/bignumber.js/bignumber.js")),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/utils/common.js"),u=s("../../libs/shared/dist/utils/displayPrice.js");t.default=({inputAmount:e,selectedToken:t})=>{const{t:s}=(0,n.useTranslation)(),i=(0,a.useMemo)((()=>{const s=t?.extensions?.find((e=>"transferFeeConfig"===e.extension));if(!s||!t)return!1;if(!e||0==+e)return{feePercentage:s.state?.newerTransferFee?.transferFeeBasisPoints/100,recipientGets:0};const i=o.default.min(new o.default(+e).multipliedBy(new o.default(s.state?.newerTransferFee?.transferFeeBasisPoints).div(1e4)),new o.default(s.state?.newerTransferFee?.maximumFee).div(new o.default(10).pow(t.decimals)));return{feePercentage:i.toNumber()/+e*100,recipientGets:+e-i.toNumber()}}),[e,t]);return i?(0,r.jsxs)(d.InfoTable,{children:[(0,r.jsx)(d.InfoRow,{left:(0,r.jsxs)(d.InfoRowLeft,{children:[s("send_transfer_fee"),(0,r.jsx)(d.InfoTooltip,{tooltip:s("send_transfer_fee_tooltip")})]}),right:(0,r.jsx)(d.InfoRowRight,{children:i.feePercentage?(0,u.displayPrice)({amount:i.feePercentage,displayType:"value",suffix:"%"}):"-"})}),(0,r.jsx)(d.InfoRow,{left:(0,r.jsxs)(d.InfoRowLeft,{children:[s("send_recepient_gets"),(0,r.jsx)(d.InfoTooltip,{tooltip:s("send_recepient_gets_tooltip")})]}),right:(0,r.jsx)(d.InfoRowRight,{children:i.recipientGets?`${(0,l.convertToRegularNum)(i.recipientGets,t?.decimals||0)} ${t?.symbol}`:"-"})})]}):null}},"../../libs/shared/dist/features/portfolio/components/SendModal/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/components/UniversalModal/index.js"),l=s("../../libs/shared/dist/constants/mints.js"),u=s("../../libs/shared/dist/utils/common.js"),c=s("../../libs/shared/dist/utils/displayPrice.js"),m=s("../../libs/shared/dist/utils/truncateMiddle.js"),p=s("../../libs/shared/dist/wallet/index.js"),f=s("../../libs/shared/dist/features/addressBook/context/RecentAddresses.js"),b=s("../../libs/shared/dist/features/recipientInput/index.js"),h=s("../../libs/shared/dist/features/recipientInput/utils/transformers.js"),_=s("../../libs/shared/dist/features/portfolio/hooks/useAlertProps.js"),j=s("../../libs/shared/dist/features/portfolio/hooks/useAmountInput.js"),g=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolio.js"),y=i(s("../../libs/shared/dist/features/portfolio/components/SendModal/SendInfoBox/index.js"));t.default=({onClose:e,providedAccount:t,tSource:s})=>{const{wallet:i}=(0,p.useSolflareWallet)(),{t:x}=(0,n.useTranslation)(),{saveAddress:v}=(0,b.useRecipientInput)(),{actions:k}=(0,g.usePortfolio)(),{inputAmount:S,setInputAmount:T,computedInputValue:w,handleAmountChange:P,solBalance:C,handleSelectedTokenChange:A,selectedToken:O,computeUnitPrice:M,filteredTokens:I,setSearchParam:E,maxAvailable:R}=(0,j.useAmountInput)({providedAccount:t}),D=O?.tokenId!==l.SOL_MINT_ADDRESS&&!O?.isAta,{selectedRecipient:N,saveAddressChecked:L}=(0,b.useRecipientInput)(D),{alertProps:B,isValidationLoading:F}=(0,_.useAlertProps)({computeUnitPrice:M,inputAmount:S,maxAvailable:R,selectedToken:O,recipientSameAddress:!D&&i.publicKey===N?.address,solBalance:C,recipient:N,walletType:i.instance?.type??""}),{upsertAddress:U}=(0,f.useRecentAddresses)(),V=!!B&&"error"===B.variant,W=V||!+S||!N||F,q=(0,a.useCallback)((async()=>{if(!O||!N)return!1;if(L&&!await v())return!1;const t=()=>{U(N.address)},i=()=>{e?.()},r=O.tokenId===l.SOL_MINT_ADDRESS,a=N.address,n=N.name??(0,m.truncateMiddle)(a);r?await k.transferSolana((0,h.transformSendTokenToApiToken)(O),a,S,n,s,O.isAta,O.priceInUsd,N.group,(()=>{t()}),(()=>{i()})):await k.transferToken((0,h.transformSendTokenToApiToken)(O),(0,h.transformSendTokenToApiTokenAccount)(O),a,S,n,s,O.isAta,O.priceInUsd,N.group,O.metadata,(()=>{t()}),(()=>{i()}))}),[k,S,e,v,L,N,O,s,U]);return(0,r.jsxs)(d.UniversalModal,{title:x("action_send"),textAlign:"left",onClose:e,contentInlineStyle:{marginBottom:-24},footer:(0,r.jsxs)(r.Fragment,{children:[B&&(0,r.jsx)(o.Alert,{...B}),(0,r.jsx)(o.Button,{processing:F,disabled:W,onClick:q,children:x("action_send")})]}),children:[O&&(0,r.jsx)(o.SendInput,{autoFocusAmount:!0,label:(0,r.jsx)(o.Label,{htmlFor:"send-input",children:x("table_token")}),right:(0,r.jsx)(o.RightLabel,{onClick:M?()=>{T((0,u.removeCommas)(R))}:void 0,children:(0,c.displayPrice)({displayType:"solana",amount:R||0,prefix:`${x("swap_max")}: `})}),amount:S,value:w,id:"send-input",onBlur:()=>{T((e=>e?(0,u.convertToRegularNum)(e,O.decimals):e))},onAmountChange:P,selectedToken:O,onSearchChange:e=>{E(e.target.value)},onOpenChange:e=>{e||E("")},tokens:I||[],emptyTokenSearch:x("search_empty_results"),onSelectedTokenChange:A,unverifiedTooltip:x("unverified_token_tooltip")}),(0,r.jsx)(b.RecipientInput,{hasErrors:V}),(0,r.jsx)(y.default,{inputAmount:S,selectedToken:O})]})}},"../../libs/shared/dist/features/portfolio/constants/common.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSFER_FEE=t.MIN_SOL_IN_WALLET=t.SOL_SYMBOL=t.TOKEN_ACCOUNT_RENT=t.RENT_EXEMPT_AMOUNT=t.BASE_FEE=void 0,t.BASE_FEE=5e3,t.RENT_EXEMPT_AMOUNT=890880,t.TOKEN_ACCOUNT_RENT=2039280,t.SOL_SYMBOL="SOL",t.MIN_SOL_IN_WALLET="0.01",t.TRANSFER_FEE="transferFeeConfig"},"../../libs/shared/dist/features/portfolio/context/PortfolioState.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolioState=t.PortfolioStateProvider=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../libs/shared/dist/features/featureFlags/onramper/index.js"),n=(0,r.createContext)({receiveModal:!1,openReceiveModal:()=>null,closeReceiveModal:()=>null,createTokenModal:!1,openCreateTokenModal:()=>null,closeCreateTokenModal:()=>null,transferModal:!1,openTransferModal:()=>null,closeTransferModal:()=>null,splTransferModal:!1,splTransferToken:null,providedAccount:void 0,openSplTransferModal:()=>null,closeSplTransferModal:()=>null,splDelegateModal:!1,splDelegateToken:null,openSplDelegateModal:()=>null,closeSplDelegateModal:()=>null,wonSagaModal:!1,openWonSagaModal:()=>null,closeWonSagaModal:()=>null,buyModal:!1,buyToken:null,buySource:"portfolioPage",openBuyModal:()=>null,closeBuyModal:()=>null,sendSource:"portfolioButton"});t.PortfolioStateProvider=({children:e})=>{const[t,s]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[l,u]=(0,r.useState)(!1),[c,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[b,h]=(0,r.useState)(!1),[_,j]=(0,r.useState)(null),[g,y]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[T,w]=(0,r.useState)("portfolioPage"),[P,C]=(0,r.useState)("portfolioButton"),A=(0,r.useMemo)((()=>{const e=p?.token,t=p?.token.accounts[p.tokenAccountIndex||0],s=p?.token.actions?.find((e=>"send"===e.name))?.metadata;return{tokenId:e?.mint||"",pubkey:t?.pubkey||"",symbol:e?.symbol||"",name:e?.name,isAta:!!t?.isAta,amount:e?.amount||"",rawAmount:e?.amount||"",decimals:e?.decimals||0,logoURI:e?.imageUri||"",verified:!!e?.verified,value:"",price:"",rawValue:"",standard:e?.standard,metadata:s,priceInUsd:e?.price?.usdPrice}}),[p]),O=(0,r.useCallback)((()=>{s(!0)}),[]),M=(0,r.useCallback)((()=>{s(!1)}),[]),I=(0,r.useCallback)((()=>{d(!0)}),[]),E=(0,r.useCallback)((()=>{d(!1)}),[]),R=(0,r.useCallback)((e=>{u(!0),C(e)}),[]),D=(0,r.useCallback)((()=>{u(!1),f(null)}),[]),N=(0,r.useCallback)(((e,t)=>{f(e),m(!0),C(t)}),[]),L=(0,r.useCallback)((()=>{m(!1),f(null)}),[]),B=(0,r.useCallback)((e=>{j(e),h(!0)}),[]),F=(0,r.useCallback)((()=>{h(!1)}),[]),U=(0,r.useCallback)((()=>{y(!0)}),[]),V=(0,r.useCallback)((()=>{y(!1)}),[]),W=(0,r.useCallback)(((e,t)=>{S(e),v(!0),w(t),(0,a.logOnRamperInfoVideoRoute)()}),[]),q=(0,r.useCallback)((()=>{v(!1),S(null)}),[]),K=(0,r.useMemo)((()=>({receiveModal:t,openReceiveModal:O,closeReceiveModal:M,createTokenModal:o,openCreateTokenModal:I,closeCreateTokenModal:E,transferModal:l,openTransferModal:R,closeTransferModal:D,splTransferModal:c,splTransferToken:p,openSplTransferModal:N,closeSplTransferModal:L,providedAccount:A,splDelegateModal:b,splDelegateToken:_,openSplDelegateModal:B,closeSplDelegateModal:F,wonSagaModal:g,openWonSagaModal:U,closeWonSagaModal:V,buyModal:x,buyToken:k,buySource:T,openBuyModal:W,closeBuyModal:q,sendSource:P})),[E,M,F,L,V,A,D,o,I,O,B,N,R,U,t,b,_,c,p,l,g,x,k,T,W,q,P]);return(0,i.jsx)(n.Provider,{value:K,children:e})},t.usePortfolioState=()=>(0,r.useContext)(n)},"../../libs/shared/dist/features/portfolio/hooks/useAccountValidation.js":(e,t,s)=>{var i=s("../../../node_modules/console-browserify/index.js");Object.defineProperty(t,"__esModule",{value:!0}),t.useAccountValidation=void 0;const r=s("../../../node_modules/react/index.js"),a=s("../../libs/shared/dist/constants/mints.js"),n=s("../../libs/shared/dist/hooks/index.js"),o=s("../../libs/shared/dist/features/shared/account/index.js");t.useAccountValidation=({pubkey:e,mint:t})=>{const[s,d]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),c=t===a.SOL_MINT_ADDRESS,m=(0,n.useRPCProxy)({purpose:"transfer"}),p=(0,r.useCallback)((async()=>{u(!0),d(null);try{let s;s=c?await(0,o.solAccountValidate)({pubkey:e,connection:m}):await(0,o.splAccountValidate)({pubkey:e,mint:t,connection:m}),d(s)}catch(e){i.error(e),d({ok:!1})}finally{u(!1)}}),[c,e,t,m]);return(0,r.useEffect)((()=>{p()}),[p]),{accountValidation:s,isLoading:l}}},"../../libs/shared/dist/features/portfolio/hooks/useAlertProps.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAlertProps=void 0;const r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../../node_modules/bignumber.js/bignumber.js")),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/utils/units.js"),l=s("../../libs/shared/dist/features/portfolio/constants/common.js"),u=s("../../libs/shared/dist/features/portfolio/utils.js"),c=s("../../libs/shared/dist/features/portfolio/hooks/useAccountValidation.js"),m={variant:"error"};t.useAlertProps=({maxAvailable:e,inputAmount:t,selectedToken:s,computeUnitPrice:i,recipientSameAddress:p,solBalance:f,recipient:b,walletType:h})=>{const{t:_}=(0,a.useTranslation)(),j=+(0,d.convertTokensToDecimals)(l.RENT_EXEMPT_AMOUNT,9),g="LEDGER"===h,{accountValidation:y,isLoading:x}=(0,c.useAccountValidation)({pubkey:b?.address,mint:s?.tokenId});return{alertProps:(0,r.useMemo)((()=>{if(!s||x)return null;const r=s.tokenId===o.SOL_MINT_ADDRESS,a=r&&"ACCOUNT_DOESNT_EXIST"!==y?.confirm;if(r&&!+e)return{...m,title:_("insufficient_ticker",{ticker:l.SOL_SYMBOL}),message:_("swap_alert_ensure_minimum",{amountWithSuffix:`${l.MIN_SOL_IN_WALLET} ${l.SOL_SYMBOL}`})};if(r&&+e<j&&!a)return{...m,title:_("insufficient_ticker",{ticker:l.SOL_SYMBOL}),message:_("swap_alert_ensure_minimum",{amountWithSuffix:`${l.MIN_SOL_IN_WALLET} ${l.SOL_SYMBOL}`})};if(+t>+e)return{...m,title:_("insufficient_ticker",{ticker:s.symbol}),message:_("staking_validation_insufficient_balance_description")};const c=new n.default(e).minus(t);if(r&&c.isGreaterThan(0)&&c.isLessThan(j))return{...m,title:_("validation_send_insufficient_remaing_balance_title"),message:_("validation_send_insufficient_remaing_balance_description",{amountWithTicker:`${j} ${l.SOL_SYMBOL}`})};const b=+(0,d.convertTokensToDecimals)((0,u.calcPriorityFeeLamports)(i||0,1),9),h=+(0,d.convertTokensToDecimals)(l.BASE_FEE,9),v=+(0,d.convertTokensToDecimals)(l.TOKEN_ACCOUNT_RENT,9),k=new n.default(b).times(2).plus(h).toNumber(),S=new n.default(f),T="ATA_CREATION"===y?.confirm;return!r&&(!g&&!T&&S.isLessThan(new n.default(b).plus(j).toNumber())||!g&&T&&S.isLessThan(new n.default(k).plus(v).plus(j).toNumber())||g&&!T&&S.isLessThan(new n.default(h).plus(j).toNumber())||g&&T&&S.isLessThan(new n.default(h).plus(v).plus(j).toNumber()))?{...m,title:_("insufficient_ticker",{ticker:l.SOL_SYMBOL}),message:_("swap_alert_ensure_minimum",{amountWithSuffix:`${l.MIN_SOL_IN_WALLET} ${l.SOL_SYMBOL}`})}:"ACCOUNT_DOESNT_EXIST"===y?.confirm||"ATA_CREATION"===y?.confirm&&y?.accountEmpty?{variant:"warning",title:_("validation_send_to_unused_address_title"),message:_("validation_send_to_unused_address_description")}:p?{variant:"warning",title:_("validation_send_to_yourself_title"),message:_("validation_send_to_yourself_description")}:"NOT_SOLANA_ACCOUNT"===y?.error?{variant:"warning",title:_("validation_send_irregular_title"),message:_("validation_send_irregular_description")}:"WRONG_MINT"===y?.error||"NOT_A_TOKEN_ACCOUNT"===y?.error||"SPL_TOKEN_ACCOUNT"===y?.confirm?{variant:"error",title:_("validation_send_to_wrong_mint_title"),message:_("validation_send_to_wrong_mint_description")}:"MINT_ADDRESS"===y?.error?{variant:"error",title:_("address_book_new_contact_address_solana_incorect"),message:_("validation_send_to_wrong_mint_description")}:"TOKEN_ACCOUNT_CORRECT"===y?.confirm?{variant:"warning",title:_("validation_send_to_token_account_title"),message:_("validation_send_to_token_account_description")}:"STAKE_ACCOUNT"===y?.confirm?{variant:"warning",title:_("validation_send_to_stake_account_title"),message:_("validation_send_to_stake_account_description")}:null}),[y?.accountEmpty,y?.confirm,y?.error,i,t,g,x,e,p,j,s,f,_]),isValidationLoading:x,accountValidation:y}}},"../../libs/shared/dist/features/portfolio/hooks/useAmountInput.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAmountInput=void 0;const r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../../node_modules/bignumber.js/bignumber.js")),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/utils/common.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/getResizedImageUrl.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),m=s("../../libs/shared/dist/utils/units.js"),p=s("../../libs/shared/dist/wallet/index.js"),f=s("../../libs/shared/dist/features/currencies/index.js"),b=s("../../libs/shared/dist/features/portfolio/utils.js"),h=s("../../libs/shared/dist/features/portfolio/hooks/useComputeUnitPrice.js"),_=s("../../libs/shared/dist/features/portfolio/hooks/useTokenData.js");t.useAmountInput=({providedAccount:e})=>{const{wallet:t}=(0,p.useSolflareWallet)(),{data:s}=(0,_.useTokenData)(),i=(0,f.useCurrentCurrency)(),{t:j}=(0,a.useTranslation)(),{computeUnitPrice:g}=(0,h.useComputeUnitPrice)(),y=s?.tokens,x=(0,r.useMemo)((()=>{if(!y)return[];const e=y.reduce(((e,t)=>{const s=t.accounts.filter((e=>t.mint===o.SOL_MINT_ADDRESS||e.amount&&+e.amount>0)).map((e=>{const s=(0,m.convertTokensToDecimals)(e?.amount||0,t.decimals),r=new n.default(s).times(t.price?.price||0).toString();return{tokenId:t.mint,pubkey:e.pubkey,symbol:t.symbol,name:t.name||(0,c.truncateMiddle)(t.mint),isAta:!!e.isAta,showInfo:e.isAta||t.mint===o.SOL_MINT_ADDRESS||"spl-token-2022"===t.standard?"":j("portfolio_send_dropdown_not_ata_tooltip"),rawAmount:s,amount:(0,l.displayPrice)({amount:s,displayType:"amount",pricePerCoin:t.price?.usdPrice||0}),rawValue:r,value:+s&&t.price?(0,l.displayPrice)({prefix:i.symbol,amount:r,displayType:"value",pricePerCoin:t.price?.usdPrice||0}):"",logoURI:(0,u.getResizedImageUrl)(t.imageUri),verified:t.verified,price:String(t.price?.price??0),decimals:t.decimals,metadata:t.actions?.find((e=>"send"===e.name))?.metadata,standard:t.standard,extensions:t.extensions,priceInUsd:t.price?.usdPrice}}));return e.concat(s)}),[]);return(0,b.sortSendTokens)(e)}),[i.symbol,j,y]),v=e?.tokenId?x.find((t=>t.pubkey===e?.pubkey))||e:x[0],[k,S]=(0,r.useState)(v),[T,w]=(0,r.useState)(""),[P,C]=(0,r.useState)(""),A=(0,r.useMemo)((()=>(0,b.resolveMaxAvailableAmount)({amount:k?.rawAmount||"0",type:t.instance?.type??"",tokenId:k?.tokenId||"",computeUnitPrice:g})),[g,k?.rawAmount,k?.tokenId,t.instance?.type]),O=(0,r.useMemo)((()=>P?(0,b.filterTokens)(x,P):x),[P,x]),M=+T&&k?.price&&(0,d.isValidPositiveNumber)(k?.price)?(0,l.displayPrice)({amount:String(+T*+k.price),prefix:i.symbol,displayType:"value"}):"",I=(0,r.useCallback)((e=>{let{value:t}=e.target;t=t.trim(),t.includes(",")&&(t=t.replace(",","."));const s=(0,d.isValidPositiveNumber)(t);"."!==t&&","!==t?(0,d.hasValidDecimals)(t,k?.decimals||0)&&s&&w(t):w("0.")}),[k?.decimals]);return{sendTokens:x,selectedToken:k,setSelectedToken:S,maxAvailable:A,inputAmount:T,setInputAmount:w,computedInputValue:M,solBalance:x[0]?.rawAmount,computeUnitPrice:g,filteredTokens:O,setSearchParam:C,handleAmountChange:I,handleSelectedTokenChange:e=>{S(e),C(""),+T&&w((0,d.convertToRegularNum)(T||0,e?.decimals||0))}}}},"../../libs/shared/dist/features/portfolio/hooks/useComputeUnitPrice.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useComputeUnitPrice=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/features/portfolio/api/computeUnit.js");t.useComputeUnitPrice=()=>{const{data:e}=(0,i.useQuery)({queryKey:["compute-units"],queryFn:r.getComputeUnitPrice,staleTime:72e5});return{computeUnitPrice:e||0}}},"../../libs/shared/dist/features/portfolio/hooks/useMonitorAccounts.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMonitorAccounts=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-redux/es/index.js"),a=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),n=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),o=s("../../libs/shared/dist/store/selectors/config.js"),d=s("../../libs/shared/dist/features/portfolio/hooks/useTokenAccountPubkeys.js");t.useMonitorAccounts=()=>{const{data:e}=(0,d.useTokenAccountPubkeys)(),t=(0,r.useSelector)(o.networkSelector),s=(0,r.useSelector)(o.activePubkeySelector),l=(0,n.useQueryClient)(),u=(0,i.useCallback)((()=>{l.invalidateQueries({queryKey:["tokens"]})}),[l]);(0,i.useEffect)((()=>{if(!s)return;const i=new a.Connection(t.url,"processed"),r=(e||[]).map((e=>{try{return i.onAccountChange(new a.PublicKey(e),u)}catch(e){return null}})).filter((e=>null!==e));return()=>{if(r.length)for(const e of r)i.removeAccountChangeListener(e)}}),[e,s,t.url,u])}},"../../libs/shared/dist/features/portfolio/hooks/usePortfolio.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolio=void 0;const i=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolioActions.js"),r=s("../../libs/shared/dist/features/portfolio/hooks/useTokenData.js");t.usePortfolio=()=>{const{data:e,isLoading:t,isError:s}=(0,r.useTokenData)();return{data:e,isLoading:t,isError:s,actions:(0,i.usePortfolioActions)()}}},"../../libs/shared/dist/features/portfolio/hooks/usePortfolioActions.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolioActions=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/react-redux/es/index.js"),o=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),d=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),l=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationBurnTokenAccount.js")),u=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCloseTokenAccount.js")),c=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCreateTokenAccount.js")),m=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationSendToken.js")),p=i(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationUnwrapWSol.js")),f=s("../../libs/shared/dist/constants/mints.js"),b=s("../../libs/shared/dist/features/addressBook/index.js"),h=s("../../libs/shared/dist/features/featureFlags/index.js"),_=s("../../libs/shared/dist/features/recipientInput/constants/index.js"),j=s("../../libs/shared/dist/hooks/index.js"),g=s("../../libs/shared/dist/store/actions/snackbar.js"),y=s("../../libs/shared/dist/store/api/account.js"),x=s("../../libs/shared/dist/wallet/index.js"),v=s("../../libs/shared/dist/wallet/hooks/index.js"),k=s("../../libs/shared/dist/features/settings/index.js"),S=s("../../libs/shared/dist/features/portfolio/constants/common.js");t.usePortfolioActions=()=>{const e=(0,n.useDispatch)(),{t}=(0,a.useTranslation)(),{cluster:s}=(0,k.useNetwork)(),{getDestinationWalletType:i}=(0,b.useDestinationWalletType)(),T=(0,j.useRPCProxy)({purpose:"transfer"}),{transactionInit:w,wallet:P}=(0,x.useSolflareWallet)(),C=(0,j.useRPCProxy)({purpose:"airdrop"}),A=(0,d.useQueryClient)();return{transferSolana:async(e,a,n,o,d,l,u,c,p,b)=>{await w({title:t("confirm_transaction_title"),txBuilder:y.getSolTransferTx,builderParams:{amount:n,wallet:P.publicKey,recipient:a,network:s,setComputeBudget:!0},commitment:"processed",onConfirm({status:t,signature:s,stringifiedError:r}){(0,h.logSignTxSendToken)({source:d,transaction:s??"",error:"success"===t?void 0:r,dwt:i(a),destinationPickedFrom:_.RECIPIENT_GROUP_MAPPING[c??"MANUAL"],tokenTicker:S.SOL_SYMBOL,tokenMintAddress:f.SOL_MINT_ADDRESS,tokenAmount:n,tokenValueInUsd:u?Number(n)*u:void 0,isUnverified:!e.verified,isAta:l}),A.invalidateQueries({queryKey:["tokens"]}),p?.()},onBroadcast({status:t,signature:s,stringifiedError:r}){"success"===t?b?.():(0,h.logSignTxSendToken)({source:d,transaction:s??"",error:r,dwt:i(a),destinationPickedFrom:_.RECIPIENT_GROUP_MAPPING[c??"MANUAL"],tokenTicker:S.SOL_SYMBOL,tokenMintAddress:f.SOL_MINT_ADDRESS,tokenAmount:n,tokenValueInUsd:u?Number(n)*u:void 0,isUnverified:!e.verified,isAta:l})},confirmDialog:(0,r.jsx)(m.default,{amount:n,tokenImage:f.SOLANA_MINT_OBJ.logoURI,tokenSymbol:"SOL",tokenMint:"SOL",fromPubkey:P.publicKey,toPubkey:a,toName:o})})},requestSolanaAirdrop:async(t,s)=>{const i=new o.PublicKey(P.publicKey);await C.requestAirdrop(i,t*o.LAMPORTS_PER_SOL),e((0,g.enqueueSnackbar)({message:"1 SOL will appear in your wallet in a few seconds",options:{key:"request-airdrop",preventDuplicate:!0}})),A.invalidateQueries({queryKey:["tokens"]}),s?.()},transferToken:async(e,a,n,o,d,l,u,c,p,f,b,j)=>{await w({txBuilder:y.getTokenTransferTx,title:t("confirm_transaction_title"),builderParams:{metadata:f,wallet:P.publicKey,recipient:n,amount:o,mint:e.mint,token:a.pubkey,decimals:e.decimals,standard:e.standard,network:s,setComputeBudget:!0},commitment:"processed",onConfirm({signature:t,status:s,stringifiedError:r}){(0,h.logSignTxSendToken)({source:l,transaction:t??"",error:"success"===s?void 0:r,dwt:i(n),destinationPickedFrom:_.RECIPIENT_GROUP_MAPPING[p??"MANUAL"],tokenTicker:e.symbol?e.symbol:void 0,tokenMintAddress:e.mint,tokenAmount:o,tokenValueInUsd:c?Number(o)*Number(c):void 0,isUnverified:!e.verified,isAta:u}),A.invalidateQueries({queryKey:["tokens"]}),b?.()},onBroadcast({status:t,signature:s,stringifiedError:r}){"success"===t?j?.():(0,h.logSignTxSendToken)({source:l,transaction:s??"",error:r,dwt:i(n),destinationPickedFrom:_.RECIPIENT_GROUP_MAPPING[p??"MANUAL"],tokenTicker:e.symbol?e.symbol:void 0,tokenMintAddress:e.mint,tokenAmount:o,tokenValueInUsd:c?Number(o)*Number(c):void 0,isUnverified:!e.verified,isAta:u})},useSignAndSend:v.useSignAndSend,confirmDialog:(0,r.jsx)(m.default,{amount:o,tokenImage:e.imageUri,tokenSymbol:e.symbol,tokenVerified:e.verified,tokenMint:e.mint,fromPubkey:P.publicKey,toPubkey:n,toName:d})})},delegateToken:async(e,t,s,i,r)=>{w({commitment:"processed",txBuilder:y.splDelegateTransaction,builderParams:{amount:i,recipient:s,tokenAccountPubkey:t.pubkey,decimals:e.decimals,from:P.publicKey,blockhashFetcher:T},onConfirm(){A.invalidateQueries({queryKey:["tokens"]})}})},createTokenAccount:async(e,t="spl-token")=>{w({txBuilder:y.getCreateAssociatedTokenAccountTx,builderParams:{mint:e.address,wallet:P.publicKey,network:s,standard:t,setComputeBudget:!0},commitment:"processed",onConfirm(){A.invalidateQueries({queryKey:["tokens"]})},confirmDialog:(0,r.jsx)(c.default,{tokenImage:e.logoURI||"",tokenMint:e.address,tokenName:e.symbol,tokenVerified:e.verified})})},unwrapWrappedSol:async(e,t,i,a)=>{await w({txBuilder:y.getCloseTokenTx,builderParams:{metadata:i,wallet:P.publicKey,token:t.pubkey,mint:e.mint,network:s,standard:e.standard,setComputeBudget:!0},commitment:"processed",onBroadcast({status:e}){"success"===e&&a?.()},onConfirm({status:e}){"success"===e&&A.invalidateQueries({queryKey:["tokens"]})},confirmDialog:(0,r.jsx)(p.default,{amount:t.uiAmount})})},closeTokenAccount:async(e,t,i,a,n)=>{await w({txBuilder:y.getCloseTokenTx,builderParams:{metadata:a,wallet:P.publicKey,token:t.pubkey,mint:e.mint,network:s,standard:e.standard,setComputeBudget:!0},commitment:"processed",onBroadcast({status:t,signature:s,stringifiedError:r}){(0,h.logSignTxCloseTokenAccount)({source:i,transaction:s??"",error:r,tokenTicker:e.symbol,tokenMintAddress:e.mint}),"success"===t&&n?.()},onConfirm:({status:e})=>{"success"===e&&A.invalidateQueries({queryKey:["tokens"]})},confirmDialog:(0,r.jsx)(u.default,{tokenMint:e.mint,tokenImage:e.imageUri,tokenSymbol:e.symbol,tokenVerified:e.verified})})},burnAndCloseTokenAccount:async(e,t,i,a)=>{w({commitment:"processed",txBuilder:y.getBurnAndCloseTokenTx,builderParams:{metadata:i,amount:t.amount,mint:e.mint,wallet:P.publicKey,token:t.pubkey,standard:e.standard,network:s,setComputeBudget:!0},onConfirm(){A.invalidateQueries({queryKey:["tokens"]}),a?.()},confirmDialog:(0,r.jsx)(l.default,{amount:t.uiAmount,tokenMint:e.mint,tokenImage:e.imageUri,tokenSymbol:e.symbol,tokenVerified:e.verified})})}}}},"../../libs/shared/dist/features/portfolio/hooks/usePortfolioPromo.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolioPromo=void 0;const r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../../node_modules/react-router/esm/react-router.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/shared/dist/constants/mints.js"),l=s("../../libs/shared/dist/features/promo/context/index.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js"),c=i(s("../../libs/shared/dist/storage/solflareService.js")),m=s("../../libs/shared/dist/store/selectors/config.js"),p=s("../../libs/shared/dist/utils/extension.js"),f=s("../../libs/shared/dist/features/promo/queries/useIntermediaryScreenList.js");t.usePortfolioPromo=()=>{const e=(0,n.useHistory)(),t=(0,a.useSelector)(m.activePubkeySelector),[s,i]=(0,u.useStakeModal)(),{setStakingEvents:b}=(0,u.useStakingProvider)(),{banners:h,areBannersLoading:_,bannersResponse:j,readPubkeys:g,tBannerClose:y,tBannerCTA:x,tIntermediaryCTA:v,tIntermediaryClose:k}=(0,l.usePromoContext)(),{data:S}=(0,f.useIntermediaryScreenList)(),[T,w]=(0,r.useState)(),[P,C]=(0,r.useState)(),A=async e=>{const{id:s}=e,i=Number(h?.findIndex((e=>e.id===s)));y(e,i),await c.default.portfolioBanner.dismissBanner(t,s,Date.now()),g()},O=({type:t,url:s,meta:r},a)=>{switch(t){case"tx":return void C(s);case"intermediary":{const e=(0,o.find)(S?.data,{id:s});w(e);break}case"internal":if("stakingCreate"===s)return b({...u.STAKING_EVENTS_DEFAULT_STATE,source:a?"remoteBanner":"intermediaryScreen"}),void i();if("tradeSwap"===s){const t=r?.destinationMint&&`?from=${d.WRAPPED_SOL_MINT_ADDRESS}&to=${r.destinationMint}`;return void e.push({pathname:"/trade",search:t,state:{from:a?"remoteBanner":"intermediaryScreen"}})}if("tradeLimit"===s)return void e.push("/trade");if("portfolio"===s)return void e.push(p.isExtensionPopup?"/":"/portfolio");"staking"===s&&b({...u.STAKING_EVENTS_DEFAULT_STATE,source:a?"remoteBanner":"intermediaryScreen"}),e.push(s);break;case"close":a?.id&&A(a);break;case"external":window.open(s,"_blank")}};return{banners:h,bannersResponse:j,areBannersLoading:_,intermediaryScreen:T,txID:P,setTxID:C,dismissBanner:A,onClickBanner:async e=>{const{id:t,cta:s}=e;if(!s)return;const i=Number(h?.findIndex((e=>e.id===t)));await x(e,i),O(s,e)},onClickIntermediary:async e=>{await v(e),O(e.cta),w(void 0)},onCloseIntermediary:async e=>{k(e),w(void 0)}}}},"../../libs/shared/dist/features/portfolio/hooks/usePortfolioUIActions.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolioUIActions=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/react-router/esm/react-router.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/features/confirmDialog/index.js"),l=s("../../libs/shared/dist/features/portfolio/context/PortfolioState.js");t.usePortfolioUIActions=(e,t=!1)=>{const{replace:s}=(0,n.useHistory)(),{t:u}=(0,a.useTranslation)(),{confirm:c}=(0,d.useConfirmDialog)(),{splTransferToken:m,openSplTransferModal:p,splDelegateToken:f,openSplDelegateModal:b}=(0,l.usePortfolioState)();return{handleTransferTokenClick:(0,r.useCallback)(((e,t,s)=>{let i=s?e.accounts?.findIndex((e=>e.pubkey===s)):e.accounts?.findIndex((e=>e.isAta));i<0&&(i=0),p({token:e,tokenAccountIndex:i},t)}),[p]),handleDelegateTokenClick:(0,r.useCallback)(((e,t)=>{let s=t?e.accounts?.findIndex((e=>e.pubkey===t)):e.accounts?.findIndex((e=>e.isAta));s<0&&(s=0),b({token:e,tokenAccountIndex:s})}),[b]),handleCreateTokenAccount:(0,r.useCallback)((t=>{e.createTokenAccount(t)}),[e]),handleDelegateToken:(0,r.useCallback)(((t,s,i,r)=>{const a=f?.token;a&&e.delegateToken(a,a.accounts.find((e=>e.pubkey===t.pubkey)),i,s,r)}),[e,f?.token]),handleUnwrapTokenAccount:(0,r.useCallback)(((i,r,a)=>{let n=r?i.accounts?.find((e=>e.pubkey===r)):i.accounts?.find((e=>e.isAta));if(n||(n=i.accounts?.[0]),!n)return;const o=i.actions?.find((e=>"close"===e.name))?.metadata;e.unwrapWrappedSol(i,n,o,t?a:()=>s("/portfolio"))}),[e,t,s]),handleCloseTokenAccount:(0,r.useCallback)(((i,r,a,n)=>{let o=a?i.accounts?.find((e=>e.pubkey===a)):i.accounts?.find((e=>e.isAta));if(o||(o=i.accounts?.[0]),!o)return;const d=i.actions?.find((e=>"close"===e.name))?.metadata;e.closeTokenAccount(i,o,r,d,t?n:()=>s("/portfolio"))}),[e]),handleBurnTokenAccount:(0,r.useCallback)((async(t,s)=>{let r=s?t.accounts?.find((e=>e.pubkey===s)):t.accounts?.find((e=>e.isAta));if(r||(r=t.accounts?.[0]),!r)return;const a=t.actions?.find((e=>"burn-and-close"===e.name))?.metadata;await c({title:u("confirm_burn_title"),message:(0,i.jsx)(o.Alert,{title:u("confirm_burn_are_you_sure"),variant:"warning",message:u("confirm_burn_you_are_burning",{count:r.uiAmount||1,name:t.symbol||"token"})}),confirmButtonText:u("action_continue"),cancelButtonText:u("action_cancel")})&&e.burnAndCloseTokenAccount(t,r,a)}),[e,c,u]),handleRequestAirdrop:(0,r.useCallback)((()=>{e.requestSolanaAirdrop(1)}),[e])}}},"../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSolanaToken=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../libs/shared/dist/constants/mints.js"),a=s("../../libs/shared/dist/features/portfolio/hooks/useTokenData.js");t.useSolanaToken=()=>{const{data:e,isLoading:t,isError:s}=(0,a.useTokenData)();return{data:(0,i.useMemo)((()=>e?.tokens.find((e=>e.mint===r.SOL_MINT_ADDRESS))??null),[e]),isLoading:t,isError:s}}},"../../libs/shared/dist/features/portfolio/hooks/useTokenAccountPubkeys.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenAccountPubkeys=t.transformer=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/features/currencies/index.js"),o=s("../../libs/shared/dist/features/portfolio/api/portfolio.js");t.transformer=({tokens:e})=>{const t=[];for(const s of e)for(const e of s.accounts)t.push(e.pubkey);return t},t.useTokenAccountPubkeys=()=>{const e=(0,i.useSelector)(a.activePubkeySelector),s=(0,i.useSelector)(a.networkSelector),d=(0,n.useCurrentCurrency)();return(0,r.useQuery)({queryKey:["tokens",e,s.url,d.ticker],queryFn:()=>(0,o.getTokens)(e,s.cluster,d.ticker),enabled:!!e&&!!s.url,select:t.transformer})}},"../../libs/shared/dist/features/portfolio/hooks/useTokenMoreInfo.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenMoreInfo=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/features/currencies/index.js"),a=s("../../libs/shared/dist/features/portfolio/api/portfolio.js");t.useTokenMoreInfo=e=>{const t=(0,r.useCurrentCurrency)();return(0,i.useQuery)({queryKey:["tokenInfo",e,t.ticker],queryFn:()=>(0,a.getTokenMoreInfo)(e,t.ticker),refetchInterval:6e4,enabled:!!e})}},"../../libs/shared/dist/features/portfolio/hooks/useTotalPortfolioValue.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTotalPortfolioValue=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/features/currencies/index.js"),o=s("../../libs/shared/dist/features/portfolio/api/portfolio.js"),d=e=>({totalValue:e.totalValue,breakdown:{base:parseFloat(e.breakdown.base),tokens:parseFloat(e.breakdown.tokens),nfts:parseFloat(e.breakdown.nfts),stakeValue:parseFloat(e.breakdown.stakeValue)}});t.useTotalPortfolioValue=()=>{const e=(0,i.useSelector)(a.activePubkeySelector),t=(0,i.useSelector)(a.networkSelector),s=(0,n.useCurrentCurrency)();return(0,r.useQuery)({queryKey:["totalPortfolioValue",e,t.url,s.ticker],queryFn:()=>(0,o.getTotalPortfolioValue)(e,t.cluster,s.ticker),select:d})}},"../../libs/shared/dist/features/portfolio/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePortfolioPromo=t.useTotalPortfolioValue=t.useTokenMoreInfo=t.usePortfolioUIActions=t.usePortfolio=t.usePortfolioState=t.PortfolioStateProvider=t.SendModal=t.MonitorAccounts=t.ManageAssets=void 0;var n=s("../../libs/shared/dist/features/portfolio/components/ManageAssets/index.js");Object.defineProperty(t,"ManageAssets",{enumerable:!0,get:function(){return a(n).default}});var o=s("../../libs/shared/dist/features/portfolio/components/MonitorAccounts/index.js");Object.defineProperty(t,"MonitorAccounts",{enumerable:!0,get:function(){return a(o).default}});var d=s("../../libs/shared/dist/features/portfolio/components/SendModal/index.js");Object.defineProperty(t,"SendModal",{enumerable:!0,get:function(){return a(d).default}});var l=s("../../libs/shared/dist/features/portfolio/context/PortfolioState.js");Object.defineProperty(t,"PortfolioStateProvider",{enumerable:!0,get:function(){return l.PortfolioStateProvider}}),Object.defineProperty(t,"usePortfolioState",{enumerable:!0,get:function(){return l.usePortfolioState}});var u=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolio.js");Object.defineProperty(t,"usePortfolio",{enumerable:!0,get:function(){return u.usePortfolio}});var c=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolioUIActions.js");Object.defineProperty(t,"usePortfolioUIActions",{enumerable:!0,get:function(){return c.usePortfolioUIActions}});var m=s("../../libs/shared/dist/features/portfolio/hooks/useTokenMoreInfo.js");Object.defineProperty(t,"useTokenMoreInfo",{enumerable:!0,get:function(){return m.useTokenMoreInfo}});var p=s("../../libs/shared/dist/features/portfolio/hooks/useTotalPortfolioValue.js");Object.defineProperty(t,"useTotalPortfolioValue",{enumerable:!0,get:function(){return p.useTotalPortfolioValue}});var f=s("../../libs/shared/dist/features/portfolio/hooks/usePortfolioPromo.js");Object.defineProperty(t,"usePortfolioPromo",{enumerable:!0,get:function(){return f.usePortfolioPromo}}),r(s("../../libs/shared/dist/features/portfolio/transformers/index.js"),t),r(s("../../libs/shared/dist/features/portfolio/types.js"),t)},"../../libs/shared/dist/features/portfolio/transformers/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.transformPortfolioUi=t.transformTokenUi=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=i(s("../../../node_modules/bignumber.js/bignumber.js")),n=s("../../libs/shared/dist/utils/displayPrice.js"),o=s("../../libs/shared/dist/utils/getResizedImageUrl.js"),d=s("../../libs/shared/dist/utils/parsePriceChange.js"),l=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/utils/units.js"),c=s("../../libs/shared/dist/features/currencies/index.js"),m=s("../../libs/shared/dist/features/currencies/index.js"),p=s("../../libs/shared/dist/features/currencies/utils/index.js"),f=s("../../libs/shared/dist/features/portfolio/constants/common.js");t.transformTokenUi=(e,t,s,i)=>{const r=(0,p.symbolFormatter)(s.ticker,s.symbol),c=e.accounts.reduce(((e,t)=>e.plus(t.amount)),new a.default(0)),m=(0,u.convertTokensToDecimals)(c,e.decimals),b=new a.default(m).times(e.price?.price||0).toString(),h=new a.default(m).times(e.solPrice?.price||0).toString(),_=b&&"0"!==b&&e.price?.price?(0,n.displayPrice)({amount:b,displayType:"value",prefix:r}):"",j=h&&"0"!==h&&e.solPrice?.price?(0,n.displayPrice)({amount:h,displayType:"value",suffix:" SOL"}):"",g=e.price?.price?(0,n.displayPrice)({amount:e.price.price,displayType:"value",prefix:r}):"",y=e.solPrice?.price?(0,n.displayPrice)({amount:e.solPrice.price,displayType:"value",suffix:" SOL"}):"",x=e.price?.liquidity?(0,n.displayPrice)({amount:e.price.liquidity,displayType:"value"}):"",v=e.price?.volume24h?(0,n.displayPrice)({amount:e.price.volume24h,displayType:"value"}):"",k={value:e.price?.volumeChange24h?(0,d.compareToZero)(e.price.volumeChange24h,"-","","+")+(0,n.displayPrice)({amount:Math.abs(e.price.volumeChange24h),displayType:"value",suffix:"%"}):"",positive:(e.price?.volumeChange24h||0)>=0},S=e.price?.mc?(0,n.displayPrice)({amount:e.price.mc,displayType:"value"}):"",T=e.price?.change||0,w=e.solPrice?.change||0,P={value:e.price?.change?(0,d.compareToZero)(T,"-","","+")+(0,n.displayPrice)({amount:Math.abs(T),displayType:"value",suffix:"%"}):"",positive:(e.price?.change||0)>=0},C={value:e.solPrice?.change?(0,d.compareToZero)(w,"-","","+")+(0,n.displayPrice)({amount:Math.abs(w),displayType:"value",suffix:"%"}):"",positive:(e.solPrice?.change||0)>=0},A=e?.extensions?.find((e=>e.extension===f.TRANSFER_FEE)),O=A?.state?.newerTransferFee?.transferFeeBasisPoints/100,M={value:A?`${O}%`:"0%",display:O>0};return{id:e.mint,tokenId:e.mint,amount:(0,n.displayPrice)({amount:m,displayType:"amount",pricePerCoin:e.price?.usdPrice||0}),name:e.name||(0,l.truncateMiddle)(e.mint),symbol:e.symbol,logoURI:e.imageUri?(0,o.getResizedImageUrl)(e.imageUri):void 0,price:"fiat"===i?g:y,value:"fiat"===i?_:j,verified:e.verified,priceDiff:"fiat"===i?P:C,rawAmount:m,rawValue:b,liquidity:x,volume24h:v,volumeChange24h:k,marketCap:S,transferFee:M}},t.transformPortfolioUi=(e,s,i,a)=>{if(e)return{tokens:e.tokens.map((e=>(0,t.transformTokenUi)(e,s,i,a))),heroUi:"fiat"===a?{total:(0,r.jsx)(c.DisplayComputedFiatValue,{value:String(e.value.total||"0")}),change:(0,r.jsx)(c.DisplayComputedFiatValue,{value:String(e.value.change||"0"),showSign:!0}),percentage:(0,r.jsx)(c.DisplayPercentageChange,{value:String(e.value.percentage||"0"),showSign:!0}),variant:e.value.change<0?"error":"success"}:{total:(0,r.jsx)(m.DisplayComputedFiatAmountToken,{value:String(e.solValue.total||"0")}),change:(0,r.jsx)(m.DisplayComputedFiatAmountToken,{value:String(e.solValue.change||"0"),hideSymbol:!0,showSign:!0}),percentage:(0,r.jsx)(c.DisplayPercentageChange,{value:String(e.solValue.percentage||"0"),showSign:!0}),variant:e.solValue.change<0?"error":"success"}}}},"../../libs/shared/dist/features/portfolio/types.js":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.UtlTag=t.EnumTokenSocials=void 0,(s=t.EnumTokenSocials||(t.EnumTokenSocials={})).WEBSITE="website",s.TWITTER="twitter",s.REDDIT="reddit",s.TELEGRAM="telegram",s.DISCORD="discord",s.GITHUB="github",s.FACEBOOK="facebook",(t.UtlTag||(t.UtlTag={})).LP_TOKEN="lp-token"},"../../libs/shared/dist/features/portfolio/utils.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sortSendTokens=t.resolveMaxAvailableAmount=t.filterTokens=t.calcPriorityFeeLamports=void 0;const r=i(s("../../../node_modules/bignumber.js/bignumber.js")),a=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/utils/common.js"),d=s("../../libs/shared/dist/utils/units.js"),l=s("../../libs/shared/dist/features/portfolio/constants/common.js");t.filterTokens=(e,t)=>t?e.filter((e=>e.name?.toLowerCase().includes(t.toLowerCase().trim())||e.symbol?.toLowerCase().includes(t.toLowerCase().trim())||e.tokenId===t.trim())):e,t.sortSendTokens=e=>(0,a.sortBy)(e,[e=>e.tokenId!==n.SOL_MINT_ADDRESS,e=>-e.rawValue,e=>e.name?.toLowerCase(),e=>e.tokenId.toLowerCase()]);const u=(e,t=1)=>new r.default(e).times(2e5).times(Math.min(t,7)).dividedBy(1e6).toNumber();t.calcPriorityFeeLamports=u,t.resolveMaxAvailableAmount=({amount:e,type:t,tokenId:s,computeUnitPrice:i})=>{if(s!==n.SOL_MINT_ADDRESS||!(0,o.isValidPositiveNumber)(e)||!i)return e;const r=+(0,d.convertDecimalsToAmount)(e,9),a=u(i,1)+l.BASE_FEE,c=r-a<l.RENT_EXEMPT_AMOUNT?0:r-a;return(0,d.convertTokensToDecimals)(c,9)}},"../../libs/shared/dist/features/promo/api/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getBanners=t.getDappTx=t.getIntermediaryScreenList=void 0;const i=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),r=s("../../../node_modules/base64-js/index.js"),a=s("../../libs/shared/dist/api/index.js"),n="https://wallet-api.solflare.com";t.getIntermediaryScreenList=async({address:e,platform:t,language:s,at:i})=>{const{body:r}=await(0,a.get)(`${n}/v3/promo/intermediaries/list/?address=${e}&platform=${t}&language=${s}&at=${i}`);return r},t.getDappTx=async({publicKey:e,cluster:t,txID:s})=>{const{body:o}=await(0,a.get)(`${n}/v3/promo/tx/${s}?address=${e}&network=${t}`);return{transactions:o.data.txs.map((e=>({transaction:i.VersionedTransaction.deserialize((0,r.toByteArray)(e))}))),data:o.data}},t.getBanners=async({address:e,platform:t,language:s,at:i})=>{const{body:r}=await(0,a.get)(`${n}/v3/promo/banners/list/?address=${e}&platform=${t}&language=${s}&at=${i}`);return r}},"../../libs/shared/dist/features/promo/components/Banners/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Banners=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../libs/foundation-ui/dist/index.js"),a=s("../../libs/shared/dist/features/promo/utils.js");t.Banners=({banners:e,bannersResponse:t,isLoading:s,dismissBanner:n,onClickBanner:o})=>t?.length?(0,i.jsx)(r.Carousel,{isLoading:s,slidesLength:e?.length??0,renderSlides:()=>e?.map((t=>(0,i.jsx)(r.RemoteBanner,{onClose:()=>n(t),pagination:e?.length>1,onClick:t.cta?()=>o(t):void 0,avatar:t?.icon?(0,a.getRemoteBannerIcon)(t.icon):null,...t,children:t?.cta?.text?(0,i.jsx)(r.Button,{size:"s",children:t.cta?.text}):null},t.id)))??[]}):null},"../../libs/shared/dist/features/promo/components/IntermediaryScreen/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IntermediaryScreen=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/@mui/styles/index.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/rise-ui/dist/index.js"),u=s("../../libs/shared/dist/utils/extension.js"),c=i(s("../../libs/shared/dist/utils/featureFlags.js")),m=s("../../libs/shared/dist/features/featureFlags/promo/index.js"),p=(0,o.makeStyles)((()=>({dialogScreenPaper:{padding:"0px",width:"auto",borderRadius:"20px"},content:{padding:"0px !important",borderRadius:"20px",overflow:"hidden"}})));t.IntermediaryScreen=({onClose:e,onCTAClick:t,cta:s,graphicType:i,...o})=>{const{t:f}=(0,n.useTranslation)(),b=p(),[h,_]=(0,a.useState)(0);return(0,a.useEffect)((()=>(c.default.pv(m.INTERMEDIARY_SCREEN_ROUTE),()=>{c.default.pl(m.INTERMEDIARY_SCREEN_ROUTE)})),[]),u.isExtension&&!u.isExpandedView?(0,r.jsx)(d.FullPageModal,{open:!0,children:(0,r.jsx)(d.IntermediaryScreen,{...o,onClose:e,variant:i,finishCTA:{label:s?.text||f("action_continue"),onClick:t},nextCTA:{label:f("action_next")},backCTA:{label:f("action_back")}})}):(0,r.jsx)(l.Modal,{open:!0,contentClassName:b.content,dialogPaperClassName:b.dialogScreenPaper,onClose:()=>e(h),children:(0,r.jsx)(d.IntermediaryScreen,{...o,variant:i,finishCTA:{label:s?.text||f("action_continue"),onClick:t},nextCTA:{label:f("action_next")},backCTA:{label:f("action_back")},updateStepNumber:_})})}},"../../libs/shared/dist/features/promo/components/PromoTx/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PromoTx=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/features/dappCommunication/context/index.js"),o=s("../../libs/shared/dist/features/settings/index.js"),d=s("../../libs/shared/dist/utils/origin.js"),l=s("../../libs/shared/dist/wallet/index.js"),u=s("../../libs/shared/dist/wallet/hooks/index.js"),c=s("../../libs/shared/dist/features/promo/api/index.js"),m=s("../../libs/shared/dist/features/promo/context/index.js");t.PromoTx=({txID:e,onClose:t})=>{const{analizedTransactionInit:s,publicKey:p,transactionData:f}=(0,l.useSolflareWallet)(),{tSignTxExternal:b}=(0,m.usePromoContext)(),{cluster:h}=(0,o.useNetwork)(),[_,j]=(0,r.useState)({origin:"",host:"",title:""});return(0,r.useEffect)((()=>{p&&s({txBuilder:c.getDappTx,useSignAndSend:u.useSignAndSendAllParallel,builderParams:{publicKey:p,cluster:h,txID:e},commitment:"confirmed",onEnd:t,onBroadcastAll:({successCount:e,failCount:t,results:s})=>{const i=(s||[]).filter((e=>"fail"===e.status)).map((e=>e.stringifiedError)),r=(0,a.last)((0,a.sortBy)((0,a.map)((0,a.mapValues)((0,a.groupBy)(i),(e=>e.length)),((e,t)=>({error:t,count:e}))),"count"))?.error;b({transactionCount:e,errorCount:t,commonError:r})}})}),[p,e,h]),(0,r.useEffect)((()=>{if(f&&"data"in f){const e=f?.data?.dapp;j({origin:e?.origin??"",host:(0,d.getHostFromOrigin)(e?.origin),title:e?.title??""})}}),[f]),(0,i.jsx)(n.DappInfoContext.Provider,{value:_,children:(0,i.jsx)(l.ConfirmAnalizedTransaction,{})})}},"../../libs/shared/dist/features/promo/constants.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PROMO_REFETCH_INTERVAL=t.remoteBannerIconsMapping=void 0;const i=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js");t.remoteBannerIconsMapping={faPiggyBank:i.faPiggyBank,faCoins:i.faCoins,faCoin:i.faCoin,faDisplayChartUp:i.faDisplayChartUp,faParachuteBox:i.faParachuteBox,faImage:i.faImage,faImagesUser:i.faImagesUser,faFaceTongueMoney:i.faFaceTongueMoney,faSackDollar:i.faSackDollar,faFaceSmile:i.faFaceSmile,faSun:i.faSun,faCirclePlay:i.faCirclePlay,faCircleExclamation:i.faCircleExclamation,faTrophy:i.faTrophy,faCrown:i.faCrown,faCircleInfo:i.faCircleInfo,faPercent:i.faPercent,faTimer:i.faTimer,faClockSeven:i.faClockSeven,faTriangleExclamation:i.faTriangleExclamation,faCalendarDays:i.faCalendarDays},t.PROMO_REFETCH_INTERVAL=6e4},"../../libs/shared/dist/features/promo/context/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromoContext=t.PromoProvider=t.PromoContext=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-redux/es/index.js"),o=s("../../libs/shared/dist/features/promo/index.js"),d=i(s("../../libs/shared/dist/storage/solflareService.js")),l=s("../../libs/shared/dist/store/selectors/config.js"),u=s("../../libs/shared/dist/features/promo/hooks/usePromoFeatureFlags.js");t.PromoContext=(0,a.createContext)({banners:[],bannersResponse:void 0,areBannersLoading:!1,readPubkeys:()=>{},tBannerCTA:()=>{},tBannerClose:()=>{},tIntermediaryCTA:()=>{},tIntermediaryClose:()=>{},tSignTxExternal:()=>{}}),t.PromoProvider=({children:e})=>{const s=(0,n.useSelector)(l.activePubkeySelector),{data:i,isLoading:c}=(0,o.useGetBanners)(),[m,p]=(0,a.useState)({}),{tBannerCTA:f,tBannerClose:b,tIntermediaryCTA:h,tIntermediaryClose:_,tSignTxExternal:j}=(0,u.usePromoFeatureFlags)(),g=(0,a.useCallback)((async()=>{if(s){const e=await d.default.portfolioBanner.getBannerStatuses(s);p(e??{})}}),[s]);(0,a.useEffect)((()=>{g()}),[g]);const y=(0,a.useMemo)((()=>{const e=Date.now();return i?.data.filter((t=>{if(!m[t.id])return!0;const s=m[t.id],i=t?.coolDownTime;return!(i&&s&&e-s<=i)}))??[]}),[i?.data,m]),x=(0,a.useMemo)((()=>({banners:y,areBannersLoading:c,bannersResponse:i,readPubkeys:g,tBannerCTA:f,tBannerClose:b,tIntermediaryCTA:h,tIntermediaryClose:_,tSignTxExternal:j})),[c,y,i,g,f,b,h,_,j]);return(0,r.jsx)(t.PromoContext.Provider,{value:x,children:e})},t.usePromoContext=()=>{const e=(0,a.useContext)(t.PromoContext);if(!e)throw new Error("usePromoContext must be used within a usePromoContext");return e}},"../../libs/shared/dist/features/promo/hooks/usePromoFeatureFlags.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromoFeatureFlags=void 0;const r=s("../../../node_modules/react/index.js"),a=i(s("../../../node_modules/bignumber.js/bignumber.js")),n=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/features/featureFlags/index.js"),d=s("../../libs/shared/dist/features/featureFlags/promo/index.js"),l=s("../../libs/shared/dist/features/nfts/hooks/useNftData.js"),u=s("../../libs/shared/dist/features/portfolio/hooks/useTokenData.js"),c=s("../../libs/shared/dist/features/stakingCore/index.js"),m=s("../../libs/shared/dist/utils/lamportToSol.js"),p=s("../../libs/shared/dist/features/promo/context/index.js");t.usePromoFeatureFlags=()=>{if(!(0,r.useContext)(p.PromoContext))throw new Error("usePromoFeatureFlags must be used within a usePromoContext");const{data:e}=(0,u.useTokenData)(),{data:t}=(0,l.useNftData)(),{data:s}=(0,c.useStakingAccounts)(),[i,f]=(0,r.useState)(),[b,h]=(0,r.useState)(),[_,j]=(0,r.useState)(),g=s?.header,y=(0,m.lamportsToSol)(g?.totalAmount||0),x=s&&void 0!==g?.totalAmount?+y.multipliedBy(new a.default(g?.price?.usdPrice||0)):0,v=t?.totalFloor?.price&&t?.solanaPrice?.usdPrice?t?.totalFloor?.price*t?.solanaPrice?.usdPrice:0,k=e?.tokens.find((e=>e.mint===n.SOL_MINT_ADDRESS))?.price?.usdPrice,S=e&&k?e?.solValue.total*k:0,T=e?.tokens.find((e=>e.mint===n.SOL_MINT_ADDRESS))?.totalUiAmount??0,w=x+v+S,P=(0,r.useMemo)((()=>({totalStakeValueInUsd:x,totalNftsValueInUsd:v,totalTokensValueInUsd:S,totalPortfolioValueInUsd:w,totalAvailableSolAmount:T?+T:void 0})),[x,v,S,w,T]),C=(0,r.useCallback)(((e,t)=>{const{id:s,campaignId:i,cta:r}=e;if(r)return h({...e,index:t}),f("remoteBanner"),(0,d.logRemoteBannerCTAClicked)({bannerID:s,bannerCampaignID:i,bannerIndex:t,ctaType:r.type,...P})}),[P]),A=(0,r.useCallback)((({id:e,campaignId:t},s)=>{h(void 0),(0,d.logRemoteBannerCloseClicked)({bannerID:e,bannerCampaignID:t,bannerIndex:s,...P})}),[P]),O=(0,r.useCallback)((e=>{const{id:t,campaignId:s,cta:i}=e;return j(e),f("intermediaryScreen"),(0,d.logIntermediaryScreenCTAClicked)({intermediaryScreenID:t,intermediaryScreenCampaignID:s,ctaType:i.type,...P})}),[P]),M=(0,r.useCallback)((e=>{j(void 0),(0,d.logIntermediaryScreenCloseClicked)({page:e})}),[]),I=(0,r.useCallback)((e=>{if(!i)return;const t="intermediaryScreen"===i?{intermediaryScreenCampaignID:_?.campaignId,intermediaryScreenID:_?.id}:{bannerCampaignID:b?.campaignId,bannerID:b?.id,bannerIndex:b?.index};(0,o.logSignTxExternal)({source:i,...t,...e})}),[i,b,_]);return(0,r.useMemo)((()=>({tBannerCTA:C,tBannerClose:A,tIntermediaryCTA:O,tIntermediaryClose:M,tSignTxExternal:I})),[C,A,O,M,I])}},"../../libs/shared/dist/features/promo/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PromoTx=t.Banners=t.IntermediaryScreen=t.getBanners=t.getRemoteBannerIcon=t.useGetBanners=void 0;var i=s("../../libs/shared/dist/features/promo/queries/useGetBanners.js");Object.defineProperty(t,"useGetBanners",{enumerable:!0,get:function(){return i.useGetBanners}});var r=s("../../libs/shared/dist/features/promo/utils.js");Object.defineProperty(t,"getRemoteBannerIcon",{enumerable:!0,get:function(){return r.getRemoteBannerIcon}});var a=s("../../libs/shared/dist/features/promo/api/index.js");Object.defineProperty(t,"getBanners",{enumerable:!0,get:function(){return a.getBanners}});var n=s("../../libs/shared/dist/features/promo/components/IntermediaryScreen/index.js");Object.defineProperty(t,"IntermediaryScreen",{enumerable:!0,get:function(){return n.IntermediaryScreen}});var o=s("../../libs/shared/dist/features/promo/components/Banners/index.js");Object.defineProperty(t,"Banners",{enumerable:!0,get:function(){return o.Banners}});var d=s("../../libs/shared/dist/features/promo/components/PromoTx/index.js");Object.defineProperty(t,"PromoTx",{enumerable:!0,get:function(){return d.PromoTx}})},"../../libs/shared/dist/features/promo/queries/useGetBanners.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useGetBanners=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/wallet-core/dist/shared.js"),n=s("../../libs/shared/dist/features/featureFlags/utils.js"),o=s("../../libs/shared/dist/features/settings/index.js"),d=s("../../libs/shared/dist/store/selectors/config.js"),l=s("../../libs/shared/dist/wallet/index.js"),u=s("../../libs/shared/dist/features/promo/api/index.js"),c=s("../../libs/shared/dist/features/promo/constants.js");t.useGetBanners=()=>{const{publicKey:e}=(0,l.useSolflareWallet)(),{current:t}=(0,o.useLanguageSettings)(),s=(0,i.useSelector)(d.activeWalletTypeSelector);return(0,r.useQuery)({queryKey:["banners",e,t],queryFn:()=>(0,u.getBanners)({address:e,platform:(0,n.getFeatureFlagsOrigin)(),language:t,at:a.TRACKING_WALLET_TYPES[s]}),enabled:!!e,refetchInterval:c.PROMO_REFETCH_INTERVAL})}},"../../libs/shared/dist/features/promo/queries/useIntermediaryScreenList.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIntermediaryScreenList=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/wallet-core/dist/shared.js"),n=s("../../libs/shared/dist/features/featureFlags/utils.js"),o=s("../../libs/shared/dist/features/settings/index.js"),d=s("../../libs/shared/dist/store/selectors/config.js"),l=s("../../libs/shared/dist/wallet/index.js"),u=s("../../libs/shared/dist/features/promo/api/index.js"),c=s("../../libs/shared/dist/features/promo/constants.js");t.useIntermediaryScreenList=()=>{const{publicKey:e}=(0,l.useSolflareWallet)(),{current:t}=(0,o.useLanguageSettings)(),s=(0,i.useSelector)(d.activeWalletTypeSelector);return(0,r.useQuery)({queryKey:["intermediaries",e,t],queryFn:()=>(0,u.getIntermediaryScreenList)({address:e,platform:(0,n.getFeatureFlagsOrigin)(),language:t,at:a.TRACKING_WALLET_TYPES[s]}),enabled:!!e,refetchInterval:c.PROMO_REFETCH_INTERVAL})}},"../../libs/shared/dist/features/promo/utils.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRemoteBannerIcon=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/components/DappAvatar/index.js"),o=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),d=s("../../libs/shared/dist/features/promo/constants.js");t.getRemoteBannerIcon=({type:e,url:t})=>{switch(e){case"dapp":return(0,r.jsx)(n.DappAvatar,{host:t});case"token":return(0,r.jsx)(o.default,{src:t,verified:!0});case"validator":return(0,r.jsx)(a.ValidatorAvatar,{src:t});case"nft":return(0,r.jsx)(a.NFTAvatar,{src:t});case"icon":return(0,r.jsx)(a.IconAvatarV2,{icon:d.remoteBannerIconsMapping[t]});default:return""}}},"../../libs/shared/dist/features/recipientInput/components/RecipientInput.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/utils/extension.js"),o=s("../../libs/shared/dist/features/addressBook/index.js"),d=s("../../libs/shared/dist/features/pfp/index.js"),l=s("../../libs/shared/dist/features/recipientInput/context/RecipientInputState.js");t.default=({hasErrors:e})=>{const{t}=(0,r.useTranslation)(),{recipients:s,setSearch:u,isLoading:c,isAddressValid:m,selectedRecipient:p,isAddressSaveable:f,saveAddressChecked:b,setSaveAddressChecked:h,saveAddressError:_,addressName:j,setAddressName:g,changeSelectedRecipient:y,onPaste:x,isDisabled:v}=(0,l.useRecipientInput)(),k=[{value:l.AvailableRecipientGroups.RECENT,label:t("address_input_recent")},{value:l.AvailableRecipientGroups.MNEMONIC,label:t("address_input_mnemonic")},{value:l.AvailableRecipientGroups.METAMASK,label:t("address_input_metamask")},{value:l.AvailableRecipientGroups.BURNER,label:t("address_input_burner")},{value:l.AvailableRecipientGroups.LEDGER,label:t("address_input_ledger")},{value:l.AvailableRecipientGroups.KEYSTONE,label:t("address_input_keystone")},{value:l.AvailableRecipientGroups.PRIVATEKEY,label:t("address_input_imported")},{value:l.AvailableRecipientGroups.SAVED,label:t("address_input_saved")}];return(0,i.jsxs)(a.SelectRecipientForm,{children:[(0,i.jsx)(a.SelectRecipient,{error:m?null:t("address_book_new_contact_address_solana_incorect"),isFetching:c,recipients:s,label:t("form_recepient_address"),placeholder:t("form_recepient_placeholder"),recipientGroups:k,selectedRecipient:p,onInputChange:u,onPaste:x,disabled:v,onSelectedItemChange:y,onClearSelection:()=>y(null),renderAvatar:e=>(0,i.jsx)(d.PFPAvatar,{publicKey:e,"data-id":"recipient-avatar"})}),f&&!e&&!n.isWidget&&(0,i.jsxs)(a.SaveContactForm,{children:[(0,i.jsx)(a.Control,{id:"saveContactCheckbox",label:t("form_save_address"),action:(0,i.jsx)(a.Checkbox,{checked:b,onChange:e=>h(!!e.target.checked)})}),b&&(0,i.jsx)(a.TextField,{error:Boolean(_),hint:(0,i.jsx)(a.Label,{error:!0,children:_}),maxLength:o.MAX_NAME_LENGTH,placeholder:t("form_name_placeholder"),value:j,onChange:e=>g(e.target.value),id:"enterContactNameInputId",label:(0,i.jsx)(a.Label,{htmlFor:"enterContactNameInputId",children:t("form_save_address_name")})})]})]})}},"../../libs/shared/dist/features/recipientInput/components/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RecipientInput=void 0;var r=s("../../libs/shared/dist/features/recipientInput/components/RecipientInput.js");Object.defineProperty(t,"RecipientInput",{enumerable:!0,get:function(){return i(r).default}})},"../../libs/shared/dist/features/recipientInput/constants/index.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RECIPIENT_GROUP_MAPPING=t.SEARCH_DEBOUNCE_TIME_MS=t.RECENT_ADDRESS_LIMIT=void 0,t.RECENT_ADDRESS_LIMIT=3,t.SEARCH_DEBOUNCE_TIME_MS=400,t.RECIPIENT_GROUP_MAPPING={MANUAL:"manualInput",RECENT:"recent",SAVED:"addressBook",MNEMONIC:"myWallets",METAMASK:"myWallets",BURNER:"myWallets",LEDGER:"myWallets",KEYSTONE:"myWallets",PRIVATEKEY:"myWallets"}},"../../libs/shared/dist/features/recipientInput/context/RecipientInputState.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRecipientInput=t.RecipientInputProvider=t.AvailableRecipientGroups=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react/index.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/lodash/lodash.js"),o=s("../../libs/shared/dist/wallet/index.js"),d=s("../../libs/shared/dist/features/addressBook/context/AddressBook.js"),l=s("../../libs/shared/dist/features/addressBook/context/RecentAddresses.js"),u=s("../../libs/shared/dist/features/recipientInput/constants/index.js"),c=s("../../libs/shared/dist/features/recipientInput/hooks/useResolveAddress.js"),m=s("../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerPubkey.js"),p=s("../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerType.js"),f=s("../../libs/shared/dist/features/recipientInput/utils/filters.js"),b=s("../../libs/shared/dist/features/recipientInput/utils/transformers.js");var h;(h=t.AvailableRecipientGroups||(t.AvailableRecipientGroups={})).MANUAL="MANUAL",h.RECENT="RECENT",h.MNEMONIC="MNEMONIC",h.METAMASK="METAMASK",h.BURNER="BURNER",h.LEDGER="LEDGER",h.KEYSTONE="KEYSTONE",h.PRIVATEKEY="PRIVATEKEY",h.SAVED="SAVED";const _=(0,r.createContext)({recipients:[],search:"",setSearch:()=>null,isLoading:!1,isAddressValid:!0,selectedRecipient:void 0,isAddressSaveable:!1,addressName:"",setAddressName:()=>null,saveAddressChecked:!1,setSaveAddressChecked:()=>null,showCurrentWallet:!0,setShowCurrentWallet:()=>null,saveAddress:()=>Promise.resolve(!1),saveAddressError:null,changeSelectedRecipient:()=>null,isDisabled:!1,onPaste:()=>null}),j={[t.AvailableRecipientGroups.RECENT]:0,[t.AvailableRecipientGroups.MNEMONIC]:1,[t.AvailableRecipientGroups.METAMASK]:2,[t.AvailableRecipientGroups.BURNER]:3,[t.AvailableRecipientGroups.LEDGER]:4,[t.AvailableRecipientGroups.KEYSTONE]:5,[t.AvailableRecipientGroups.PRIVATEKEY]:6,[t.AvailableRecipientGroups.SAVED]:7};t.RecipientInputProvider=({children:e})=>{const[t,s]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),[y,x]=(0,r.useState)(null),[v,k]=(0,r.useState)(""),[S,T]=(0,r.useState)(!1),[w,P]=(0,r.useState)(""),[C,A]=(0,r.useState)(!0),{wallet:O}=(0,o.useSolflareWallet)(),{t:M}=(0,a.useTranslation)(),I=(0,p.useWalletsPerType)(),E=(0,m.useWalletsPerPubkey)(),{addAddress:R,addresses:D,nameByAddress:N}=(0,d.useAddressBook)(),L=(0,l.useRecentAddresses)(),{isLoading:B,data:F,isValid:U}=(0,c.useResolveAddress)(t?.trim()),V=(0,r.useMemo)((()=>{const e=[],s=L.addresses?.filter((e=>(0,f.filterRecentAddresses)(e,t))).slice(0,u.RECENT_ADDRESS_LIMIT).map((e=>(0,b.transformRecentToRecipient)(e,N,E)));s.length>0&&e.push(...s);const i=(0,n.sortBy)(D,[({name:e})=>e.toLowerCase()])?.filter((e=>(0,f.filterAddressBook)(e,t))).map(b.transformAddressbookToRecipient);return i.length>0&&e.push(...i),(0,n.forEach)(j,((s,i)=>{const r=(0,n.sortBy)(I[i],["accountIndex",e=>e.name.toLowerCase()])?.filter((e=>(0,f.filterWallets)(e,t))).map((e=>(0,b.transformWalletToRecipient)(e,i)));r?.length>0&&e.push(...r)})),e.filter((e=>C||O.publicKey!==e.address))}),[D,N,L.addresses,t,C,O.publicKey,I,E]),W=(0,r.useMemo)((()=>Boolean(y&&!N[y?.address??""]&&!E[y?.address??""])),[N,y,E]),q=(0,r.useCallback)((async()=>{if(0===v.length)return P(M("form_save_address_name_is_empty")),!1;if(y?.address){const{address:e,name:t,subtitle:s}=y;return await R({pubkey:y.address,name:v,address:s&&t!==s?t??"":e}),k(""),T(!1),P(""),!0}return!1}),[R,v,y,M]),K=(0,r.useCallback)((e=>{const t=V.find((t=>t.address===e))??null;t&&x(t),!e&&x(null),T(!1),k(""),s("")}),[V]),$=(0,r.useMemo)((()=>{if(F)return"address"===F.source?(0,b.transformAddressToRecipient)(F):(0,b.transformResolvedToRecipient)(F)}),[F]),G=(0,r.useCallback)((e=>{g(!0),s(e),setTimeout((()=>{g(!1)}),u.SEARCH_DEBOUNCE_TIME_MS)}),[]);(0,r.useEffect)((()=>{$&&x($)}),[$]);const H=(0,r.useMemo)((()=>({recipients:V,selectedRecipient:y,changeSelectedRecipient:K,isAddressSaveable:W,addressName:v,setAddressName:k,saveAddressChecked:S,setSaveAddressChecked:T,showCurrentWallet:C,setShowCurrentWallet:A,saveAddress:q,saveAddressError:w,search:t,setSearch:s,recipientGroups:j,isLoading:B,isAddressValid:U,resolveData:F,onPaste:G,isDisabled:h})),[v,K,W,U,B,V,F,q,S,w,t,y,C,G,h]);return(0,i.jsx)(_.Provider,{value:H,children:e})},t.useRecipientInput=(e=!0)=>{const t=(0,r.useContext)(_);return(0,r.useEffect)((()=>{t.setShowCurrentWallet(e)}),[t,e]),t}},"../../libs/shared/dist/features/recipientInput/hooks/useResolveAddress.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useResolveAddress=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-redux/es/index.js"),a=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/store/selectors/config.js"),o=s("../../libs/shared/dist/features/shared/account/index.js"),d=s("../../libs/shared/dist/features/recipientInput/constants/index.js"),l=s("../../libs/shared/dist/features/recipientInput/utils/validators.js");t.useResolveAddress=e=>{const[t,s]=(0,i.useState)(""),{cluster:u}=(0,r.useSelector)(n.networkSelector),[c,m]=(0,i.useState)(null),[p,f]=(0,i.useState)(!1),[b,h]=(0,i.useState)(!1),_=(0,i.useRef)((0,a.debounce)((async(e,t)=>{if(!e)return m(null),void f(!1);try{f(!0),h(!1);let s="",i="",r="";if((0,l.isValidPublicKey)(e))s=e,i="address",r=e;else{const a=await(0,o.resolveAddress)(e,t);a&&(s=a.publicKey,i=a.source,r=e)}m(s?{publicKey:s,source:i,query:r}:null)}catch(e){h(!0),m(null)}finally{f(!1)}}),d.SEARCH_DEBOUNCE_TIME_MS)).current;(0,i.useEffect)((()=>(s(e),f(!0),_(e,u),()=>_.cancel())),[e,u,_]);const j=(0,i.useMemo)((()=>!(t.length>0&&!c&&!p&&t===e)),[t,c,p,e]);return{isLoading:p,isError:b,data:c,isValid:j}}},"../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerPubkey.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWalletsPerPubkey=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/lodash/lodash.js"),a=s("../../libs/shared/dist/store/selectors/config.js");t.useWalletsPerPubkey=()=>{const e=(0,i.useSelector)(a.walletDataSelector);return(0,r.keyBy)(e.accounts,"publicKey")}},"../../libs/shared/dist/features/recipientInput/hooks/useWalletsPerType.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWalletsPerType=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../libs/shared/dist/store/selectors/config.js");t.useWalletsPerType=()=>{const e=(0,i.useSelector)(r.walletDataSelector);return e.accounts.map((({publicKey:t,name:s})=>{const i=e.wallets[t];return{publicKey:t,name:s,type:i.type,accountIndex:i.accountIndex??void 0}})).reduce(((e,{publicKey:t,name:s,type:i,accountIndex:r})=>(e[i]||(e[i]=[]),e[i].push({publicKey:t,name:s,accountIndex:r}),e)),{})}},"../../libs/shared/dist/features/recipientInput/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s("../../libs/shared/dist/features/recipientInput/components/index.js"),t),r(s("../../libs/shared/dist/features/recipientInput/context/RecipientInputState.js"),t)},"../../libs/shared/dist/features/recipientInput/utils/filters.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterWallets=t.filterAddressBook=t.filterRecentAddresses=void 0,t.filterRecentAddresses=(e,t)=>e.address.toLowerCase().includes(t.toLowerCase())||e.pubkey.toLowerCase().includes(t),t.filterAddressBook=(e,t)=>e.address.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase()),t.filterWallets=(e,t)=>e.name.toLowerCase().includes(t.toLowerCase())||e.publicKey.toLowerCase().includes(t.toLowerCase())},"../../libs/shared/dist/features/recipientInput/utils/transformers.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.transformSendTokenToApiTokenAccount=t.transformSendTokenToApiToken=t.transformAddressToRecipient=t.transformResolvedToRecipient=t.transformWalletToRecipient=t.transformAddressbookToRecipient=t.transformRecentToRecipient=void 0;const i=s("../../libs/shared/dist/utils/truncateMiddle.js"),r=s("../../libs/shared/dist/features/recipientInput/context/RecipientInputState.js");t.transformRecentToRecipient=(e,t,s)=>{const a=t[e.pubkey]??s[e.pubkey]?.name??null;return{group:r.AvailableRecipientGroups.RECENT,name:a??(e.pubkey===e.address?(0,i.truncateMiddle)(e.address):e.address),address:e.pubkey,subtitle:a&&(0,i.truncateMiddle)(e.address)}},t.transformAddressbookToRecipient=e=>({group:r.AvailableRecipientGroups.SAVED,name:e.name,address:e.pubkey,subtitle:e.pubkey===e.address?(0,i.truncateMiddle)(e.address):e.address}),t.transformWalletToRecipient=(e,t)=>({group:t,address:e.publicKey,subtitle:(0,i.truncateMiddle)(e.publicKey),name:e.name}),t.transformResolvedToRecipient=e=>({group:r.AvailableRecipientGroups.MANUAL,name:e.query,subtitle:(0,i.truncateMiddle)(e.publicKey),address:e.publicKey??""}),t.transformAddressToRecipient=e=>({group:r.AvailableRecipientGroups.MANUAL,name:(0,i.truncateMiddle)(e.publicKey),address:e.publicKey??""}),t.transformSendTokenToApiToken=e=>({name:e.name??"",symbol:e.symbol??"",decimals:e.decimals,mint:e.tokenId,imageUri:e.logoURI,accounts:[],verified:e.verified,standard:e.standard}),t.transformSendTokenToApiTokenAccount=e=>({pubkey:e.pubkey,amount:e.amount,uiAmount:""})},"../../libs/shared/dist/features/recipientInput/utils/validators.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPublicKey=void 0;const i=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js");t.isValidPublicKey=e=>{try{return new i.PublicKey(e),!0}catch(e){return!1}}},"../../libs/shared/dist/features/shared/components/PreloadWalletData/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../libs/shared/dist/features/trading/index.js");t.default=()=>((0,i.useSwapTokens)(),null)},"../../libs/shared/dist/features/shared/components/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreloadWalletData=void 0;var r=s("../../libs/shared/dist/features/shared/components/PreloadWalletData/index.js");Object.defineProperty(t,"PreloadWalletData",{enumerable:!0,get:function(){return i(r).default}})},"../../libs/shared/dist/features/staking/api/staking.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivateStakingAccount=t.withdrawStakingAccount=t.splitStakingAccount=t.delegateStakingAccount=t.createStakingAccount=void 0;const r=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=i(s("../../../node_modules/base64-js/index.js")),n=s("../../libs/shared/dist/api/index.js"),o=s("../../libs/shared/dist/utils/lamportToSol.js"),d="https://wallet-api.solflare.com";t.createStakingAccount=async function({validator:e,amount:t,pubkey:s,network:i,setComputeBudget:l}){const{body:u}=await(0,n.post)(`${d}/v2/staking/create-stake-account`,{address:s,amount:(0,o.solToLamports)(t),validator:e,network:i,setComputeBudget:l});if(u?.error)throw new Error(u.error);if(!u?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(u.txs[0])),data:{stakeAccountPubkey:u?.stakeAccount}}},t.delegateStakingAccount=async function({stakeAccount:e,address:t,validator:s,network:i,setComputeBudget:o}){const{body:l}=await(0,n.post)(`${d}/v2/staking/delegate-stake`,{stakeAccount:e,address:t,validator:s,network:i,setComputeBudget:o});if(l?.error)throw new Error(l.error);if(!l?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(l.txs[0]))}},t.splitStakingAccount=async function({stakeAccount:e,address:t,amount:s,setComputeBudget:i,network:l}){const{body:u}=await(0,n.post)(`${d}/v2/staking/split-stake`,{stakeAccount:e,address:t,amount:(0,o.solToLamports)(s),setComputeBudget:i,network:l});if(u?.error)throw new Error(u.error);if(!u?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(u.txs[0])),data:{stakeAccountPubkey:u?.stakeAccount}}},t.withdrawStakingAccount=async function({stakeAccount:e,address:t,amountLamports:s,setComputeBudget:i,network:o}){const{body:l}=await(0,n.post)(`${d}/v2/staking/withdraw-stake`,{stakeAccount:e,address:t,amount:s,setComputeBudget:i,network:o});if(l?.error)throw new Error(l.error);if(!l?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(l.txs[0]))}},t.deactivateStakingAccount=async function({stakeAccount:e,address:t,setComputeBudget:s,network:i}){const{body:o}=await(0,n.post)(`${d}/v2/staking/deactivate-stake`,{stakeAccount:e,address:t,network:i,setComputeBudget:s});if(o?.error)throw new Error(o.error);if(!o?.txs?.length)throw new Error("Failed to generate transaction");return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(o.txs[0]))}}},"../../libs/shared/dist/features/stakingCore/api/stakingAccounts.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakingAccounts=void 0;const i=s("../../libs/shared/dist/api/index.js"),r={inactive:11,inactiveDeactivating:10,deactivating:9,activating:8,active:7,activeInactive:6,empty:0},a=e=>e.includes("inactive")&&e.includes("deactivating")?"inactiveDeactivating":e.includes("active")&&e.includes("inactive")?"activeInactive":e.includes("empty")?"empty":e.includes("activating")?"activating":e[e.length-1];t.getStakingAccounts=async(e,t,s,r)=>{const a=r?`&extend=${r}`:"",{body:o}=await(0,i.get)(`https://wallet-api.solflare.com/v2/portfolio/stake/${e}?network=${t}&currency=${s}${a}`),d=o;return{...d,stakeAccounts:n(d.stakeAccounts)}};const n=e=>e.sort(((e,t)=>{const s=r[a(e.statuses)]||1,i=r[a(t.statuses)]||1;return s!==i?i-s:e.amount!==t.amount?parseInt(t.amount,10)-parseInt(e.amount,10):t.voter>e.voter?1:-1}))},"../../libs/shared/dist/features/stakingCore/api/stakingRewards.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakingRewards=void 0;const i=s("../../libs/shared/dist/api/index.js");t.getStakingRewards=async(e,t)=>{const{body:s}=await(0,i.get)(`https://wallet-api.solflare.com/v2/staking/account/${e}/rewards?activationEpoch=${t}`);return{rewards:s.data}}},"../../libs/shared/dist/features/stakingCore/api/validators.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getValidators=void 0;const i=s("../../libs/shared/dist/api/index.js"),r=s("../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js");t.getValidators=async(e,t,s)=>{const{body:a}=await(0,i.get)(`https://wallet-api.solflare.com/v2/staking/validators?network=${e}${t?`&query=${encodeURIComponent(t)}`:""}${s?`&selected=${encodeURIComponent(s)}`:""}`);return a.data.map(r.transformValidatorResponse)}},"../../libs/shared/dist/features/stakingCore/components/StakingProvider.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.StakingProvider=t.useStakingProvider=t.useStakeModal=t.STAKING_EVENTS_DEFAULT_STATE=void 0;const n=s("../../../node_modules/react/jsx-runtime.js"),o=a(s("../../../node_modules/react/index.js")),d=s("../../libs/foundation-ui/dist/index.js");t.STAKING_EVENTS_DEFAULT_STATE={transaction:"",amountInSol:"",amountInUsd:"",validatorName:"",validatorNodePubKey:"",validatorVotePubKey:"",source:""};const l=o.default.createContext({});t.useStakeModal=()=>{const{stakingModal:e}=o.default.useContext(l);if(!e)throw new Error("useStakeModal called outside the StakeModalProvider context");return e},t.useStakingProvider=()=>{const e=o.default.useContext(l);if(!e)throw new Error("useStakingProvider called outside the StakeModalProvider context");return e},t.StakingProvider=({children:e})=>{const s=(0,d.useDisclosure)(),[i,r]=(0,o.useState)(),[a,u]=(0,o.useState)(t.STAKING_EVENTS_DEFAULT_STATE),c=(0,o.useMemo)((()=>({stakingModal:s,setLastCreatedStakeAccountPubKey:r,lastCreatedStakeAccountPubKey:i,stakingEvents:a,setStakingEvents:u})),[i,s,a]);return(0,n.jsx)(l.Provider,{value:c,children:e})}},"../../libs/shared/dist/features/stakingCore/constants.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_STAKE_AMOUNT=void 0,t.MIN_STAKE_AMOUNT=.01},"../../libs/shared/dist/features/stakingCore/hooks/useCreateStakeAccountMutation.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateStakeAccountMutation=void 0;const i=s("../../../node_modules/react-i18next/dist/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/features/featureFlags/index.js"),n=s("../../libs/shared/dist/wallet/index.js"),o=s("../../libs/shared/dist/features/settings/index.js"),d=s("../../libs/shared/dist/features/staking/api/staking.js"),l=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js");t.useCreateStakeAccountMutation=()=>{const{t:e}=(0,i.useTranslation)(),{setLastCreatedStakeAccountPubKey:t,stakingEvents:s,setStakingEvents:u}=(0,l.useStakingProvider)(),{wallet:c,transactionInit:m}=(0,n.useSolflareWallet)(),{cluster:p}=(0,o.useNetwork)();return(0,r.useMutation)({mutationFn:({validator:i,amountSOL:r,onBroadcast:n,confirmData:o})=>new Promise(((t,f)=>{m({title:e("action_stake"),commitment:"confirmed",txBuilder:d.createStakingAccount,builderParams:{amount:r,pubkey:c.publicKey,validator:i,network:p,setComputeBudget:!0},confirmDialog:o,onBroadcast({status:e,signature:t,stringifiedError:i}){"success"===e?n?.():(0,a.logSignTxStake)({...s,transaction:t||"",error:i})},onConfirm({status:e,signature:i,data:r,stringifiedError:n}){(0,a.logSignTxStake)({...s,transaction:i||"",error:"success"===e?void 0:n}),"success"===e?(t(r?.stakeAccountPubkey),u({...l.STAKING_EVENTS_DEFAULT_STATE})):(f(null),u({...l.STAKING_EVENTS_DEFAULT_STATE}))}})})).then((e=>(t(e),e)))})}},"../../libs/shared/dist/features/stakingCore/hooks/useDelegate.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useDelegateStakeAccountMutation=void 0;const i=s("../../../node_modules/react-i18next/dist/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/features/featureFlags/index.js"),n=s("../../libs/shared/dist/wallet/index.js"),o=s("../../libs/shared/dist/features/settings/index.js"),d=s("../../libs/shared/dist/features/staking/api/staking.js"),l=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js");t.useDelegateStakeAccountMutation=()=>{const{t:e}=(0,i.useTranslation)(),t=(0,r.useQueryClient)(),{wallet:s,transactionInit:u}=(0,n.useSolflareWallet)(),{cluster:c}=(0,o.useNetwork)(),{stakingEvents:m,setStakingEvents:p}=(0,l.useStakingProvider)();return(0,r.useMutation)({mutationFn:({stakePubkey:i,onBroadcast:r,confirmData:n,validatorPubkey:o})=>u({title:e("action_restake"),commitment:"confirmed",txBuilder:d.delegateStakingAccount,builderParams:{address:s.publicKey,stakeAccount:i,validator:o,network:c,setComputeBudget:!0},confirmDialog:n,onBroadcast({status:e,signature:t,stringifiedError:s}){"success"===e?r?.():(0,a.logSignTxStake)({...m,transaction:t||"",error:s})},onConfirm({status:e,signature:s,stringifiedError:i}){(0,a.logSignTxStake)({...m,transaction:s||"",error:"success"===e?void 0:i}),"success"===e&&(t.invalidateQueries(["staking-accounts"]),p({...l.STAKING_EVENTS_DEFAULT_STATE}))}})})}},"../../libs/shared/dist/features/stakingCore/hooks/useRewards.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRewards=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/features/stakingCore/api/stakingRewards.js");t.useRewards=(e,t)=>(0,i.useQuery)({queryKey:["stakingRewards",e,t],queryFn:()=>(0,r.getStakingRewards)(e,t),staleTime:1/0,keepPreviousData:!0})},"../../libs/shared/dist/features/stakingCore/hooks/useSplit.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSplitMutation=void 0;const i=s("../../../node_modules/react-i18next/dist/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/wallet/index.js"),n=s("../../libs/shared/dist/features/settings/index.js"),o=s("../../libs/shared/dist/features/staking/api/staking.js"),d=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js");t.useSplitMutation=()=>{const{t:e}=(0,i.useTranslation)(),{setLastCreatedStakeAccountPubKey:t}=(0,d.useStakingProvider)(),{wallet:s,transactionInit:l}=(0,a.useSolflareWallet)(),{cluster:u}=(0,n.useNetwork)();return(0,r.useMutation)({mutationFn:({amountSOL:i,onBroadcast:r,confirmData:a,stakePubkey:n})=>l({title:e("action_split"),commitment:"confirmed",txBuilder:o.splitStakingAccount,builderParams:{amount:i,address:s.publicKey,stakeAccount:n,setComputeBudget:!0,network:u},confirmDialog:a,onBroadcast({status:e}){"success"===e&&r?.()},onConfirm({status:e,data:s}){"success"===e&&t(s?.stakeAccountPubkey)}})})}},"../../libs/shared/dist/features/stakingCore/hooks/useStakingAccounts.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useStakingAccounts=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/features/currencies/index.js"),o=s("../../libs/shared/dist/features/stakingCore/api/stakingAccounts.js"),d=s("../../libs/shared/dist/features/stakingCore/index.js");t.useStakingAccounts=()=>{const e=(0,i.useSelector)(a.activePubkeySelector),{cluster:t}=(0,i.useSelector)(a.networkSelector),s=(0,n.useCurrentCurrency)(),{lastCreatedStakeAccountPubKey:l}=(0,d.useStakingProvider)();return(0,r.useQuery)({queryKey:["staking-accounts",t,e,s.ticker,l],queryFn:()=>(0,o.getStakingAccounts)(e,t,s.ticker,l),staleTime:1/0,refetchInterval:3e4,keepPreviousData:!0})}},"../../libs/shared/dist/features/stakingCore/hooks/useValidators.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useValidators=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/features/stakingCore/api/validators.js");t.useValidators=(e="",t="")=>{const s=(0,i.useSelector)(a.networkSelector);return(0,r.useQuery)({queryKey:["validators",s.cluster,e,t],queryFn:()=>(0,n.getValidators)(s.cluster,e,t),staleTime:1/0,keepPreviousData:!0})}},"../../libs/shared/dist/features/stakingCore/hooks/useWithdraw.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWithdrawMutation=void 0;const i=s("../../../node_modules/react-i18next/dist/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/wallet/index.js"),n=s("../../libs/shared/dist/features/settings/index.js"),o=s("../../libs/shared/dist/features/staking/api/staking.js");t.useWithdrawMutation=()=>{const{t:e}=(0,i.useTranslation)(),{wallet:t,transactionInit:s}=(0,a.useSolflareWallet)(),d=(0,r.useQueryClient)(),{cluster:l}=(0,n.useNetwork)();return(0,r.useMutation)({mutationFn:({onBroadcast:i,confirmData:r,stakePubkey:a,amountLamports:n,closeAccount:u=!1})=>s({title:e(u?"close_staking_account_title":"action_withdraw"),commitment:"confirmed",txBuilder:o.withdrawStakingAccount,builderParams:{address:t.publicKey,amountLamports:n.toString(),stakeAccount:a,network:l,setComputeBudget:!0},confirmDialog:r,onBroadcast({status:e}){"success"===e&&i?.()},onConfirm({status:e}){"success"===e&&d.invalidateQueries(["staking-accounts"])}})})}},"../../libs/shared/dist/features/stakingCore/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakeStatus=t.useWithdrawMutation=t.useValidators=t.useStakingAccounts=t.useSplitMutation=t.useRewards=t.useDelegateStakeAccountMutation=t.useCreateStakeAccountMutation=t.STAKING_EVENTS_DEFAULT_STATE=t.useStakingProvider=t.useStakeModal=t.StakingProvider=void 0;var i=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js");Object.defineProperty(t,"StakingProvider",{enumerable:!0,get:function(){return i.StakingProvider}}),Object.defineProperty(t,"useStakeModal",{enumerable:!0,get:function(){return i.useStakeModal}}),Object.defineProperty(t,"useStakingProvider",{enumerable:!0,get:function(){return i.useStakingProvider}}),Object.defineProperty(t,"STAKING_EVENTS_DEFAULT_STATE",{enumerable:!0,get:function(){return i.STAKING_EVENTS_DEFAULT_STATE}});var r=s("../../libs/shared/dist/features/stakingCore/hooks/useCreateStakeAccountMutation.js");Object.defineProperty(t,"useCreateStakeAccountMutation",{enumerable:!0,get:function(){return r.useCreateStakeAccountMutation}});var a=s("../../libs/shared/dist/features/stakingCore/hooks/useDelegate.js");Object.defineProperty(t,"useDelegateStakeAccountMutation",{enumerable:!0,get:function(){return a.useDelegateStakeAccountMutation}});var n=s("../../libs/shared/dist/features/stakingCore/hooks/useRewards.js");Object.defineProperty(t,"useRewards",{enumerable:!0,get:function(){return n.useRewards}});var o=s("../../libs/shared/dist/features/stakingCore/hooks/useSplit.js");Object.defineProperty(t,"useSplitMutation",{enumerable:!0,get:function(){return o.useSplitMutation}});var d=s("../../libs/shared/dist/features/stakingCore/hooks/useStakingAccounts.js");Object.defineProperty(t,"useStakingAccounts",{enumerable:!0,get:function(){return d.useStakingAccounts}});var l=s("../../libs/shared/dist/features/stakingCore/hooks/useValidators.js");Object.defineProperty(t,"useValidators",{enumerable:!0,get:function(){return l.useValidators}});var u=s("../../libs/shared/dist/features/stakingCore/hooks/useWithdraw.js");Object.defineProperty(t,"useWithdrawMutation",{enumerable:!0,get:function(){return u.useWithdrawMutation}});var c=s("../../libs/shared/dist/features/stakingCore/utils/getStakeStatus.js");Object.defineProperty(t,"getStakeStatus",{enumerable:!0,get:function(){return c.getStakeStatus}})},"../../libs/shared/dist/features/stakingCore/utils/getStakeStatus.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakeStatus=void 0,t.getStakeStatus=e=>{const t=e;return t.includes("activating")?"activating":t.includes("deactivating")&&t.includes("inactive")?"deactivating-inactive":t.includes("inactive")&&t.includes("active")?"inactive-active":t.includes("deactivating")?"deactivating":1===t.length&&t.includes("active")?"active":1===t.length&&t.includes("inactive")?"inactive":t.includes("empty")?"empty":void 0}},"../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.transformValidatorResponse=void 0;const i=s("../../libs/shared/dist/utils/displayPrice.js"),r=s("../../libs/shared/dist/utils/truncateMiddle.js");t.transformValidatorResponse=e=>({...e,id:e.votePublicKey,name:e.name??(0,r.truncateMiddle)(e.votePublicKey),apyUI:(0,i.displayPrice)({amount:e.apy,suffix:"% APY",displayType:"medium"})})},"../../libs/shared/dist/features/stakingModal/components/StakeForm.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StakeForm=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/assets/solana.png")),d=s("../../libs/shared/dist/components/WebInfoTooltip/index.js"),l=s("../../libs/shared/dist/features/stakingModal/components/ValidatorInfoTable.js");t.StakeForm=({maxSOLBalance:e,onAmountChange:t,selectedAmount:s,validatorOptions:i,onValidatorQueryChange:u,validatorsFetching:c,validatorsLoading:m,onValidatorChange:p,selectedValidator:f,handleAmountChange:b,computedInputValue:h})=>{const{t:_}=(0,a.useTranslation)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.SendInput,{label:(0,r.jsx)(n.Label,{htmlFor:"token-input",children:_("table_token")}),right:t&&(0,r.jsxs)(n.RightLabel,{onClick:e.isGreaterThan(0)?()=>t(e.toString()):void 0,children:[_("swap_max"),": ",e.toString()]}),id:"token-input",value:h,selectedToken:{tokenId:"-",symbol:"SOL",amount:"-",logoURI:o.default,verified:!0},readOnly:!t,autoFocusAmount:!0,amount:s,amountInputSize:"m",onAmountChange:e=>b?.(e.target.value),tokens:[],onSelectedTokenChange:()=>{},disabledTokenSelect:!0,amountTextInputType:"text"}),(0,r.jsx)(n.ValidatorSelect,{options:i,onSearchChange:e=>u(e.target.value),isLoading:m,isFetching:c,onChange:p,onOpenChange:e=>!e&&u(void 0),value:f??void 0,placeholder:_("staking_please_select_a_validator"),searchInputPlaceholder:_("form_recepient_placeholder"),label:(0,r.jsxs)(r.Fragment,{children:[_("table_validator"),(0,r.jsx)(d.WebInfoTooltip,{tooltip:_("staking_validator_description")})]})}),f&&(0,r.jsx)(l.ValidatorInfoTable,{validator:f,selectedAmount:s})]})}},"../../libs/shared/dist/features/stakingModal/components/ValidatorInfoTable.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorInfoTable=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=s("../../libs/shared/dist/utils/displayPrice.js"),o=s("../../libs/shared/dist/utils/lamportToSol.js");t.ValidatorInfoTable=({validator:e,selectedAmount:t})=>{const{t:s}=(0,r.useTranslation)();return(0,i.jsxs)(a.InfoTable,{children:[(0,i.jsx)(a.InfoRow,{left:(0,i.jsxs)(a.InfoRowLeft,{children:[s("staking_stake_detail_annual_return_label"),(0,i.jsx)(a.InfoTooltip,{tooltip:s("staking_stake_detail_annual_return_label_tooltip")})]}),right:(0,i.jsx)(a.InfoRowRight,{children:t?(0,n.displayPrice)({amount:+(Number(t)||0)*(e.apy/100),displayType:"short",suffix:" SOL"}):"-"})}),(0,i.jsx)(a.InfoRow,{left:(0,i.jsxs)(a.InfoRowLeft,{children:[s("staking_stake_detail_total_stake_label"),(0,i.jsx)(a.InfoTooltip,{tooltip:s("staking_stake_detail_total_stake_label_tooltip")})]}),right:(0,i.jsx)(a.InfoRowRight,{children:(0,n.displayPrice)({amount:(0,o.lamportsToSol)(e.stakeActive),displayType:"none",suffix:" SOL"})})})]})}},"../../libs/shared/dist/features/stakingModal/hooks/useCreateStakeForm.js":function(e,t,s){var i=s("../../../node_modules/console-browserify/index.js"),r=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateStakeForm=void 0;const d=s("../../../node_modules/react/jsx-runtime.js"),l=n(s("../../../node_modules/react/index.js")),u=s("../../../node_modules/react-i18next/dist/es/index.js"),c=s("../../../node_modules/react-router-dom/esm/react-router-dom.js"),m=o(s("../../../node_modules/bignumber.js/bignumber.js")),p=s("../../../node_modules/lodash/lodash.js"),f=o(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js")),b=s("../../libs/shared/dist/constants/validatorStatus.js"),h=s("../../libs/shared/dist/utils/common.js"),_=s("../../libs/shared/dist/utils/displayPrice.js"),j=s("../../libs/shared/dist/utils/lamportToSol.js"),g=s("../../libs/shared/dist/utils/truncateMiddle.js"),y=s("../../libs/shared/dist/features/amountInput/utils.js"),x=s("../../libs/shared/dist/features/currencies/index.js"),v=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),k=s("../../libs/shared/dist/features/stakingCore/index.js"),S=s("../../libs/shared/dist/features/stakingCore/utils/transformValidatorResponse.js"),T=s("../../libs/shared/dist/features/stakingModal/utils/createStakeErrors.js");t.useCreateStakeForm=(e,t)=>{const{push:s}=(0,c.useHistory)(),{t:r}=(0,u.useTranslation)(),a=(0,x.useCurrentCurrency)(),{data:n}=(0,v.useSolanaToken)(),[o,w]=(0,l.useState)(t&&(0,j.lamportsToSol)(t.amount).toString()),[P,C]=(0,l.useState)(t?.validator?.status===b.ValidatorStatusEnum.Active?(0,S.transformValidatorResponse)(t.validator):void 0),[A,O]=l.default.useState(),[M,I]=l.default.useState(),[E,R,D]=(0,k.useStakeModal)(),N=l.default.useRef((0,p.debounce)((e=>I(e)),700)).current,L=(0,l.useCallback)((e=>{O(e),N(e)}),[N]),B=+(n?.accounts[0]?.amount||0),F=m.default.maximum((0,j.lamportsToSol)(B||0).minus(.05),0),U=o&&+o&&n?.price?.usdPrice&&(0,h.isValidPositiveNumber)(String(n.price.usdPrice))?(0,_.displayPrice)({amount:String(+o*+n.price.usdPrice),prefix:a.symbol,displayType:"value"}):"",{data:V,isLoading:W,isFetching:q}=(0,k.useValidators)(M,P?.votePublicKey??void 0),{mutateAsync:K,isLoading:$}=(0,k.useCreateStakeAccountMutation)(),{mutateAsync:G,isLoading:H}=(0,k.useDelegateStakeAccountMutation)(),Q=(V||[]).map((e=>({...e,recommendedTagText:e.recommended?r("form_recommended"):void 0}))),Y=(0,T.getCreateStakeError)(o,B,Boolean(t),r),z=()=>{w(void 0),C(void 0),D()},J=!P&&V?Q[0]:P,X=t?G:K,Z=t?{stakePubkey:t.publicKey,validatorPubkey:J?.votePublicKey,amountSOL:o,wallet:e,confirmData:(0,d.jsx)(f.default,{validatorName:J?.name??(0,g.truncateMiddle)(J?.votePublicKey),validatorImage:J?.image??void 0,amount:o??"0"}),onBroadcast:()=>{z(),s("/staking")}}:{validator:J?.votePublicKey,amountSOL:o,wallet:e,confirmData:(0,d.jsx)(f.default,{validatorName:J?.name??(0,g.truncateMiddle)(J?.votePublicKey),validatorImage:J?.image??void 0,amount:o??"0"}),onBroadcast:()=>{z(),s("/staking")}};return{selectedAmount:o,setSelectedAmount:w,selectedValidator:J,setSelectedValidator:e=>{C(e),L()},validatorOptions:Q,maxSOLBalance:F,setValidatorFilter:L,validatorFilter:A,validatorsLoading:W,validatorsFetching:q,createStake:()=>X(Z),createStakeLoading:$||H,closeStakeModal:z,error:Y,isStakeModalOpen:E,handleAmountChange:e=>{try{const t=(0,y.resolveAmountInput)(e,n?.decimals??0);w(t)}catch(e){i.log(e)}},solanaToken:n,computedInputValue:U}}},"../../libs/shared/dist/features/stakingModal/hooks/useStakingBanner.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useStakingBanner=t.MINIMAL_REQUIRED_BALANCE_LAMPORTS=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../libs/wallet-core/dist/shared.js"),a=s("../../libs/shared/dist/hooks/useMetamask/index.js"),n=s("../../libs/shared/dist/wallet/index.js"),o=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),d=s("../../libs/shared/dist/features/stakingCore/index.js");t.MINIMAL_REQUIRED_BALANCE_LAMPORTS=101e7,t.useStakingBanner=()=>{const[e,s]=(0,d.useStakeModal)(),{data:l}=(0,o.useSolanaToken)(),{isMetamask:u}=(0,a.useMetamask)(),{wallet:{instance:c}}=(0,n.useSolflareWallet)(),m=c?.type===r.BURNER;return{shouldShowBanner:(0,i.useMemo)((()=>{const e=+(l?.accounts[0]?.amount??0);return e&&!m&&t.MINIMAL_REQUIRED_BALANCE_LAMPORTS<e&&!u}),[m,u,l?.accounts]),openStakeModal:s}}},"../../libs/shared/dist/features/stakingModal/utils/createStakeErrors.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateStakeError=void 0;const r=i(s("../../../node_modules/bignumber.js/bignumber.js")),a=s("../../libs/shared/dist/utils/lamportToSol.js"),n=s("../../libs/shared/dist/features/stakingCore/constants.js");t.getCreateStakeError=(e,t,s=!1,i)=>{if(void 0===t)return;if(t<3200760)return{title:i("validation_insufficient_balance_title",{symbol:"SOL"}),message:i("validation_insufficient_balance_description",{amount:"0.01 SOL"})};if(t<1e7)return{title:i("validation_insufficient_balance_to_stake_title",{symbol:"SOL"}),message:i("validation_insufficient_balance_description",{amount:"0.02 SOL"})};if(s)return;if(void 0===e||isNaN(+e))return;if(0==+e)return;const o=new r.default(e||0);return""===e||o.isLessThan(n.MIN_STAKE_AMOUNT)?{title:i("staking_validation_amount_below_minimum_title"),message:i("staking_validation_amount_below_minimum_description",{amount:`${n.MIN_STAKE_AMOUNT} SOL`})}:(0,a.lamportsToSol)(t).isLessThan(o.plus(.05))?{title:i("staking_validation_insufficient_balance_title"),message:i("staking_validation_insufficient_balance_description")}:void 0}},"../../libs/shared/dist/features/swap/api/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendSwapTransaction=t.getSwapTransaction=t.getSwapQuote=void 0;const r=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),a=i(s("../../../node_modules/base64-js/index.js")),n=s("../../libs/shared/dist/api/index.js"),o=s("../../libs/shared/dist/utils/extension.js"),d="https://wallet-api.solflare.com";t.getSwapQuote=async({publicKey:e,inputMint:t,outputMint:s,amount:i,slippageBps:r,feeBps:a})=>{try{const l=o.isExtension?"extension":"web",{body:u}=await(0,n.get)(`${d}/v2/swap/quote?address=${e}&fromMint=${t}&toMint=${s}&amount=${i}&slippageBps=${r}&feeBps=${a}&deviceType=${l}`);return u}catch(e){return{}}},t.getSwapTransaction=async({publicKey:e,data:t})=>{try{const{body:s}=await(0,n.post)(`${d}/v2/swap/tx`,{address:e,platform:t.platform,data:t.data,deviceType:o.isExtension?"extension":"web"});return{transaction:r.VersionedTransaction.deserialize(a.default.toByteArray(s.data.transaction)),data:{...s}}}catch(e){throw new Error(e?.response?.data?.error||e?.message)}},t.sendSwapTransaction=async({platform:e,data:t},s)=>{try{const i={};s&&(i["Ref-Key"]=s);const{body:r}=await(0,n.post)(`${d}/v2/swap/relay`,{platform:e,data:t},{headers:i});return r}catch(e){throw new Error(e?.response?.data?.error||e?.message)}}},"../../libs/shared/dist/features/swap/components/BadTradeDialog/Content.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js");t.default=({onCheckedChange:e,title:t,checked:s})=>{const{t:n}=(0,r.useTranslation)();return(0,i.jsxs)(a.DrawerContent,{children:[(0,i.jsx)(a.Alert,{title:t,message:n("swap_unfavorable_trade_warning_description"),variant:"warning"}),(0,i.jsx)(a.Paragraph,{children:n("swap_unfavorable_trade_description")}),(0,i.jsx)(a.Control,{id:"acknowladgeBadTrade",label:n("swap_unfavorable_trade_checkbox_label"),action:(0,i.jsx)(a.Checkbox,{checked:s,onChange:t=>e(!!t.target.checked)})})]})}},"../../libs/shared/dist/features/swap/components/BadTradeDialog/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/rise-ui/dist/index.js"),u=s("../../libs/shared/dist/utils/extension.js"),c=s("../../libs/shared/dist/features/swap/constants.js"),m=i(s("../../libs/shared/dist/features/swap/components/BadTradeDialog/Content.js")),p=(0,o.default)("div")((()=>({marginTop:"32px",marginBottom:"-24px"})));t.default=({onOpenChange:e,onContinueClick:t,open:s,variant:i=c.ErrorVariant.priceImpact,impact:o,percentageDiff:f=""})=>{const{t:b}=(0,n.useTranslation)(),[h,_]=(0,a.useState)(!1),j={[c.ErrorVariant.priceImpact]:{title:b("swap_unfavorable_trade_price_impact_title"),description:b("swap_unfavorable_trade_price_impact_warning_title",{impact:`${o}%`})},[c.ErrorVariant.moreExpensive]:{title:b("swap_unfavorable_trade_low_rate_title"),description:b("swap_unfavorable_trade_low_rate_warning_title",{rate:`${f}%`,exchange:"CoinGecko"})}},g=t=>{_(!1),e(t)},y=()=>{_(!1),t()};return u.isExtension&&!u.isExpandedView?(0,r.jsxs)(d.Drawer,{onOpenChange:g,open:s,children:[(0,r.jsx)(d.DrawerTitle,{center:j[i]?.title}),(0,r.jsx)(m.default,{checked:h,onCheckedChange:e=>_(e),title:j[i]?.description}),(0,r.jsx)(d.DrawerActions,{children:(0,r.jsxs)(d.ButtonGroup,{children:[(0,r.jsx)(d.Button,{onClick:()=>g(!1),variant:"secondary",children:b("action_cancel")}),(0,r.jsx)(d.Button,{disabled:!h,variant:"destructive",onClick:y,children:b("action_continue")})]})})]}):(0,r.jsxs)(l.Modal,{title:(0,r.jsx)(d.DrawerTitleTypography,{children:j[i]?.title}),open:s,onClose:()=>g(!1),children:[(0,r.jsx)(m.default,{checked:h,onCheckedChange:e=>_(e),title:j[i]?.description}),(0,r.jsx)(p,{children:(0,r.jsxs)(d.ButtonGroup,{children:[(0,r.jsx)(d.Button,{onClick:()=>g(!1),variant:"secondary",children:b("action_cancel")}),(0,r.jsx)(d.Button,{disabled:!h,variant:"destructive",onClick:y,children:b("action_continue")})]})})]})}},"../../libs/shared/dist/features/swap/components/DisabledSwap/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DisabledSwap=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/foundation-ui/dist/index.js"),n=()=>{};t.DisabledSwap=()=>{const{t:e}=(0,r.useTranslation)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.PageTitle,{center:e("header_swap"),textAlign:"left"}),(0,i.jsx)(a.PageContent,{overflow:!0,children:(0,i.jsx)(a.Swap,{children:(0,i.jsx)(a.SwapAssets,{from:(0,i.jsx)(a.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:n,label:(0,i.jsx)(a.Label,{htmlFor:"fromDefault",children:e("from_swap")}),right:(0,i.jsx)(a.RightLabel,{children:e("swap_max")}),tokens:[]}),to:(0,i.jsx)(a.SwapInput,{isLoading:!0,placeholder:"0.00",id:"fromDefault",selectedToken:{},onSelectedTokenChange:n,label:(0,i.jsx)(a.Label,{htmlFor:"fromDefault",children:e("to_swap")}),right:(0,i.jsx)(a.RightLabel,{children:e("table_balance")}),tokens:[]}),onSwapDividerClick:n,dividerButtonDisabled:!0})})}),(0,i.jsxs)(a.FooterActions,{children:[(0,i.jsx)(a.Alert,{message:e("swap_mainnet_alert_description"),title:e("swap_mainnet_alert_header"),variant:"info"}),(0,i.jsx)(a.Button,{disabled:!0,children:e("action_swap")})]})]})}},"../../libs/shared/dist/features/swap/components/InfoText/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../libs/foundation-ui/dist/index.js");t.default=({children:e,isLoading:t=!1})=>(0,i.jsx)(i.Fragment,{children:t?(0,i.jsx)(r.Skeleton,{__height:"10px",variant:"text",__width:"120px"}):e})},"../../libs/shared/dist/features/swap/components/SwapChart/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),o=s("../../libs/shared/dist/utils/displayPrice.js"),d=s("../../libs/shared/dist/features/currencies/index.js"),l=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),u=s("../../libs/shared/dist/features/tradingView/index.js"),c=s("../../libs/shared/dist/features/tradingView/utils/index.js"),m=(0,n.default)("div")((()=>({borderRadius:"10px",background:"rgb(35, 35, 40)",width:"100%",display:"flex",flexDirection:"column",flex:1})));t.default=()=>{const[e,t]=(0,a.useState)(null),{selectedFromCoin:s,selectedToCoin:i}=(0,l.useSharedTradingState)();(0,a.useEffect)((()=>{t(null)}),[s?.tokenId,i?.tokenId]);const n=(0,a.useCallback)((e=>{t(e)}),[]),p=(0,a.useMemo)((()=>{if(s?.tokenId&&i?.tokenId)return(0,c.determineOrderSide)({address:s.tokenId,symbol:s.symbol,logoUri:s.logoURI,verified:s.verified},{address:i.tokenId,symbol:i.symbol,logoUri:i.logoURI,verified:i.verified})}),[s,i]),{data:f}=(0,u.useMarketHistory)(p?.base?.address,p?.quote?.address),b=e&&f&&f.length>0?(e.close-f[0].close)/f[0].close*100:null;return(0,r.jsxs)(m,{children:[(0,r.jsx)(u.ChartTopBar,{price:(0,r.jsx)(u.TopBarPrice,{isLoading:!e,price:(0,o.displayPrice)({amount:e?.close,displayType:"value"}),priceChangeVariant:b&&b<0?"negative":"positive",priceChange:null!==b&&(0,r.jsx)(d.DisplayPercentageChange,{value:b})}),children:(0,r.jsx)(u.TradeCoinPair,{base:(0,r.jsx)(u.TradeCoin,{isLoading:!p,symbol:p?.base?.symbol,logoUri:p?.base?.logoUri,verified:p?.base?.verified}),quote:(0,r.jsx)(u.TradeCoin,{isLoading:!p,symbol:p?.quote?.symbol,logoUri:p?.quote?.logoUri,verified:p?.quote?.verified})})}),(0,r.jsx)(u.TradingViewContainer,{children:(0,r.jsx)(u.TradingViewChart,{fromAddress:p?.base?.address||"",fromSymbol:p?.base?.symbol||"",toAddress:p?.quote?.address||"",toSymbol:p?.quote?.symbol||"",onBarReceivedCallback:n})})]})}},"../../libs/shared/dist/features/swap/components/Table/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=i(s("../../../node_modules/bignumber.js/bignumber.js")),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/utils/common.js"),u=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/utils/units.js"),m=s("../../libs/shared/dist/features/featureFlags/index.js"),p=s("../../libs/shared/dist/features/trading/constants.js"),f=i(s("../../libs/shared/dist/features/swap/components/InfoText/index.js"));t.default=({enable:e,quote:t,marketPrice:s,isLoading:i,fromCoin:b,toCoin:h,coinsByMint:_})=>{const{t:j}=(0,n.useTranslation)(),[g,y]=(0,a.useState)("fromTo"),x=(0,a.useMemo)((()=>{if(i||!s)return{fromTo:"",toFrom:""};const e=_[s.from??""],t=_[s.denom??""],r=(0,u.displayPrice)({amount:s?.price,displayType:"solana"}),a=(0,u.displayPrice)({amount:new o.default(1).dividedBy(s.price??0).toString(),displayType:"solana"});return{fromTo:`${r} ${t.symbol} per ${e.symbol}`,toFrom:`${a} ${e.symbol} per ${t.symbol}`}}),[_,i,s]),v=Math.abs(100*(t?.priceImpactPct??0));return(0,a.useEffect)((()=>{y("fromTo")}),[b?.tokenId,h?.tokenId]),e?(0,r.jsxs)(d.InfoTable,{children:[(0,r.jsx)(d.InfoRow,{left:(0,r.jsxs)(d.InfoRowLeft,{children:[j("swap_best_price"),(0,r.jsx)(d.InfoTooltip,{onOpen:m.logTooltipRateClicked,tooltip:j("swap_best_price_tooltip")})]}),right:(0,r.jsx)(d.InfoRowRight,{onClick:()=>{y((e=>"fromTo"===e?"toFrom":"fromTo"))},isLoading:i,variant:v>p.PRICE_IMPACT_WARNING_THRESHOLD?"warning":"primary",children:(0,r.jsx)(f.default,{children:x[g]})})}),(0,r.jsx)(d.InfoRow,{left:(0,r.jsxs)(d.InfoRowLeft,{children:[j("swap_minimum_received"),(0,r.jsx)(d.InfoTooltip,{onOpen:m.logTooltipMinimumReceivedClicked,tooltip:j("swap_minimum_received_tooltip")})]}),right:(0,r.jsx)(d.InfoRowRight,{isLoading:i,children:(0,r.jsx)(f.default,{children:(0,u.displayPrice)({suffix:` ${h.symbol}`,displayType:"solana",amount:(0,l.convertToRegularNum)((0,c.convertTokensToDecimals)(t?.otherAmountThreshold||"",h.decimals),h.decimals)})})})})]}):null}},"../../libs/shared/dist/features/swap/constants.js":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.QUOTE_REFETCH_INTERVAL=t.FEE_BPS=t.ErrorVariant=void 0,t.QUOTE_REFETCH_INTERVAL=22,t.FEE_BPS=80,function(e){e.priceImpact="priceImpact",e.moreExpensive="moreExpensive"}(s||(t.ErrorVariant=s={}))},"../../libs/shared/dist/features/swap/hooks/useJupiterQuote/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useJupiterQuote=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/utils/units.js"),o=s("../../libs/shared/dist/features/swap/api/index.js");t.useJupiterQuote=({amount:e,feeBps:t,inputMint:s,outputMint:d,decimals:l,slippageBps:u="0"})=>{const c=(0,i.useSelector)(a.activePubkeySelector);return{quote:(0,r.useQuery)({queryKey:["jupiterQuote"],queryFn:()=>(0,o.getSwapQuote)({publicKey:c,amount:(0,n.convertDecimalsToAmount)(e,l),feeBps:t,inputMint:s,outputMint:d,slippageBps:u}),enabled:!1,cacheTime:0,retry:!1})}}},"../../libs/shared/dist/features/swap/hooks/useSignAndSendSwap/index.js":function(e,t,s){var i=s("../../../node_modules/console-browserify/index.js"),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSignAndSendSwap=void 0;const a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-redux/es/index.js"),d=s("../../../node_modules/react-router-dom/esm/react-router-dom.js"),l=r(s("../../../node_modules/base64-js/index.js")),u=s("../../libs/wallet-core/dist/shared.js"),c=s("../../libs/shared/dist/contexts/solana/SolanaConnectionProvider.js"),m=s("../../libs/shared/dist/hooks/index.js"),p=s("../../libs/shared/dist/store/utils/snackbar.js"),f=s("../../libs/shared/dist/utils/rpc-errors.js"),b=s("../../libs/shared/dist/wallet/index.js"),h=s("../../libs/shared/dist/wallet/context/utils.js"),_=s("../../libs/shared/dist/wallet/hooks/index.js"),j=s("../../libs/shared/dist/features/walletManagement/utils/index.js"),g=s("../../libs/shared/dist/features/swap/api/index.js"),y=s("../../libs/shared/dist/features/swap/types.js");t.useSignAndSendSwap=()=>{const e=(0,o.useDispatch)(),t=(0,d.useHistory)(),{t:s}=(0,n.useTranslation)(),{signAndSend:r}=(0,_.useSignAndSend)(),{cluster:x}=(0,c.useSolanaConnection)(),{transactionData:v,callbacks:k,wallet:S}=(0,b.useSolflareWallet)(),T=(0,m.useRPCProxy)({purpose:"transfer"});return{signAndSend:(0,a.useCallback)((async()=>{const a=new p.SnackbarTransactionSteps({dispatch:e,network:x,history:t,translations:{transaction_sending:s("transaction_sending"),transaction_confirming:s("transaction_confirming"),action_view_on_explorer:s("action_view_on_explorer"),transaction_timeout:s("transaction_timeout",{seconds:30}),transaction_expired:s("transaction_expired",{seconds:30}),transaction_confirmed:s("transaction_confirmed")}});try{if(!v||!("transaction"in v))throw Error("No transaction data");const{data:e}=v;await r({onSend:async r=>{if(v){let n;a.reset(),a.showSending();const{data:o,platform:d}=e??{};try{n=await(0,g.sendSwapTransaction)({data:{...o??{},transaction:l.default.fromByteArray(r.serialize())},platform:d},S?.publicKey?(0,j.encodePubkeyData)(S.publicKey,u.TRACKING_WALLET_TYPES[S.instance?.type||""]??255):void 0),a.showConfirming(n.hash),k.onBroadcast({status:"success",data:e,transaction:n})}catch(t){const{messageShort:r,message:o}=(e=>{switch(e){case y.SwapErrors.INSUFFICIENT_FUNDS:return{messageShort:"trade_insufficient_funds_error_short",message:"trade_insufficient_funds_error_full"};case y.SwapErrors.INSUFFICIENT_SOL:return{messageShort:"trade_insufficient_sol_error_short",message:"trade_insufficient_sol_error_full"};case y.SwapErrors.SLIPPAGE_ERROR:return{messageShort:"trade_slippage_error_short",message:"trade_slippage_error_full"};case y.SwapErrors.SIMULATION_ERROR:return{messageShort:"trade_simulation_error_short",message:"trade_simulation_error_full"};case y.SwapErrors.BLOCKHASH_NOT_FOUND:return{messageShort:"trade_blockhash_not_found_short",message:"trade_blockhash_not_found_full"};default:return{messageShort:"trade_unknown_error_short",message:"trade_unknown_error_full"}}})(t.message);return i.error("Swap broadcast error",t),a.showCustom({message:s(o),variant:"error",messageShort:s(r)}),void k.onBroadcast({status:"fail",data:e,transaction:n})}try{await(0,h.confirmTransaction)(T,n),k.onConfirm({status:"success"}),a.showSuccess()}catch(e){i.error("swap confirm error",e),a.showCustom({message:s("transaction_failed"),variant:"error",onClick:()=>t.push("/activity"),messageShort:s("transaction_failed")}),k.onConfirm({status:"fail"})}}}})}catch(e){const t=(0,f.handleRpcError)(e);return i.error("sign and send swap error",e),a.showCustom({message:t.message||e.message,variant:"error",messageShort:s("transaction_failed")}),void k.onConfirm({status:"fail"})}finally{k.onEnd()}}),[k,x,T,e,t,r,s,v,S.instance?.type,S.publicKey])}}},"../../libs/shared/dist/features/swap/hooks/useSwapFee/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwapFee=void 0;const i=s("../../libs/shared/dist/features/swap/constants.js"),r={amount:(0,1*i.FEE_BPS),percentage:1*i.FEE_BPS/100};t.useSwapFee=()=>({swapFee:r})},"../../libs/shared/dist/features/swap/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SwapWeb=t.default=void 0;var i=s("../../libs/shared/dist/features/swap/swap/swap.ext.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.SwapExt}});var r=s("../../libs/shared/dist/features/swap/swap/swap.web.js");Object.defineProperty(t,"SwapWeb",{enumerable:!0,get:function(){return r.SwapWeb}})},"../../libs/shared/dist/features/swap/swap/container.js":function(e,t,s){var i=s("../../../node_modules/console-browserify/index.js"),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/index.js"),d=s("../../../node_modules/react-router/esm/react-router.js"),l=s("../../../node_modules/lodash/lodash.js"),u=s("../../libs/foundation-ui/dist/index.js"),c=r(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationSwap.js")),m=s("../../libs/shared/dist/components/withWallet/index.js"),p=r(s("../../libs/shared/dist/storage/solflareService.js")),f=s("../../libs/shared/dist/utils/common.js"),b=s("../../libs/shared/dist/utils/displayPrice.js"),h=s("../../libs/shared/dist/utils/units.js"),_=s("../../libs/shared/dist/wallet/index.js"),j=s("../../libs/shared/dist/features/amountInput/utils.js"),g=s("../../libs/shared/dist/features/featureFlags/index.js"),y=s("../../libs/shared/dist/features/infoScreen/index.js"),x=s("../../libs/shared/dist/features/trading/constants.js"),v=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),k=s("../../libs/shared/dist/features/trading/hooks/useWarningStates/index.js"),S=s("../../libs/shared/dist/features/swap/api/index.js"),T=r(s("../../libs/shared/dist/features/swap/components/BadTradeDialog/index.js")),w=r(s("../../libs/shared/dist/features/swap/components/Table/index.js")),P=s("../../libs/shared/dist/features/swap/constants.js"),C=s("../../libs/shared/dist/features/swap/hooks/useJupiterQuote/index.js"),A=s("../../libs/shared/dist/features/swap/hooks/useSignAndSendSwap/index.js"),O=s("../../libs/shared/dist/features/swap/hooks/useSwapFee/index.js");t.default=(0,m.withWallet)({protectedPage:!0})((()=>{const{t:e}=(0,o.useTranslation)(),t=(0,d.useRouteMatch)("/portfolio/:id"),s=(0,d.useLocation)(),{swapFee:r}=(0,O.useSwapFee)(),{selectedFromCoin:m,setSelectedFromCoin:M,selectedToCoin:I,setSelectedToCoin:E,fromCoins:R,toCoins:D,fromAmount:N,setFromAmount:L,slippage:B,setSlippage:F,openSettings:U,settingsData:V,setSettingsData:W,setFromSearchParam:q,setToSearchParam:K,tokens:$,tokensByMint:G,tokensQuery:H,isTokensLoading:Q,maxFromBalance:Y,setExpiry:z}=(0,v.useSharedTradingState)(),{quote:{data:J,dataUpdatedAt:X,isLoading:Z,refetch:ee,remove:te,isFetching:se,status:ie,isError:re,isSuccess:ae}}=(0,C.useJupiterQuote)({amount:N,slippageBps:B.value.toString(),inputMint:m?.tokenId,outputMint:I.tokenId,decimals:m?.decimals,feeBps:r.amount}),[ne,oe]=(0,n.useState)(N),[de,le]=(0,n.useState)(""),[ue,ce]=(0,n.useState)(!1),[me,pe]=(0,n.useState)(0),fe=(0,n.useRef)(),[be,he]=(0,n.useState)(!1),[_e,je]=(0,n.useState)(P.ErrorVariant.priceImpact),{wallet:ge,transactionInit:ye}=(0,_.useSolflareWallet)();(0,n.useEffect)((()=>()=>te()),[]);const xe=J?.uiData,ve=+(100*(xe?.priceImpactPct??0)).toFixed(2),ke=(0,n.useCallback)((()=>{ee()}),[ee]),{alertProps:Se}=(0,k.useWarningStates)({variant:"swap",fromAmount:N,maxFromBalance:Y,selectedFromCoin:m,priceImpact:ve,tokens:$,hasQuoteData:!!xe,isQuoteLoading:Z,dataUpdatedAt:X,isError:re}),Te=!("error"!==Se?.variant&&+ne&&m.tokenId&&I.tokenId&&ue),we=(0,n.useRef)((0,l.debounce)((e=>oe(e)),1e3)).current,Pe=(0,n.useRef)((0,l.debounce)((()=>ke()),500)).current,Ce=(0,n.useCallback)((()=>{ce(!1),Pe()}),[Pe]),Ae=()=>setInterval((()=>{pe((e=>e+1))}),1e3),Oe=(0,n.useCallback)(((e=0)=>{clearInterval(fe.current),fe.current=Ae(),pe(e)}),[]),Me=({type:e,coin:t})=>{if({from:m,to:I}[e]===t)return;const s={from:M,to:E},i={from:q,to:K};if(ce(!1),"from"===e&&I===t||"to"===e&&m===t)return Ie(),void i[e](null);s[e](t),i[e](null)},Ie=()=>{(0,g.logSwitchTokenPlace)();const e=de.replace(/,/g,"");+N&&L((0,f.convertToRegularNum)(e||0,I.decimals)),ce(!1),M(I),E(m)},Ee={isSourceTokenMaxAmount:(0,h.convertTokensToDecimals)(xe?.inAmount||0,m.decimals)===Y.toString(),sourceTokenTicker:m.symbol,sourceTokenMintAddress:m.tokenId,sourceTokenAmount:+(0,h.convertTokensToDecimals)(xe?.inAmount||0,m.decimals),sourceTokenAmountInUsd:+N*m.usdPrice,destinationTokenTicker:I.symbol,destinationTokenMintAddress:I.tokenId,destinationTokenAmount:+(0,h.convertTokensToDecimals)(xe?.outAmount||0,I.decimals),destinationTokenAmountInUsd:+(0,h.convertTokensToDecimals)(xe?.outAmount||0,I.decimals)*I.usdPrice,destinationFeeInTokenAmount:+(0,h.convertTokensToDecimals)(xe?.destinationFeeInTokenAmount??0,I.decimals),destinationFeeInUsd:xe?.destinationFeeInUsd||"0",slippage:B.label,priceImpact:100*(xe?.priceImpactPct||0),market:xe?.market||"",source:s.state?.from?s.state.from:t?"singleToken":"swap"},Re=async()=>{if(!J?.txData)return;he(!1),ce(!1);const t=de.replace(/,/g,"");await ye({title:e("swap_confirmation_title"),txBuilder:S.getSwapTransaction,builderParams:{publicKey:ge.publicKey,data:J.txData},commitment:"confirmed",useSignAndSend:A.useSignAndSendSwap,onBroadcast:({status:e,signature:t,stringifiedError:s})=>{"success"===e?(L(""),le("")):((0,g.logSignTxSwap)({...Ee,transaction:t||"",error:s}),Ce())},onConfirm:({status:e,signature:t,stringifiedError:s})=>{(0,g.logSignTxSwap)({...Ee,transaction:t||"",error:"success"===e?void 0:s}),"fail"===e&&Ce(),"success"===e&&(ce(!1),H.refetch())},onSign:({status:e})=>{"success"!==e&&(0,g.logSignTxSwap)({...Ee,transaction:"",error:g.ERR_CANCELLED}),"rejected"===e&&Ce()},confirmDialog:(0,a.jsx)(c.default,{fromTokenImage:m.logoURI,fromAmountWithSymbol:(0,b.displayPrice)({amount:N,suffix:` ${m.symbol}`,pricePerCoin:m.usdPrice,displayType:"solana"}),fromTokenVerified:m.verified,toTokenImage:I.logoURI,toAmountWithSymbol:(0,b.displayPrice)({amount:t,suffix:` ${I.symbol}`,pricePerCoin:I.usdPrice,displayType:"solana"}),toTokenVerified:I.verified})})};return(0,n.useEffect)((()=>{(async()=>{const{refetch:e,slippage:t,expiry:s}=V||{};e&&!U&&(N&&Ce(),void 0!==t&&(F({value:Math.round(100*t),label:String(t)}),await p.default.swapSlippage.set(+t)),s&&(z(s),await p.default.limitOrderExpiry.set(+s)),W(void 0))})()}),[N,V,U,W,F,z,Ce]),(0,n.useEffect)((()=>(fe.current=Ae(),ue?(me>P.QUOTE_REFETCH_INTERVAL&&(ke(),Oe(1)),()=>{clearInterval(fe.current)}):(clearInterval(fe.current),void pe(0)))),[me,ue,Oe,ke]),(0,n.useEffect)((()=>{ne&&+N==+ne&&+ne&&I.tokenId&&m.tokenId&&ne!==N&&ke()}),[ne,N]),(0,n.useEffect)((()=>{N?(I.tokenId&&N||le(""),+N&&I.tokenId&&m.tokenId&&ke()):le("")}),[m.tokenId,I.tokenId]),(0,n.useEffect)((()=>{if(!re&&xe||le(""),ae&&!se&&xe){je(null);const e=(0,h.convertTokensToDecimals)(xe.outAmount,I.decimals);le((0,b.displayPrice)({displayType:"solana",amount:(0,f.convertToRegularNum)(e,I.decimals)})),ce(!0),ve>x.PRICE_IMPACT_WARNING_THRESHOLD&&je(P.ErrorVariant.priceImpact)}}),[ie,se]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.InfoScreenJupiterSwap,{}),(0,a.jsxs)(u.PageContent,{overflow:!0,children:[(0,a.jsxs)(u.Swap,{children:[(0,a.jsx)(u.SwapAssets,{from:(0,a.jsx)(u.SwapInput,{onBlur:()=>L((e=>""===N?"":(0,f.convertToRegularNum)(e,m.decimals))),placeholder:"0",amount:N,onAmountChange:e=>{let{value:t}=e.target;t=t.trim();try{const e=(0,j.resolveAmountInput)(t,m.decimals);L(e),+e||(le(""),te()),we(+e),ce(!1)}catch(e){i.log(e)}},isLoading:Q,id:"fromDefault",onSearchChange:e=>q(e.target.value),selectedToken:m,onSelectedTokenChange:e=>Me({type:"from",coin:e}),onOpenChange:e=>{e||q(null)},label:(0,a.jsx)(u.Label,{htmlFor:"fromDefault",children:e("sell_label")}),right:(0,a.jsx)(u.RightLabel,{onClick:()=>{(0,g.logMaxCTAClicked)(),Y&&m.tokenId&&I.tokenId&&(Ce(),L(Y.toString()),ne||oe(Y.toString()))},children:(0,b.displayPrice)({displayType:"solana",amount:Y||0,prefix:`${e("swap_max")}: `})}),tokens:R,emptyTokenSearch:0===R.length?e("swap_tokens_empty_state"):"",unverifiedTooltip:e("unverified_token_tooltip")}),to:(0,a.jsx)(u.SwapInput,{placeholder:"0",amount:de,id:"toDefault",readOnly:!0,isLoading:Q,isLoadingAmount:(se||Z)&&+N>0,onSearchChange:e=>K(e.target.value),onOpenChange:e=>{e||K(null)},selectedToken:I,onSelectedTokenChange:e=>Me({type:"to",coin:e}),label:(0,a.jsxs)(u.Label,{htmlFor:"toDefault",children:[e("buy_label")," ",(0,a.jsx)(u.InfoTooltip,{onOpen:g.logTooltipBuyClicked,tooltip:e("swap_buy_tooltip",{swapFee:r.percentage})})]}),right:(0,a.jsx)(u.RightLabel,{htmlFor:"toDefault",children:(0,b.displayPrice)({displayType:"solana",amount:I.rawAmount||0,prefix:`${e("table_balance")}: `})}),tokens:D,emptyTokenSearch:0===D.length?e("swap_tokens_empty_state"):"",unverifiedTooltip:e("unverified_token_tooltip")}),onSwapDividerClick:Ie,dividerButtonDisabled:se}),(0,a.jsx)(w.default,{enable:Boolean(se||xe&&m.tokenId&&I.tokenId&&+N&&ae),fromCoin:m,toCoin:I,quote:xe,marketPrice:xe?.rate,coinsByMint:G,isLoading:se||Z||!N})]}),(0,a.jsx)(T.default,{open:be,variant:_e,impact:(0,b.displayPrice)({amount:ve,displayType:"amount"}),onContinueClick:Re,onOpenChange:he})]}),(0,a.jsxs)(u.FooterActions,{children:[Se&&(0,a.jsx)(u.Alert,{...Se}),(0,a.jsx)(u.Button,{onClick:()=>{_e?he(!0):Re()},disabled:Te,children:e("action_swap")})]})]})}))},"../../libs/shared/dist/features/swap/swap/swap.ext.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwapExt=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../libs/shared/dist/constants/networks.js"),o=s("../../libs/shared/dist/store/selectors/config.js"),d=s("../../libs/shared/dist/features/swap/components/DisabledSwap/index.js"),l=i(s("../../libs/shared/dist/features/swap/swap/container.js"));t.SwapExt=()=>(0,a.useSelector)(o.networkSelector).cluster===n.CLUSTERS.mainnet?(0,r.jsx)(l.default,{}):(0,r.jsx)(d.DisabledSwap,{})},"../../libs/shared/dist/features/swap/swap/swap.web.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwapWeb=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../libs/shared/dist/constants/networks.js"),o=s("../../libs/shared/dist/store/selectors/config.js"),d=s("../../libs/shared/dist/features/swap/components/DisabledSwap/index.js"),l=i(s("../../libs/shared/dist/features/swap/swap/container.js"));t.SwapWeb=()=>(0,a.useSelector)(o.networkSelector).cluster===n.CLUSTERS.mainnet?(0,r.jsx)(l.default,{}):(0,r.jsx)(d.DisabledSwap,{})},"../../libs/shared/dist/features/swap/types.js":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.SwapErrors=void 0,(s=t.SwapErrors||(t.SwapErrors={})).INSUFFICIENT_FUNDS="insufficient-funds",s.INSUFFICIENT_SOL="insufficient-sol",s.SLIPPAGE_ERROR="slippage-error",s.SIMULATION_ERROR="simulation-error",s.UNKNOWN_ERROR="unknown-error",s.BLOCKHASH_NOT_FOUND="blockhash-not-found"},"../../libs/shared/dist/features/swap/utils.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortToTokens=t.sortAndFilterFromTokens=t.filterCoins=void 0;const i=s("../../../node_modules/lodash/lodash.js"),r=s("../../libs/shared/dist/constants/mints.js");t.filterCoins=(e,t,s)=>{if("string"!=typeof t)return e;const i=t.trim();if(i===s)return[];const r=e.find((e=>e.tokenId===i));return r?[r]:e.filter((e=>e.name?.toLowerCase().includes(i.toLowerCase())||e.symbol?.toLowerCase().includes(i.toLowerCase())))},t.sortAndFilterFromTokens=e=>{const t=e.filter((e=>Boolean(e.tokenId===r.WRAPPED_SOL_MINT_ADDRESS||!!+e.rawAmount)));return(0,i.orderBy)(t,[e=>+e.rawValue,e=>e.name.toLowerCase()],["desc","asc"])},t.sortToTokens=e=>(0,i.orderBy)(e,[e=>e.volume24h??0,e=>e.name.toLowerCase()],["desc","asc"])},"../../libs/shared/dist/features/trading/api/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMarketPrice=t.getSwapTokens=void 0;const i=s("../../libs/shared/dist/api/index.js"),r="https://wallet-api.solflare.com";t.getSwapTokens=async()=>{const{body:e}=await(0,i.get)(`${r}/v2/swap/tokens`);return e},t.getMarketPrice=async({inMint:e,outMint:t,priceImpactPct:s})=>{const a={inMint:e,outMint:t};void 0!==s&&(a.priceImpactPct=s);const n=Object.keys(a).map((e=>`${e}=${encodeURIComponent(a[e])}`)).join("&"),{body:o}=await(0,i.get)(`${r}/v2/trade/market-price?${n}`);return o}},"../../libs/shared/dist/features/trading/components/DiscardChanges.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiscardChanges=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/components/UniversalDrawer/index.js"));t.DiscardChanges=({onClose:e,onDiscard:t})=>{const{t:s}=(0,a.useTranslation)();return(0,r.jsx)(o.default,{open:!0,title:s("discard_changes_title"),footer:(0,r.jsxs)(n.ButtonGroup,{children:[(0,r.jsx)(n.Button,{variant:"secondary",onClick:e,children:s("action_keep_editing")}),(0,r.jsx)(n.Button,{variant:"destructive",onClick:t,children:s("action_confirm")})]}),children:(0,r.jsx)(n.Paragraph,{children:s("discard_changes_content")})})}},"../../libs/shared/dist/features/trading/components/TradingLayout.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TradingLayout=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=(0,s("../../../node_modules/@mui/styles/index.js").makeStyles)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"24px",[e.breakpoints.down("lg")]:{alignItems:"center"}},content:{display:"flex",gap:"24px"},orders:{}})));t.TradingLayout=({children:e,orders:t})=>{const s=r();return(0,i.jsxs)("div",{className:s.container,children:[(0,i.jsx)("div",{className:s.content,children:e}),(0,i.jsx)("div",{className:s.orders,children:t})]})}},"../../libs/shared/dist/features/trading/components/TradingSettings.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TradingSettings=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/lodash/lodash.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/shared/dist/components/UniversalModal/index.js"),u=s("../../libs/shared/dist/utils/common.js"),c=s("../../libs/shared/dist/features/trading/constants.js"),m=s("../../libs/shared/dist/features/trading/components/DiscardChanges.js"),p=i(s("../../libs/shared/dist/features/trading/components/TradingSettingsContent.js"));t.TradingSettings=({onClose:e,slippageValue:t,expiryValue:s})=>{const[i,f]=(0,a.useState)(`${t}%`),[b,h]=(0,a.useState)(s||c.EXPIRY_VALUES.NEVER),[_,j]=(0,a.useState)(!1),g=(0,a.useMemo)((()=>i!==`${t}%`&&i!==t),[i,t]),{t:y}=(0,n.useTranslation)(),x=(0,a.useCallback)((async e=>{const{value:t}=e.target,s=(0,u.isValidPositiveNumber)(t);"."!==t?(0,u.hasValidDecimals)(t,2)&&s&&+t>=0&&+t<=50&&f(t):f("0.")}),[]),v=(0,a.useCallback)((()=>{e({refetch:!1,slippage:+t,expiry:b})}),[e,t,b]),k=(0,a.useCallback)((()=>{const t=i.split("%")[0];e({refetch:!0,slippage:+t,expiry:b})}),[e,i,b]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.UniversalModal,{onClose:()=>{g?j(!0):v()},title:y("trading_settings_modal_title"),textAlign:"left",footer:(0,r.jsx)(d.Button,{disabled:!g||(0,o.isEmpty)(i),onClick:k,children:y("action_save")}),children:(0,r.jsx)(p.default,{onBlur:()=>{f((e=>e?e.endsWith("%")?e:`${Math.abs(+e)}%`:"0%"))},onFocus:()=>{f((e=>e.endsWith("%")?e.slice(0,-1):e))},onChange:x,slippage:i,expiry:b,onChangeExpiry:h})}),_&&(0,r.jsx)(m.DiscardChanges,{onClose:()=>j(!1),onDiscard:v})]})}},"../../libs/shared/dist/features/trading/components/TradingSettingsContent.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/components/WebInfoTooltip/index.js"),l=(s("../../libs/shared/dist/features/trading/constants.js"),(0,n.default)("div")((()=>({display:"flex",flexDirection:"column",flex:1}))));t.default=({onBlur:e,onChange:t,onFocus:s,slippage:i,expiry:n,onChangeExpiry:u})=>{const{t:c}=(0,a.useTranslation)();return(0,r.jsx)(l,{children:(0,r.jsx)(o.TextField,{onFocus:s,onBlur:e,value:i,onChange:t,placeholder:c("swap_slippage_placeholder"),label:(0,r.jsxs)(o.Label,{children:[c("swap_slippage_tolerance"),(0,r.jsx)(d.WebInfoTooltip,{tooltip:c("swap_slippage_tooltip")})]})})})}},"../../libs/shared/dist/features/trading/components/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TradingSettings=void 0;var i=s("../../libs/shared/dist/features/trading/components/TradingSettings.js");Object.defineProperty(t,"TradingSettings",{enumerable:!0,get:function(){return i.TradingSettings}})},"../../libs/shared/dist/features/trading/constants.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LOW_RATE_WARNING_THRESHOLD=t.PRICE_IMPACT_WARNING_THRESHOLD=t.SOL_SYMBOL=t.SOLANA_FEE=t.DEFAULT_SLIPPAGE=t.DEFAULT_EXPIRY=t.EXPIRY_VALUES=t.defaultSwapToken=void 0,t.defaultSwapToken={tokenId:"",amount:"",value:"",isAta:!1,isUnknown:!1,verified:!0,decimals:0,price:"0",usdPrice:0,rawAmount:"",rawValue:"",name:"",symbol:"",logoURI:""},t.EXPIRY_VALUES={FIFTEEN_MINUTES:15,ONE_HOUR:60,ONE_DAY:1440,THREE_DAYS:4320,SEVER_DAYS:10080,THIRTY_DAYS:43200,NINETY_DAYS:129600,NEVER:99999999},t.DEFAULT_EXPIRY=t.EXPIRY_VALUES.NEVER,t.DEFAULT_SLIPPAGE=.5,t.SOLANA_FEE=.005,t.SOL_SYMBOL="SOL",t.PRICE_IMPACT_WARNING_THRESHOLD=2,t.LOW_RATE_WARNING_THRESHOLD=10},"../../libs/shared/dist/features/trading/container.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TradingContainer=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),o=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/constants/networks.js"),l=s("../../libs/shared/dist/store/selectors/config.js"),u=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),c=s("../../libs/shared/dist/features/trading/components/index.js");t.TradingContainer=({SwapComponent:e,LimitComponent:t})=>{const s=(0,a.useSelector)(l.networkSelector),{t:m}=(0,r.useTranslation)(),{activeTab:p,setActiveTab:f,openSettings:b,setOpenSettings:h,closeSettings:_,slippage:j,expiry:g}=(0,u.useSharedTradingState)(),y=s.cluster===d.CLUSTERS.mainnet;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.PageTitle,{center:m("header_swap"),textAlign:"left",right:(0,i.jsx)(o.ActionableIcon,{onClick:()=>h(!0),icon:n.faSliders,size:"l"})}),"swap"!==p&&y?(0,i.jsx)(t,{}):(0,i.jsx)(e,{}),b&&(0,i.jsx)(c.TradingSettings,{slippageValue:j.label,expiryValue:g,onClose:_})]})}},"../../libs/shared/dist/features/trading/context/SharedTradingState.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSharedTradingState=t.SharedTradingStateProvider=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-router/esm/react-router.js"),o=s("../../../node_modules/react-router-dom/esm/react-router-dom.js"),d=i(s("../../../node_modules/bignumber.js/bignumber.js")),l=s("../../../node_modules/lodash/lodash.js"),u=i(s("../../../node_modules/qs/lib/index.js")),c=s("../../libs/shared/dist/constants/mints.js"),m=i(s("../../libs/shared/dist/storage/solflareService.js")),p=s("../../libs/shared/dist/features/swap/utils.js"),f=s("../../libs/shared/dist/features/trading/constants.js"),b=s("../../libs/shared/dist/features/trading/hooks/useTokensData/index.js"),h=(0,a.createContext)({activeTab:"swap",setActiveTab:()=>{},selectedFromCoin:f.defaultSwapToken,setSelectedFromCoin:()=>{},selectedToCoin:f.defaultSwapToken,setSelectedToCoin:()=>{},fromCoins:[],toCoins:[],fromAmount:"",setFromAmount:()=>{},maxFromBalance:"",openSettings:!1,setOpenSettings:()=>{},closeSettings:()=>{},settingsData:void 0,setSettingsData:()=>{},slippage:{value:0,label:""},setSlippage:()=>{},expiry:0,setExpiry:()=>{},fromSearchParam:null,setFromSearchParam:()=>{},toSearchParam:null,setToSearchParam:()=>{},portfolioTokenId:null,queryFromToken:null,queryToToken:null,tokens:[],tokensByMint:{},tokensQuery:{}});t.SharedTradingStateProvider=({children:e})=>{const{pathname:t}=(0,n.useLocation)(),s=(0,n.useHistory)(),[i,_]=(t.endsWith("/limit"),(0,a.useState)("swap")),j=(0,o.useRouteMatch)("/portfolio/:id"),g=(0,n.useLocation)(),{queryFromToken:y,queryToToken:x}=(0,a.useMemo)((()=>{let e=null,t=null;const s=u.default.parse(g.search?.substring(1)||"");return s.from&&"string"==typeof s.from&&(e=s.from),s.to&&"string"==typeof s.to&&(t=s.to),{queryFromToken:e,queryToToken:t}}),[g]),v=j?.params?.id||null,k=(0,a.useRef)(!0),[S,T]=(0,a.useState)([]),[w,P]=(0,a.useState)([]),[C,A]=(0,a.useState)(f.defaultSwapToken),[O,M]=(0,a.useState)(f.defaultSwapToken),[I,E]=(0,a.useState)(!1),[R,D]=(0,a.useState)(),[N,L]=(0,a.useState)({value:0,label:"0"}),[B,F]=(0,a.useState)(f.EXPIRY_VALUES.NEVER),[U,V]=(0,a.useState)(""),[W,q]=(0,a.useState)(null),[K,$]=(0,a.useState)(null),{result:{tokens:G,isTokensLoading:H},tokensQuery:Q}=(0,b.useTokensData)(),Y=(0,a.useMemo)((()=>(0,l.keyBy)(G,"tokenId")),[G]),z=(0,a.useMemo)((()=>{if(C.tokenId===c.WRAPPED_SOL_MINT_ADDRESS){const e=new d.default(C.rawAmount).minus(f.SOLANA_FEE).toString();return Math.max(+e,0)}return C.rawAmount}),[C.rawAmount,C.tokenId]);(0,a.useEffect)((()=>{if(G.length&&k.current){if(v){const e=G.find((e=>e.tokenId===v))||f.defaultSwapToken,t=G.find((e=>e.tokenId===c.USDC_MINT_ADDRESS))||f.defaultSwapToken,s=G.find((e=>e.tokenId===c.WRAPPED_SOL_MINT_ADDRESS))||f.defaultSwapToken;return k.current=!1,v===c.SOL_MINT_ADDRESS?0==+s.amount&&+t.amount>0?(A(t),void M(s)):(A(s),void M(t)):v===c.USDC_MINT_ADDRESS?+t.amount>0?(A(t),void M(s)):(A(s),void M(t)):0==+e.amount?(A(s),void M(e)):(A(e),void M(s))}if(y&&x){const e=G.find((e=>e.tokenId===y))||f.defaultSwapToken,t=G.find((e=>e.tokenId===x))||f.defaultSwapToken;return A(e),M(t),void(k.current=!1)}const e=(0,p.sortAndFilterFromTokens)(G),t=(0,p.sortToTokens)(G),s=e.find((e=>e.tokenId===c.WRAPPED_SOL_MINT_ADDRESS));T(e),P(t);const i=s||f.defaultSwapToken,r=t.find((e=>e.tokenId!==i.tokenId))||t[0];return A(i),M(r),void(k.current=!1)}if(G.length&&!k.current){const e=G.find((e=>e.tokenId===C.tokenId)),t=G.find((e=>e.tokenId===O.tokenId));A(e||f.defaultSwapToken),M(t||f.defaultSwapToken)}}),[G]),(0,a.useEffect)((()=>{if(G.length){const e=(0,p.sortAndFilterFromTokens)(G),t=(0,p.sortToTokens)(G);T((0,p.filterCoins)(e,W||"")),P((0,p.filterCoins)(t,K||""))}}),[G,W,K]);const J=(0,a.useCallback)((async({refetch:e,slippage:t,expiry:s})=>{E(!1),D({refetch:e,slippage:t,expiry:s})}),[]),X=(0,a.useCallback)((e=>{_(e);const t=v?`/portfolio/${v}`:"/trade";"swap"!==e?s.push(`${t}/limit`):s.push(t)}),[s,v]);(0,a.useEffect)((()=>{(async()=>{const e=await m.default.swapSlippage.get();null===e&&await m.default.swapSlippage.set(f.DEFAULT_SLIPPAGE),L({value:Math.round(100*(e??f.DEFAULT_SLIPPAGE)),label:String(e??f.DEFAULT_SLIPPAGE)});const t=await m.default.limitOrderExpiry.get();null!==t&&await m.default.limitOrderExpiry.set(f.DEFAULT_EXPIRY),F(t??f.DEFAULT_EXPIRY)})()}),[]);const Z=(0,a.useMemo)((()=>({activeTab:i,setActiveTab:X,selectedFromCoin:C,setSelectedFromCoin:A,selectedToCoin:O,setSelectedToCoin:M,fromCoins:S,toCoins:w,fromAmount:U,setFromAmount:V,maxFromBalance:z,fromSearchParam:W,setFromSearchParam:q,toSearchParam:K,setToSearchParam:$,portfolioTokenId:v,queryFromToken:y,queryToToken:x,tokens:G,tokensByMint:Y,tokensQuery:Q,isTokensLoading:H,openSettings:I,setOpenSettings:E,settingsData:R,setSettingsData:D,slippage:N,setSlippage:L,expiry:B,setExpiry:F,closeSettings:J})),[i,U,z,C,O,I,R,N,J,S,W,H,v,y,x,w,K,G,Y,Q,B,F,X]);return(0,r.jsx)(h.Provider,{value:Z,children:e})},t.useSharedTradingState=()=>{const e=(0,a.useContext)(h);if(!e)throw new Error("useSharedTradingState must be used within a SharedTradingStateProvider");return e}},"../../libs/shared/dist/features/trading/hooks/useMarketPrice/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMarketPrice=void 0;const i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),r=s("../../libs/shared/dist/features/trading/api/index.js");t.useMarketPrice=({inMint:e,outMint:t,priceImpactPct:s,enabledQuery:a=!0})=>(0,i.useQuery)({queryKey:["marketPrice",e,t],queryFn:()=>(0,r.getMarketPrice)({inMint:e,outMint:t,priceImpactPct:s}),retry:!1,refetchInterval:22e3,enabled:a&&!!e&&!!t,cacheTime:0,keepPreviousData:!1})},"../../libs/shared/dist/features/trading/hooks/useTokensData/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTokensData=void 0;const r=s("../../../node_modules/react/index.js"),a=i(s("../../../node_modules/bignumber.js/bignumber.js")),n=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/utils/displayPrice.js"),d=s("../../libs/shared/dist/utils/getResizedImageUrl.js"),l=s("../../libs/shared/dist/utils/truncateMiddle.js"),u=s("../../libs/shared/dist/features/currencies/index.js"),c=s("../../libs/shared/dist/features/trading/queries/index.js");t.useTokensData=()=>{const e=(0,u.useCurrentCurrency)(),t=(0,c.useSwapTokens)(),s=(0,c.useWalletTokens)();return{result:(0,r.useMemo)((()=>{if("success"===s.status&&"success"===t.status){const i=s.data.reduce(((e,t)=>(e[t.tokenId]=t,e)),{}),r=i[n.WRAPPED_SOL_MINT_ADDRESS],u=i[n.SOL_MINT_ADDRESS];let c=u.rawValue,m=u.rawAmount;return r&&(m=new a.default(r.rawAmount).plus(u.rawAmount).toString(),c=new a.default(r.rawValue).plus(u.rawValue).toString()),i[n.WRAPPED_SOL_MINT_ADDRESS]={...u,tokenId:n.WRAPPED_SOL_MINT_ADDRESS,amount:(0,o.displayPrice)({amount:m,displayType:"amount"}),rawAmount:m,value:+c?(0,o.displayPrice)({prefix:e.symbol,amount:c,displayType:"value",pricePerCoin:u.usdPrice}):"",rawValue:c},{tokens:t.data.tokens.map((e=>{i[e.mint]&&(i[e.mint].pinned=e.pinned);const t=i[e.mint];return t?{...t,volume24h:e.volume24h?.total}:{tokenId:e.mint,name:e.name||(0,l.truncateMiddle)(e.mint),symbol:e.symbol,logoURI:(0,d.getResizedImageUrl)(e.imageUri),isUnknown:!e.name,isAta:!1,decimals:e.decimals,verified:e.verified,pinned:e.pinned,value:"",rawAmount:"",rawValue:"",amount:"",price:String(e.price?.price??0),usdPrice:e.price?.usdPrice??0,volume24h:e.volume24h?.total}}))}}return{tokens:[],isTokensLoading:s.isLoading||t.isLoading}}),[s.status,t.status,s.isFetching,t.isFetching]),tokensQuery:s,swapQuery:t}}},"../../libs/shared/dist/features/trading/hooks/useWarningStates/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWarningStates=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/react-i18next/dist/es/index.js"),a=s("../../libs/shared/dist/constants/mints.js"),n=s("../../libs/shared/dist/utils/displayPrice.js"),o=s("../../libs/shared/dist/features/trading/constants.js"),d={INSUFFICIENT_SOL:{title:"insufficient_ticker",message:"swap_alert_ensure_minimum"},INSUFFICIENT_TICKER:{swap:{title:"insufficient_ticker",message:"swap_alert_no_sufficient_balance"},limit:{title:"insufficient_ticker",message:"swap_alert_no_sufficient_balance"}},NO_QUOTES:{swap:{title:"swap_qoutes_not_available_title",message:"swap_qoutes_not_available_description"},limit:{title:"swap_qoutes_not_available_title",message:"swap_qoutes_not_available_description"}},PRICE_IMPACT:{title:"swap_unfavorable_trade_price_impact_warning_title",message:"swap_unfavorable_trade_warning_description2"},LOW_PRICE_RATE:{title:"swap_unfavorable_trade_low_rate_warning_title",message:"swap_unfavorable_trade_warning_description"}};t.useWarningStates=({variant:e,tokens:t,selectedFromCoin:s,fromAmount:l,priceImpact:u,maxFromBalance:c,hasQuoteData:m,isQuoteLoading:p,dataUpdatedAt:f,isError:b=!1,rateDifference:h})=>{const{t:_}=(0,r.useTranslation)();return{alertProps:(0,i.useMemo)((()=>{const i=t.find((e=>e.tokenId===a.WRAPPED_SOL_MINT_ADDRESS));return Number(i?.rawAmount)<o.SOLANA_FEE&&+l>0?{variant:"error",title:_(d.INSUFFICIENT_SOL.title,{ticker:o.SOL_SYMBOL}),message:_(d.INSUFFICIENT_SOL.message,{amountWithSuffix:`${o.SOLANA_FEE} ${o.SOL_SYMBOL}`})}:Math.abs(Date.now()-f)<100&&l&&!p&&(b||!m)?{variant:"error",title:_(d.NO_QUOTES[e].title),message:_(d.NO_QUOTES[e].message)}:+l>+c?{variant:"error",title:_(d.INSUFFICIENT_TICKER[e].title,{ticker:s.symbol}),message:_(d.INSUFFICIENT_TICKER[e].message)}:h&&+h>=o.LOW_RATE_WARNING_THRESHOLD?{variant:"warning",title:_(d.LOW_PRICE_RATE.title,{rate:(0,n.displayPrice)({amount:h,suffix:"%",displayType:"medium"}),exchange:"CoinGecko"}),message:_(d.LOW_PRICE_RATE.message)}:u&&u>o.PRICE_IMPACT_WARNING_THRESHOLD?{variant:"warning",title:_(d.PRICE_IMPACT.title,{impact:(0,n.displayPrice)({amount:u,suffix:"%",displayType:"medium"})}),message:_(d.PRICE_IMPACT.message)}:null}),[e,f,l,m,b,p,c,s.symbol,_,t,u,h])}}},"../../libs/shared/dist/features/trading/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TradingWeb=t.default=t.useSwapTokens=void 0;var i=s("../../libs/shared/dist/features/trading/queries/index.js");Object.defineProperty(t,"useSwapTokens",{enumerable:!0,get:function(){return i.useSwapTokens}});var r=s("../../libs/shared/dist/features/trading/trading.ext.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.TradingExt}});var a=s("../../libs/shared/dist/features/trading/trading.web.js");Object.defineProperty(t,"TradingWeb",{enumerable:!0,get:function(){return a.TradingWeb}})},"../../libs/shared/dist/features/trading/queries/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useWalletTokens=t.useSwapTokens=void 0;var i=s("../../libs/shared/dist/features/trading/queries/useSwapTokens.js");Object.defineProperty(t,"useSwapTokens",{enumerable:!0,get:function(){return i.useSwapTokens}});var r=s("../../libs/shared/dist/features/trading/queries/useWalletTokens.js");Object.defineProperty(t,"useWalletTokens",{enumerable:!0,get:function(){return r.useWalletTokens}})},"../../libs/shared/dist/features/trading/queries/useSwapTokens.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwapTokens=void 0;const i=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../libs/shared/dist/store/selectors/config.js"),n=s("../../libs/shared/dist/features/trading/api/index.js");t.useSwapTokens=()=>{const e=(0,i.useSelector)(a.networkSelector);return(0,r.useQuery)({queryKey:["swapTokens",e.url],queryFn:()=>(0,n.getSwapTokens)(),staleTime:36e5})}},"../../libs/shared/dist/features/trading/queries/useWalletTokens.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useWalletTokens=void 0;const r=s("../../../node_modules/react-redux/es/index.js"),a=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),n=i(s("../../../node_modules/bignumber.js/bignumber.js")),o=s("../../libs/shared/dist/constants/mints.js"),d=s("../../libs/shared/dist/store/selectors/config.js"),l=s("../../libs/shared/dist/utils/displayPrice.js"),u=s("../../libs/shared/dist/utils/getResizedImageUrl.js"),c=s("../../libs/shared/dist/utils/tokenAccounts.js"),m=s("../../libs/shared/dist/utils/truncateMiddle.js"),p=s("../../libs/shared/dist/utils/units.js"),f=s("../../libs/shared/dist/features/currencies/index.js"),b=s("../../libs/shared/dist/features/portfolio/api/portfolio.js");t.useWalletTokens=()=>{const e=(0,r.useSelector)(d.activePubkeySelector),t=(0,r.useSelector)(d.networkSelector),s=(0,f.useCurrentCurrency)();return(0,a.useQuery)({queryKey:["tokens",e,t.url,s.ticker],queryFn:()=>(0,b.getTokens)(e,t.cluster,s.ticker),select:t=>(({tokens:e},t,s)=>e.map((e=>{const i=(0,c.getAtaAddress)(e.mint,t,e.standard),r=e.mint===o.SOL_MINT_ADDRESS?e.accounts[0]:e.accounts.find((e=>e.pubkey===i)),a=(0,p.convertTokensToDecimals)(r?.amount||0,e.decimals),d=new n.default(a).times(e.price?.price||0).toString(),f=(0,l.displayPrice)({amount:a,displayType:"amount"});return{tokenId:e.mint,amount:"0"!==f?f:"",rawAmount:a,value:"0"!==f&&e.price?(0,l.displayPrice)({prefix:s,amount:d,displayType:"value",pricePerCoin:e.price?.usdPrice||0}):"",rawValue:d,decimals:e.decimals,isAta:!!r,isUnknown:!e.name,verified:e.verified,name:e.name||(0,m.truncateMiddle)(e.mint),symbol:e.symbol,logoURI:(0,u.getResizedImageUrl)(e.imageUri),price:String(e.price?.price??0),usdPrice:e.price?.usdPrice??0}})).filter(Boolean))(t,e,s.symbol||s.ticker)})}},"../../libs/shared/dist/features/trading/trading.ext.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TradingExt=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=s("../../libs/shared/dist/constants/networks.js"),o=s("../../libs/shared/dist/store/selectors/config.js"),d=i(s("../../libs/shared/dist/features/limitOrders/index.js")),l=i(s("../../libs/shared/dist/features/swap/index.js")),u=s("../../libs/shared/dist/features/swap/components/DisabledSwap/index.js"),c=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),m=s("../../libs/shared/dist/features/trading/container.js");t.TradingExt=()=>{const e=(0,a.useSelector)(o.networkSelector).cluster===n.CLUSTERS.mainnet;return(0,r.jsx)(c.SharedTradingStateProvider,{children:e?(0,r.jsx)(m.TradingContainer,{SwapComponent:l.default,LimitComponent:d.default}):(0,r.jsx)(u.DisabledSwap,{})})}},"../../libs/shared/dist/features/trading/trading.web.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TradingWeb=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-redux/es/index.js"),n=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),o=s("../../libs/rise-ui/dist/index.js"),d=s("../../libs/shared/dist/constants/networks.js"),l=s("../../libs/shared/dist/store/selectors/config.js"),u=s("../../libs/shared/dist/features/limitOrders/index.js"),c=s("../../libs/shared/dist/features/limitOrders/components/index.js"),m=s("../../libs/shared/dist/features/swap/index.js"),p=s("../../libs/shared/dist/features/swap/components/DisabledSwap/index.js"),f=i(s("../../libs/shared/dist/features/swap/components/SwapChart/index.js")),b=s("../../libs/shared/dist/features/trading/components/TradingLayout.js"),h=s("../../libs/shared/dist/features/trading/context/SharedTradingState.js"),_=s("../../libs/shared/dist/features/trading/container.js"),j=(0,n.default)("div")((()=>({display:"flex",flexDirection:"column",height:"542px",width:"420px",padding:"8px",borderRadius:"10px",background:"#232328"})));t.TradingWeb=({tradeOnly:e=!1})=>{const t=(0,a.useSelector)(l.networkSelector).cluster===d.CLUSTERS.mainnet;return(0,r.jsx)(h.SharedTradingStateProvider,{children:(0,r.jsxs)(b.TradingLayout,{orders:(0,r.jsx)(c.Orders,{}),children:[!e&&(0,r.jsx)(o.Breakpoint,{bp:"lg",match:"up",children:(0,r.jsx)(f.default,{})}),(0,r.jsx)(j,{children:t?(0,r.jsx)(_.TradingContainer,{SwapComponent:m.SwapWeb,LimitComponent:u.LimitOrderWeb}):(0,r.jsx)(p.DisabledSwap,{})})]})})}},"../../libs/shared/dist/features/tradingView/api/birdeye/api.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.queryBirdeyeMarks=t.queryBirdeyeBars=void 0;const i=s("../../libs/shared/dist/api/index.js"),r=s("../../libs/shared/dist/constants/mints.js"),a=s("../../libs/shared/dist/features/tradingView/api/birdeye/utils.js"),n="https://wallet-api.solflare.com";t.queryBirdeyeBars=async(e,t,s,o,d)=>{const{from:l,to:u}=d,{baseToken:c,quoteToken:m}=(0,a.determinePairTokenSide)({baseToken:e===r.SOL_MINT_ADDRESS?r.WRAPPED_SOL_MINT_ADDRESS:e,quoteToken:t===r.SOL_MINT_ADDRESS?r.WRAPPED_SOL_MINT_ADDRESS:t});let p={};p=s?{baseAddress:c,currency:s,interval:(0,a.parseResolution)(o),timeFrom:l,timeTo:u}:{baseAddress:c,quoteAddress:m,interval:(0,a.parseResolution)(o),timeFrom:l,timeTo:u};const f=Object.keys(p).map((e=>`${e}=${encodeURIComponent(p[e])}`)).join("&"),{body:b}=await(0,i.get)(`${n}/v2/trade/chart/ohlcv${s?"":"-quote"}?${f}`);let h=[];for(const e of b.items)if(e.timestamp>=l&&e.timestamp<u){const t=1e3*e.timestamp;h=[...h,{time:t,low:e.l,high:e.h,open:e.o,close:e.c,volume:e.v}]}return{...b,bars:h}},t.queryBirdeyeMarks=async(e,t,s,r)=>{const a={tokenAddress:e,wallet:t,timeFrom:s/1e3,timeTo:r/1e3},o=Object.keys(a).map((e=>`${e}=${encodeURIComponent(a[e])}`)).join("&"),{body:d}=await(0,i.get)(`${n}/v2/trade/chart/transfers?${o}`),l=[];for(const e of d.items){const t=1e3*e.blockTime;l.push({id:t,time:t,color:e.changeAmount>=0?"green":"red",text:e.changeAmount>=0?"B":"S",label:"s",labelFontColor:"white",minSize:20})}return l}},"../../libs/shared/dist/features/tradingView/api/birdeye/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BirdeyeStreaming=void 0;var i=s("../../libs/shared/dist/features/tradingView/api/birdeye/streaming.js");Object.defineProperty(t,"BirdeyeStreaming",{enumerable:!0,get:function(){return i.BirdeyeStreaming}})},"../../libs/shared/dist/features/tradingView/api/birdeye/streaming.js":(e,t,s)=>{var i=s("../../../node_modules/console-browserify/index.js");Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyPriceHandler=t.BaseQuotePriceHandler=t.BirdeyeStreaming=t.socketUrl=t.birdeyeSocketApiKey=void 0;const r=s("../../libs/shared/dist/constants/mints.js"),a=s("../../libs/shared/dist/features/tradingView/api/birdeye/utils.js");t.birdeyeSocketApiKey="1c16b9eb172f457e9b6d25db101e8bcb",t.socketUrl=`wss://public-api.birdeye.so/socket?x-api-key=${t.birdeyeSocketApiKey}`,t.BirdeyeStreaming=class{constructor(e){this.handler=e,this.socket=new WebSocket(t.socketUrl,"echo-protocol"),this.socket.addEventListener("open",(()=>{i.log("[TradingView/Birdeye] Connected")})),this.socket.addEventListener("message",(e=>{if(!this.subscriptionItem)return;const t=JSON.parse(e.data);if("WELCOME"===t.type)return;if(!this.handler.isReceivedPayloadValid(t,this.subscriptionItem))return;const s=1e3*t.data.unixTime,i=this.subscriptionItem.lastBar,r=this.subscriptionItem.resolution,n=(0,a.getNextBarTime)(i,r);let o;o=s>=n?{time:n,open:t.data.o,high:t.data.h,low:t.data.l,close:t.data.c,volume:t.data.v}:{...i,high:Math.max(i.high,t.data.h),low:Math.min(i.low,t.data.l),close:t.data.c,volume:t.data.v},this.subscriptionItem.lastBar=o,this.subscriptionItem.callback(o)}))}subscribeOnStream(e,t,s,a,n,o){const d=e.baseToken===r.SOL_MINT_ADDRESS?r.WRAPPED_SOL_MINT_ADDRESS:e.baseToken,l=e.quoteToken===r.SOL_MINT_ADDRESS?r.WRAPPED_SOL_MINT_ADDRESS:e.quoteToken,u=e.currency?"usd":e.currency;this.subscriptionItem={resolution:t,lastBar:o,callback:s,baseAddress:d,quoteAddress:l,currency:u};const c=this.handler.createPayload({baseAddress:d,quoteAddress:l,currency:u},t);if(c)return this.isOpen()?void this.socket.send(JSON.stringify(c)):(i.warn("[TradingView/Birdeye] Socket closed"),void this.socket.addEventListener("open",(e=>{this.socket.send(JSON.stringify(c))})));i.warn("[TradingView/Birdeye] Empty payload.")}unsubscribeFromStream(){this.isOpen()?this.socket.send(JSON.stringify({type:"UNSUBSCRIBE_BASE_QUOTE_PRICE"})):i.warn("[TradingView/Birdeye] Socket closed")}isOpen(e){const t=e||this.socket;return t.readyState===t.OPEN}closeSocket(){this.socket.close()}},t.BaseQuotePriceHandler=class{isReceivedPayloadValid(e,t){return"BASE_QUOTE_PRICE_DATA"!==e.type?(i.warn("[TradingView/Birdeye] Unknown message type",e),!1):!(e.data.baseAddress!==t.baseAddress||e.data.quoteAddress!==t.quoteAddress)}createPayload(e,t){if(!e.baseAddress||!e.quoteAddress)return null;const{baseToken:s,quoteToken:i}=(0,a.determinePairTokenSide)({baseToken:e.baseAddress,quoteToken:e.quoteAddress});return{type:"SUBSCRIBE_BASE_QUOTE_PRICE",data:{baseAddress:s,quoteAddress:i,chartType:(0,a.parseResolution)(t)}}}},t.CurrencyPriceHandler=class{isReceivedPayloadValid(e,t){return"PRICE_DATA"!==e.type?(i.warn("[TradingView/Birdeye] Unknown message type",e),!1):!(e.data.address!==t.baseAddress)}createPayload(e,t){return e.baseAddress&&e.currency?{type:"SUBSCRIBE_PRICE",data:{address:e.baseAddress,currency:e.currency,chartType:(0,a.parseResolution)(t)}}:null}}},"../../libs/shared/dist/features/tradingView/api/birdeye/utils.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.determinePairTokenSide=t.createSubscribeBaseQuotePayload=t.getNextBarTime=t.parseResolution=t.RESOLUTION_MAPPING=void 0;const i=s("../../libs/shared/dist/constants/mints.js"),r=s("../../libs/shared/dist/features/tradingView/utils/index.js");t.RESOLUTION_MAPPING={1:"1m",3:"3m",5:"5m",15:"15m",30:"30m",60:"1H",240:"4H",720:"12H","1D":"1D","3D":"3D","1W":"1W","1M":"1M"},t.parseResolution=e=>e&&t.RESOLUTION_MAPPING[e]?t.RESOLUTION_MAPPING[e]:t.RESOLUTION_MAPPING[0],t.getNextBarTime=function(e,t="1D"){if(!e)return;const s=t.slice(-1);let i;switch(!0){case"W"===s:i=6048e5+e.time;break;case"D"===s:i=864e5+e.time;break;default:i=6e4+e.time}return i},t.createSubscribeBaseQuotePayload=(e,s,i)=>({type:"SUBSCRIBE_BASE_QUOTE_PRICE",data:{baseAddress:e,quoteAddress:s,chartType:(0,t.parseResolution)(i)}}),t.determinePairTokenSide=({baseToken:e,quoteToken:t})=>{if(!e||!t)return{baseToken:e,quoteToken:t};if((0,r.isStableCoin)(e)&&(0,r.isStableCoin)(t)){const s=e===i.USDT_MINT_ADDRESS;return{baseToken:s?e:t,quoteToken:s?t:e}}if((0,r.isStableCoin)(e)||(0,r.isStableCoin)(t)){const s=(0,r.isStableCoin)(e);return{baseToken:s?t:e,quoteToken:s?e:t}}if(e===i.WRAPPED_SOL_MINT_ADDRESS||t===i.WRAPPED_SOL_MINT_ADDRESS){const s=e===i.WRAPPED_SOL_MINT_ADDRESS;return{baseToken:s?t:e,quoteToken:s?e:t}}return{baseToken:t,quoteToken:e}}},"../../libs/shared/dist/features/tradingView/communication/messages/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/index.js"),t)},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/BasePayload.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isBasePayload=void 0,t.isBasePayload=e=>"type"in e},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataRequest.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChartDataRequest=void 0;const i=s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/BasePayload.js");t.isChartDataRequest=e=>(0,i.isBasePayload)(e)&&"chart-data-request"===e.type},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataResponse.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataUpdateRequest.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChartDataUpdateRequest=void 0;const i=s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/BasePayload.js");t.isChartDataUpdateRequest=e=>(0,i.isBasePayload)(e)&&"chart-data-update-request"===e.type},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataRequest.js"),t),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataResponse.js"),t),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/ChartDataUpdateRequest.js"),t)},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/Payload.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/PriceUpdate.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPriceUpdate=void 0;const i=s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/BasePayload.js");t.isPriceUpdate=e=>(0,i.isBasePayload)(e)&&"price-update"===e.type},"../../libs/shared/dist/features/tradingView/communication/messages/payloads/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,r)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||i(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/Chart/index.js"),t),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/Payload.js"),t),r(s("../../libs/shared/dist/features/tradingView/communication/messages/payloads/PriceUpdate.js"),t)},"../../libs/shared/dist/features/tradingView/components/ChartTopBar/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=(0,i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")).default)("div")({display:"flex",justifyContent:"space-between",padding:"16px 20px 8px"});t.default=({price:e,children:t})=>(0,r.jsxs)(a,{children:[t,(0,r.jsx)("div",{children:e})]})},"../../libs/shared/dist/features/tradingView/components/TopBarPrice/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),n=s("../../libs/foundation-ui/dist/index.js"),o=(0,a.default)("div")({display:"flex",gap:4,alignItems:"center"});t.default=({price:e,priceChange:t,priceChangeVariant:s,isLoading:i})=>i?(0,r.jsx)(o,{children:(0,r.jsx)(n.Skeleton,{variant:"text",__width:80,__height:20})}):(0,r.jsxs)(o,{children:[t&&(0,r.jsx)(n.BalanceChangeTag,{size:"xs",variant:s,children:t}),(0,r.jsx)(n.Typography,{variant:"headingM",children:e})]})},"../../libs/shared/dist/features/tradingView/components/TradeCoin/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),n=s("../../libs/foundation-ui/dist/index.js"),o=i(s("../../libs/shared/dist/components/TokenAvatar/index.js")),d=(0,a.default)("div")({display:"flex",gap:4,alignItems:"center"});t.default=({logoUri:e,symbol:t,verified:s,isLoading:i})=>i?(0,r.jsxs)(d,{children:[(0,r.jsx)(n.Skeleton,{variant:"circle",__width:30,__height:30}),(0,r.jsx)(n.Skeleton,{variant:"text",__width:80,__height:20})]}):(0,r.jsxs)(d,{children:[(0,r.jsx)(o.default,{src:e,size:"sm",verified:s}),(0,r.jsx)(n.Typography,{variant:"headingM",children:t})]})},"../../libs/shared/dist/features/tradingView/components/TradeCoinPair/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),n=s("../../libs/foundation-ui/dist/index.js"),o=(0,a.default)("div")({display:"flex",alignItems:"center",gap:8});t.default=({base:e,quote:t})=>(0,r.jsxs)(o,{children:[e,(0,r.jsx)(n.Typography,{variant:"headingM",children:"/"}),t]})},"../../libs/shared/dist/features/tradingView/components/TradingViewChart/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=i(s("../../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js")),o=i(s("../../../node_modules/query-string/index.js")),d=i(s("../../libs/shared/dist/storage/solflareService.js")),l=s("../../libs/shared/dist/features/tradingView/communication/messages/index.js"),u="https://chart.solflare.com",c="rgb(35, 35, 40)",m="rgba(61, 210, 139, 1)",p="rgba(218, 73, 63, 1)",f="rgba(61, 210, 139, 1)",b="rgba(6, 112, 234, 1)",h="rgba(6, 112, 234, 0.2)",_=(0,n.default)("div")({width:"100%",height:"100%",position:"relative"});t.default=(0,a.memo)((({fromAddress:e,fromSymbol:t,toAddress:s,toSymbol:i,currency:n,onBarReceivedCallback:j})=>{const g=(0,a.useRef)(null),y=(0,a.useCallback)(((e,t)=>{g.current?.postMessage({data:{payload:e,id:t}},u)}),[]);(0,a.useEffect)((()=>{const e=async e=>{if(e.origin!==u)return;if(!e.data.payload)return;const{payload:t,id:s}=e.data;if((0,l.isPriceUpdate)(t))j&&j(t.bar,t.source);else if((0,l.isChartDataRequest)(t)){const e=await d.default.chartData.get();y({type:"chart-data-response",charts:e?.charts??[],drawingTemplates:e?.drawingTemplates??[],studyTemplates:e?.studyTemplates??[],chartTemplates:e?.chartTemplates??[]},s)}else(0,l.isChartDataUpdateRequest)(t)&&await d.default.chartData.set({charts:t.charts,chartTemplates:t.chartTemplates,studyTemplates:t.studyTemplates,drawingTemplates:t.drawingTemplates})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[y,j]);const x=(0,a.useMemo)((()=>{const r={base:{address:e,symbol:t},quote:{address:s||"",symbol:i||""},currency:n};let a={"mainSeriesProperties.style":2,"paneProperties.background":c,"paneProperties.backgroundType":"solid","paneProperties.legendProperties.showStudyArguments":!1,"paneProperties.legendProperties.showBackground":!1,"paneProperties.legendProperties.showStudyTitles":!0,"scalesProperties.showStudyLastValue":!1,"scalesProperties.fontSize":12,"scalesProperties.lineColor":c,"paneProperties.vertGridProperties.color":"rgba(240, 243, 250, 0.06)","paneProperties.horzGridProperties.color":"rgba(240, 243, 250, 0.06)","mainSeriesProperties.lineStyle.color":f,"mainSeriesProperties.areaStyle.color1":"rgba(61, 210, 139, 0.2)","mainSeriesProperties.areaStyle.color2":"rgba(61, 210, 139, 0.01)","mainSeriesProperties.areaStyle.linecolor":f,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!0,"mainSeriesProperties.barStyle.upColor":m,"mainSeriesProperties.barStyle.downColor":p};["candleStyle","hollowCandleStyle","haStyle"].forEach((e=>{a={...a,..."hollowCandleStyle"!==e&&{[`mainSeriesProperties.${e}.barColorsOnPrevClose`]:!0},[`mainSeriesProperties.${e}.drawWick`]:!0,[`mainSeriesProperties.${e}.drawBorder`]:!0,[`mainSeriesProperties.${e}.upColor`]:m,[`mainSeriesProperties.${e}.downColor`]:p,[`mainSeriesProperties.${e}.borderColor`]:m,[`mainSeriesProperties.${e}.borderUpColor`]:m,[`mainSeriesProperties.${e}.borderDownColor`]:p,[`mainSeriesProperties.${e}.wickUpColor`]:m,[`mainSeriesProperties.${e}.wickDownColor`]:p}}));const d={symbol:"SOL",interval:"60",locale:"en",fullscreen:!1,disabled_features:["use_localstorage_for_settings","header_symbol_search","symbol_search_hot_key","show_interval_dialog_on_key_press","header_compare","header_undo_redo","header_screenshot","header_saveload","timeframes_toolbar","popup_hints","compare_symbol_search_spread_operators","insert_indicator_dialog_shortcut","header_fullscreen_button"],enabled_features:["iframe_loading_compatibility_mode","hide_left_toolbar_by_default","items_favoriting","side_toolbar_in_fullscreen_mode","header_in_fullscreen_mode","hide_image_invalid_symbol"],favorites:{intervals:["15","60","4H","1D","1W"],indicators:["Volume"],chartTypes:["Candles","Line"]},theme:"dark",loading_screen:{backgroundColor:c},studies_overrides:{"volume.volume.color.0":"rgba(218, 73, 63, 0.1)","volume.volume.color.1":"rgba(61, 210, 139, 0.1)","volume.precision":4},overrides:{...a},settings_adapter:{initialSettings:{linetooltrendline:JSON.stringify({linecolor:b,textcolor:b}),linetoolarrow:JSON.stringify({linecolor:b,textcolor:b}),linetoolray:JSON.stringify({linecolor:b,textcolor:b}),linetoolinfoline:JSON.stringify({linecolor:b,textcolor:b}),linetoolextended:JSON.stringify({linecolor:b,textcolor:b}),linetooltrendangle:JSON.stringify({linecolor:b,textcolor:b}),linetoolhorzline:JSON.stringify({linecolor:b,textcolor:b}),linetoolhorzray:JSON.stringify({linecolor:b,textcolor:b}),linetoolvertline:JSON.stringify({linecolor:b,textcolor:b}),linetoolcrossline:JSON.stringify({linecolor:b}),linetoolflatbottom:JSON.stringify({backgroundColor:h}),linetooldisjointangle:JSON.stringify({backgroundColor:h})}}};return o.default.stringify({origin:location.origin,tradePair:JSON.stringify(r),chartOptions:JSON.stringify(d)})}),[n,e,t,s,i]);return(0,r.jsx)(_,{children:e&&(s||n)&&(0,r.jsx)("iframe",{src:`${u}#/full?${x}`,className:"tradingView-chart",width:"100%",height:"100%",style:{border:0},ref:e=>{g.current=e?.contentWindow}})})}))},"../../libs/shared/dist/features/tradingView/components/TradingViewContainer/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),r=s("../../../node_modules/@mui/material/index.js");t.default=({disableBorderRadius:e,children:t,sx:s,...a})=>(0,i.jsx)(r.Box,{...a,sx:{flex:1,".tradingView-chart":{width:"100%",height:"100%"},...!e&&{iframe:{borderBottomLeftRadius:10,borderBottomRightRadius:10}},...s},children:t})},"../../libs/shared/dist/features/tradingView/components/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TradingViewContainer=t.TradingViewChart=t.TradeCoinPair=t.TradeCoin=t.TopBarPrice=t.ChartTopBar=void 0;var r=s("../../libs/shared/dist/features/tradingView/components/ChartTopBar/index.js");Object.defineProperty(t,"ChartTopBar",{enumerable:!0,get:function(){return i(r).default}});var a=s("../../libs/shared/dist/features/tradingView/components/TopBarPrice/index.js");Object.defineProperty(t,"TopBarPrice",{enumerable:!0,get:function(){return i(a).default}});var n=s("../../libs/shared/dist/features/tradingView/components/TradeCoin/index.js");Object.defineProperty(t,"TradeCoin",{enumerable:!0,get:function(){return i(n).default}});var o=s("../../libs/shared/dist/features/tradingView/components/TradeCoinPair/index.js");Object.defineProperty(t,"TradeCoinPair",{enumerable:!0,get:function(){return i(o).default}});var d=s("../../libs/shared/dist/features/tradingView/components/TradingViewChart/index.js");Object.defineProperty(t,"TradingViewChart",{enumerable:!0,get:function(){return i(d).default}});var l=s("../../libs/shared/dist/features/tradingView/components/TradingViewContainer/index.js");Object.defineProperty(t,"TradingViewContainer",{enumerable:!0,get:function(){return i(l).default}})},"../../libs/shared/dist/features/tradingView/hooks/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMarketHistory=void 0;var i=s("../../libs/shared/dist/features/tradingView/hooks/useMarketHistory.js");Object.defineProperty(t,"useMarketHistory",{enumerable:!0,get:function(){return i.useMarketHistory}})},"../../libs/shared/dist/features/tradingView/hooks/useMarketHistory.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useMarketHistory=void 0;const r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=i(s("../../../node_modules/dayjs/dayjs.min.js")),n=i(s("../../../node_modules/dayjs/plugin/utc.js")),o=s("../../libs/shared/dist/features/tradingView/api/birdeye/api.js");a.default.extend(n.default),t.useMarketHistory=(e,t)=>(0,r.useQuery)({queryKey:["trade-marketHistory",e,t],queryFn:async()=>{const s=(0,a.default)().utc();return(await(0,o.queryBirdeyeBars)(e,t,void 0,"1D",{firstDataRequest:!0,from:s.startOf("day").unix(),to:s.endOf("day").unix()})).bars},enabled:Boolean(e)&&Boolean(t)})},"../../libs/shared/dist/features/tradingView/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useChartDataWithStreaming=t.useChartData=t.useMarketHistory=t.TradingViewContainer=t.TradingViewChart=t.TradeCoinPair=t.TradeCoin=t.TopBarPrice=t.ChartTopBar=void 0;var i=s("../../libs/shared/dist/features/tradingView/components/index.js");Object.defineProperty(t,"ChartTopBar",{enumerable:!0,get:function(){return i.ChartTopBar}}),Object.defineProperty(t,"TopBarPrice",{enumerable:!0,get:function(){return i.TopBarPrice}}),Object.defineProperty(t,"TradeCoin",{enumerable:!0,get:function(){return i.TradeCoin}}),Object.defineProperty(t,"TradeCoinPair",{enumerable:!0,get:function(){return i.TradeCoinPair}}),Object.defineProperty(t,"TradingViewChart",{enumerable:!0,get:function(){return i.TradingViewChart}}),Object.defineProperty(t,"TradingViewContainer",{enumerable:!0,get:function(){return i.TradingViewContainer}});var r=s("../../libs/shared/dist/features/tradingView/hooks/index.js");Object.defineProperty(t,"useMarketHistory",{enumerable:!0,get:function(){return r.useMarketHistory}});var a=s("../../libs/shared/dist/features/tradingView/queries/index.js");Object.defineProperty(t,"useChartData",{enumerable:!0,get:function(){return a.useChartData}}),Object.defineProperty(t,"useChartDataWithStreaming",{enumerable:!0,get:function(){return a.useChartDataWithStreaming}})},"../../libs/shared/dist/features/tradingView/queries/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useChartDataWithStreaming=t.useChartData=void 0;var i=s("../../libs/shared/dist/features/tradingView/queries/useChartData.js");Object.defineProperty(t,"useChartData",{enumerable:!0,get:function(){return i.useChartData}});var r=s("../../libs/shared/dist/features/tradingView/queries/useChartDataWithStreaming.js");Object.defineProperty(t,"useChartDataWithStreaming",{enumerable:!0,get:function(){return r.useChartDataWithStreaming}})},"../../libs/shared/dist/features/tradingView/queries/useChartData.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useChartData=void 0;const r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=i(s("../../../node_modules/dayjs/dayjs.min.js")),n=s("../../libs/shared/dist/features/tradingView/api/birdeye/api.js");t.useChartData=(e,t,s,i={})=>(0,r.useQuery)({queryKey:["chartData",e,t],queryFn:async()=>await(0,n.queryBirdeyeBars)(e.baseToken,e.quoteToken,e.currency,t,{firstDataRequest:!0,...s,to:s.to??(0,a.default)().unix()}),...i})},"../../libs/shared/dist/features/tradingView/queries/useChartDataWithStreaming.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useChartDataWithStreaming=void 0;const i=s("../../../node_modules/react/index.js"),r=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),a=s("../../../node_modules/lodash/lodash.js"),n=s("../../libs/shared/dist/features/tradingView/api/birdeye/index.js"),o=s("../../libs/shared/dist/features/tradingView/api/birdeye/streaming.js"),d=s("../../libs/shared/dist/features/tradingView/queries/useChartData.js");t.useChartDataWithStreaming=(e,t,s,l,u={})=>{const c=(0,r.useQueryClient)(),m=(0,d.useChartData)(e,t,s,u),p=(0,i.useRef)(null);return(0,i.useEffect)((()=>(p.current=new n.BirdeyeStreaming(new o.CurrencyPriceHandler),()=>{p.current.closeSocket()})),[]),(0,i.useEffect)((()=>{if("enabled"in u&&!u.enabled||m.isLoading||!m?.data?.bars?.length||!p.current)return;const s=c.getQueryData(["chartData",e,t])||{bars:[],exchangeRateNumber:1};return p.current.subscribeOnStream(e,t,(async e=>{let t=l?.(e)||[];Array.isArray(t)||(t=[t]);for(const{queryKey:e,action:s}of t)"update"===s.type||"push"===s.type?c.setQueryData(e,(e=>e?"push"===s.type?{...e,bars:[...e.bars.splice(1),s.bar]}:{...e,bars:[...e.bars.splice(0,e.bars.length-1),s.bar]}:e)):"reset"===s.type&&await c.resetQueries(e)}),"",a.noop,s?.bars[s.bars?.length-1]),()=>{p.current?.unsubscribeFromStream()}}),[e.baseToken,m.isLoading,c,t,l]),m}},"../../libs/shared/dist/features/tradingView/utils/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isStableCoin=t.determineOrderSide=t.formatPrice=t.calcPricePrecision=t.SUBSCRIPT_NUMBER_MAP=void 0;const r=i(s("../../../node_modules/bignumber.js/bignumber.js"));t.SUBSCRIPT_NUMBER_MAP={4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉",10:"₁₀",11:"₁₁",12:"₁₂",13:"₁₃",14:"₁₄",15:"₁₅"},t.calcPricePrecision=e=>{if(!e)return 8;switch(!0){case Math.abs(+e)<1e-11:return 16;case Math.abs(+e)<1e-9:return 14;case Math.abs(+e)<1e-7:return 12;case Math.abs(+e)<1e-5:return 10;case Math.abs(+e)<.05:return 6;case Math.abs(+e)<1:return 4;case Math.abs(+e)<20:return 3;default:return 2}},t.formatPrice=(e,s,i=!0)=>{if(!e)return e.toString();const a=s||(0,t.calcPricePrecision)(+e);let n=new r.default(e).toFixed(a);if(n.match(/^0\.[0]+$/g)&&(n=n.replace(/\.[0]+$/g,"")),i&&n.match(/\.0{4,15}[1-9]+/g)){const e=n.match(/\.0{4,15}/g);if(!e)return"";const s=e[0].slice(1);n=n.replace(/\.0{4,15}/g,`.0${t.SUBSCRIPT_NUMBER_MAP[s.length]}`)}return n},t.determineOrderSide=(e,s)=>{const i="So11111111111111111111111111111111111111112";if((0,t.isStableCoin)(e.address)&&(0,t.isStableCoin)(s.address)){const t="Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"===e.address;return{base:t?e:s,quote:t?s:e}}if((0,t.isStableCoin)(e.address)||(0,t.isStableCoin)(s.address)){const i=(0,t.isStableCoin)(e.address);return{base:i?e:s,quote:i?s:e}}if(e.address===i||s.address===i){const t=e.address===i;return{base:t?e:s,quote:t?s:e}}return{base:e,quote:s}},t.isStableCoin=e=>["EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"].includes(e)},"../../libs/shared/dist/features/whatsNew/container.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=s("../../../node_modules/react-router-dom/esm/react-router-dom.js"),o=s("../../../node_modules/@mui/styles/index.js"),d=s("../../libs/foundation-ui/dist/index.js"),l=s("../../libs/rise-ui/dist/index.js"),u=i(s("../../libs/shared/dist/storage/solflareService.js")),c=s("../../libs/shared/dist/utils/extension.js"),m=i(s("../../libs/shared/dist/utils/featureFlags.js")),p=s("../../libs/shared/dist/features/featureFlags/index.js"),f=(0,o.makeStyles)((()=>({dialogScreenPaper:{padding:"0px",width:"auto",borderRadius:"20px"},content:{padding:"0px !important",borderRadius:"20px",overflow:"hidden"}})));t.default=({starts:e,ends:t,storageKey:s,cta:i,logInfo:{page:o,namespace:b},...h})=>{const _=(0,n.useLocation)(),j=f(),[g,y]=(0,a.useState)(!1),[x,v]=(0,a.useState)(0),k="/onboard/success"===_.state?.from,S=(0,a.useCallback)((async()=>{await u.default.whatsNew.setField(s,!0),y(!1),m.default.pl(o)}),[s]),T=(0,a.useCallback)((async e=>{(0,p.logWhatsNewCloseClicked)(b,e+1),S()}),[b,S]);(0,a.useEffect)((()=>{(async()=>{if(k)return void S();const i=await u.default.whatsNew.getField(s),r=new Date;y((!e||r>=e)&&(!t||r<=t)&&!i)})()}),[]),(0,a.useEffect)((()=>{g&&m.default.pv(o)}),[g]);const w=()=>{(0,p.logWhatsNewCTAClicked)(b),i.action(),S()};return g?c.isExtension&&!c.isExpandedView?(0,r.jsx)(d.FullPageModal,{open:!0,children:(0,r.jsx)(d.WhatsNew,{...h,onClose:T,cta:{...i,action:w}})}):(0,r.jsx)(l.Modal,{open:!0,contentClassName:j.content,dialogPaperClassName:j.dialogScreenPaper,onClose:()=>T(x),children:(0,r.jsx)(d.WhatsNew,{...h,cta:{...i,action:w},updateStepNumber:v})}):null}},"../../libs/shared/dist/features/whatsNew/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhatsNewSingleTokenPage=t.WhatsNewMultiStepExample=void 0;var i=s("../../libs/shared/dist/features/whatsNew/newFeatures/index.js");Object.defineProperty(t,"WhatsNewMultiStepExample",{enumerable:!0,get:function(){return i.WhatsNewMultiStepExample}}),Object.defineProperty(t,"WhatsNewSingleTokenPage",{enumerable:!0,get:function(){return i.WhatsNewSingleTokenPage}})},"../../libs/shared/dist/features/whatsNew/newFeatures/WhatsNewMultiStepExample/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WhatsNewMultiStepExample=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react/index.js"),n=i(s("../../libs/shared/dist/assets/taskmask-banner-active.mp4")),o=i(s("../../libs/shared/dist/assets/taskmask-banner-upcoming.mp4")),d=i(s("../../libs/shared/dist/assets/taskmask-banner-won.mp4")),l=i(s("../../libs/shared/dist/features/whatsNew/container.js")),u=[{title:"First title",subtitle:"Could not find any better videos for this example, sorry..",videoSrc:o.default,duration:5e3},{title:"This one is without subtitle",videoSrc:n.default,duration:5e3},{subtitle:"This one is without title",videoSrc:d.default,duration:5e3}];t.WhatsNewMultiStepExample=()=>{const[e,t]=(0,a.useState)(!0);return e?(0,r.jsx)(l.default,{starts:new Date("2023-10-16"),ends:new Date("2023-10-30"),steps:u,title:"Main title",cta:{title:"Bridge now",action:()=>t(!1)},storageKey:"example",logInfo:{page:"/whatsNewMultiStepExample",namespace:"MultiStepExampleWhatsNewPopup"}}):null}},"../../libs/shared/dist/features/whatsNew/newFeatures/WhatsNewSingleTokenPage/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WhatsNewSingleTokenPage=void 0;const r=s("../../../node_modules/react/jsx-runtime.js"),a=s("../../../node_modules/react-i18next/dist/es/index.js"),n=i(s("../../libs/shared/dist/assets/whats-new-single-token-page-1.mp4")),o=i(s("../../libs/shared/dist/assets/whats-new-single-token-page-2.mp4")),d=i(s("../../libs/shared/dist/assets/whats-new-single-token-page-3.mp4")),l=s("../../libs/shared/dist/features/featureFlags/index.js"),u=i(s("../../libs/shared/dist/features/whatsNew/container.js")),c=[{videoSrc:n.default,duration:7e3},{videoSrc:o.default,duration:7e3},{videoSrc:d.default,duration:7e3}];t.WhatsNewSingleTokenPage=()=>{const{t:e}=(0,a.useTranslation)();return(0,r.jsx)(u.default,{title:"Expanded token page",steps:c,cta:{title:e("action_continue"),action:()=>{}},storageKey:"singleTokenPage",logInfo:{page:l.PAGE_WHATS_NEW_SINGLE_TOKEN_PAGE,namespace:l.NS_WHATS_NEW_SINGLE_TOKEN_PAGE}})}},"../../libs/shared/dist/features/whatsNew/newFeatures/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhatsNewSingleTokenPage=t.WhatsNewMultiStepExample=void 0;var i=s("../../libs/shared/dist/features/whatsNew/newFeatures/WhatsNewMultiStepExample/index.js");Object.defineProperty(t,"WhatsNewMultiStepExample",{enumerable:!0,get:function(){return i.WhatsNewMultiStepExample}});var r=s("../../libs/shared/dist/features/whatsNew/newFeatures/WhatsNewSingleTokenPage/index.js");Object.defineProperty(t,"WhatsNewSingleTokenPage",{enumerable:!0,get:function(){return r.WhatsNewSingleTokenPage}})},"../../libs/shared/dist/utils/borsh.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extendBorsh=void 0;const i=s("../../../node_modules/@solana/web3.js/lib/index.browser.esm.js"),r=s("../../../node_modules/borsh/lib/index.js");t.extendBorsh=()=>{r.BinaryReader.prototype.readPubkey=function(){const e=this.readFixedArray(32);return new i.PublicKey(e)},r.BinaryWriter.prototype.writePubkey=function(e){this.writeFixedArray(e.toBuffer())}},(0,t.extendBorsh)()},"../../libs/shared/dist/utils/humanDate.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chartDateFormat=t.longDateFormat=t.shortDateFormat=t.humanDate=void 0;const r=i(s("../../../node_modules/dayjs/dayjs.min.js"));t.humanDate=(e,t=!0,s=!0,i=!1)=>{if(!e)return"Pending";const a=(0,r.default)(s?e/1e3:e),n=(0,r.default)();return a.isToday()?t?"Today":a.format("HH:mm"):a.isYesterday()?t?"Yesterday":a.format("HH:mm"):a.year()===n.year()?a.format(i?"D MMMM":"D MMM"):a.format(i?"D MMMM YYYY":"D MMM YYYY")},t.shortDateFormat=e=>{if(!e)return"Pending";const t=(0,r.default)(e),s=(0,r.default)();return t.isToday()?"Today":t.isYesterday()?"Yesterday":t.year()===s.year()?t.format("MMMM DD"):t.format("MMMM DD, YYYY")},t.longDateFormat=e=>{if(!e)return"Pending";const s=(0,r.default)(e);return`${(0,t.shortDateFormat)(e)} at ${s.format("HH:mm")}`},t.chartDateFormat=e=>{const t=r.default.unix(e),s=(0,r.default)();return t.isToday()?`Today, ${t.format("HH:mm")}`:t.isYesterday()?`Yesterday, ${t.format("HH:mm")}`:t.year()===s.year()?t.format("D MMMM, HH:mm"):t.format("D MMMM YYYY, HH:mm")}},"../../libs/shared/dist/utils/parsePriceChange.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.priceChangeFromCalculated=t.parsePriceChange=t.compareToZero=void 0;const i=s("../../libs/shared/dist/utils/displayPrice.js");t.compareToZero=(e,t,s,i)=>+e<0?t:+e>0?i:s,t.parsePriceChange=(e,s,r)=>{const a=e*(s/100)||0,n=Math.abs(a)<.01,o=r*(s/100)||0,d=Math.abs(o)<.01,l=Math.abs(s||0)<.01;return{priceChange:a,coinPriceChange:o,priceChangeDisplay:(0,i.displayPrice)({amount:n?(0,t.compareToZero)(a,"-<$0.01","$0.00","+<$0.01"):Math.abs(a),prefix:n?"":s<0?"-$":"+$",displayType:"medium"}),coinPriceChangeDisplay:(0,i.displayPrice)({amount:d?(0,t.compareToZero)(o,"-<$0.01","$0.00","+<$0.01"):Math.abs(o),prefix:d?"":o<0?"-$":"+$",displayType:"medium"}),coinPercentageChangeDisplay:(0,i.displayPrice)({amount:l?(0,t.compareToZero)(s,"-<0.01","0.00","+<0.01"):Math.abs(s),prefix:l?"":s<0?"-":"+",suffix:"%",displayType:"medium"})}},t.priceChangeFromCalculated=(e,s)=>{const r=Math.abs(e)<.01,a=Math.abs(s)<.01;return{valueChange:(0,i.displayPrice)({amount:r?(0,t.compareToZero)(e,"-<$0.01","$0.00","+<$0.01"):Math.abs(e),prefix:r?"":+e<0?"-$":"+$",displayType:"medium"}),percentageChange:(0,i.displayPrice)({amount:a?(0,t.compareToZero)(s,"-<0.01","0.00","+<0.01"):Math.abs(s),prefix:a?"":s<0?"-":"+",suffix:"%",displayType:"medium"})}}},"../../libs/shared/dist/assets/InfoScreen/JupiterSwap/jupiter-swap-1.mp4":(e,t,s)=>{e.exports=s.p+"assets/jupiter-swap-1.b77d2807..mp4"},"../../libs/shared/dist/assets/InfoScreen/JupiterSwap/jupiter-swap-2.mp4":(e,t,s)=>{e.exports=s.p+"assets/jupiter-swap-2.1235e60f..mp4"},"../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-1.mp4":(e,t,s)=>{e.exports=s.p+"assets/unverified-nft-guide-1.aef0a6cb..mp4"},"../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-2.mp4":(e,t,s)=>{e.exports=s.p+"assets/unverified-nft-guide-2.dd5f2772..mp4"},"../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-3.mp4":(e,t,s)=>{e.exports=s.p+"assets/unverified-nft-guide-3.3df1ef89..mp4"},"../../libs/shared/dist/assets/InfoScreen/UnverifiedNftGuide/unverified-nft-guide-4.mp4":(e,t,s)=>{e.exports=s.p+"assets/unverified-nft-guide-4.effaa66e..mp4"},"../../libs/shared/dist/assets/onramper-info.mp4":(e,t,s)=>{e.exports=s.p+"assets/onramper-info.2468f58f..mp4"},"../../libs/shared/dist/assets/solana.png":(e,t,s)=>{e.exports=s.p+"assets/solana.356c6cf4..png"},"../../libs/shared/dist/assets/taskmask-banner-active.mp4":(e,t,s)=>{e.exports=s.p+"assets/taskmask-banner-active.ef0526c2..mp4"},"../../libs/shared/dist/assets/taskmask-banner-upcoming.mp4":(e,t,s)=>{e.exports=s.p+"assets/taskmask-banner-upcoming.470ca459..mp4"},"../../libs/shared/dist/assets/taskmask-banner-won.mp4":(e,t,s)=>{e.exports=s.p+"assets/taskmask-banner-won.2235bc33..mp4"},"../../libs/shared/dist/assets/whats-new-single-token-page-1.mp4":(e,t,s)=>{e.exports=s.p+"assets/whats-new-single-token-page-1.73260364..mp4"},"../../libs/shared/dist/assets/whats-new-single-token-page-2.mp4":(e,t,s)=>{e.exports=s.p+"assets/whats-new-single-token-page-2.8e96ac88..mp4"},"../../libs/shared/dist/assets/whats-new-single-token-page-3.mp4":(e,t,s)=>{e.exports=s.p+"assets/whats-new-single-token-page-3.f33c5eb7..mp4"}}]);