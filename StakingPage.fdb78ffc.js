"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["StakingPage"],{"./src/pages/Staking/index.tsx":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s("../../../node_modules/react/jsx-runtime.js"),n=(a(s("../../../node_modules/react/index.js")),s("../../libs/shared/dist/components/withWallet/index.js")),o=s("../../libs/shared/dist/features/staking/extension/index.js"),r=(0,n.withWallet)()((({wallet:e})=>(0,i.jsx)(o.Staking,{wallet:e})));t.default=r},"../../libs/shared/dist/features/staking/extension/ActionsMore/Activating.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Activating=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/rise-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),l=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js"),c=s("../../libs/shared/dist/features/stakingModal/hooks/useUnstakeForm.js");t.Activating=({stakingAccount:e,wallet:t,openSplitModal:s,closeDropdown:a})=>{const{replace:g}=(0,o.useHistory)(),{t:m}=(0,n.useTranslation)(),k=e.actions.find((e=>"split"===e.name))?.metadata,j=k?.amount&&k.amount>2e9,p=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),h=p?.metadata?.amount??0,x=(0,l.lamportsToSol)(h).toString(),{mutate:f}=(0,u.useWithdrawMutation)(),{standardUnstake:v}=(0,c.useUnstakeForm)({stakeAccount:e});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.DropDownItem,{onClick:()=>{a(),v()},children:m("action_unstake")}),h>0&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{a(),f({wallet:t,amountLamports:h,confirmData:(0,i.jsx)(d.default,{amount:x,walletName:t.accountName,walletPubkey:t.getPublicKey()}),stakePubkey:e.publicKey,onBroadcast:()=>{g("/staking")}})},children:m("action_withdraw_inactive",{token:"SOL"})}),j&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{a(),s(e)},children:m("action_split")})]})}},"../../libs/shared/dist/features/staking/extension/ActionsMore/Active.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Active=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/rise-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),l=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js");t.Active=({wallet:e,stakingAccount:t,openSplitModal:s,closeDropdown:a})=>{const{replace:c}=(0,o.useHistory)(),{t:g}=(0,n.useTranslation)(),m=t.actions.find((e=>"split"===e.name))?.metadata,k=t.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),j=k?.metadata?.amount??0,p=(0,l.lamportsToSol)(j).toString(),{mutate:h}=(0,u.useWithdrawMutation)();return(0,i.jsxs)(i.Fragment,{children:[m&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{a(),s(t)},children:g("action_split")}),j>0&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{a(),h({wallet:e,amountLamports:j,confirmData:(0,i.jsx)(d.default,{amount:p,walletName:e.accountName,walletPubkey:e.getPublicKey()}),stakePubkey:t.publicKey,onBroadcast:()=>{c("/staking")}})},children:g("action_withdraw_inactive",{token:"SOL"})})]})}},"../../libs/shared/dist/features/staking/extension/ActionsMore/Deactivating.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Deactivating=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/rise-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationStaking.js")),l=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),u=s("../../libs/shared/dist/utils/lamportToSol.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),g=s("../../libs/shared/dist/features/stakingCore/index.js");t.Deactivating=({stakingAccount:e,wallet:t,closeDropdown:s,tEvents:a})=>{const{replace:m}=(0,o.useHistory)(),{t:k}=(0,n.useTranslation)(),j=e.actions.find((e=>"delegate"===e.name)),p=(0,u.lamportsToSol)(e.amount).toString(),{data:h}=(0,g.useValidators)(),{mutateAsync:x}=(0,g.useDelegateStakeAccountMutation)(),{setStakingEvents:f}=(0,g.useStakingProvider)(),v=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),b=v?.metadata?.amount??0,_=(0,u.lamportsToSol)(b).toString(),{mutate:S}=(0,g.useWithdrawMutation)();return(0,i.jsxs)(i.Fragment,{children:[j&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{f({...a,source:"restakeUnstaking"}),s(),x({validatorPubkey:e.voter,stakePubkey:e.publicKey,wallet:t,confirmData:(0,i.jsx)(d.default,{validatorName:e.validator?.name??(0,c.truncateMiddle)(e.validator?.votePublicKey),validatorImage:e.validator?.image??void 0,amount:p}),onBroadcast:()=>{m("/staking")}})},children:k("action_restake")}),b>0&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{s(),S({wallet:t,amountLamports:b,confirmData:(0,i.jsx)(l.default,{amount:_,walletName:t.accountName,walletPubkey:t.getPublicKey()}),stakePubkey:e.publicKey,onBroadcast:()=>{m("/staking")}})},children:k("action_withdraw_inactive",{token:"SOL"})})]})}},"../../libs/shared/dist/features/staking/extension/ActionsMore/Inactive.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Inactive=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/react-router/esm/react-router.js"),o=s("../../libs/rise-ui/dist/index.js");t.Inactive=({stakingAccount:e,closeDropdown:t})=>{const{push:s}=(0,n.useHistory)(),{t:r}=(0,i.useTranslation)(),d=e.actions.find((e=>"delegate"===e.name)),l=Boolean(e.lockup);return d&&!l?(0,a.jsx)(o.DropDownItem,{onClick:()=>{t(),s(`/staking/restake/${e.publicKey}`)},children:r("action_stake")}):null}},"../../libs/shared/dist/features/staking/extension/ActionsMore/InactiveActive.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InactiveActive=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/rise-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),l=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js");t.InactiveActive=({stakingAccount:e,wallet:t,closeDropdown:s,openSplitModal:a})=>{const{replace:c}=(0,o.useHistory)(),{t:g}=(0,n.useTranslation)(),m=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),k=m?.metadata?.amount??0,j=(0,l.lamportsToSol)(k).toString(),{mutate:p}=(0,u.useWithdrawMutation)(),h=e.actions.find((e=>"split"===e.name))?.metadata;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.DropDownItem,{onClick:()=>{s(),p({wallet:t,amountLamports:k,confirmData:(0,i.jsx)(d.default,{amount:j,walletName:t.accountName,walletPubkey:t.getPublicKey()}),stakePubkey:e.publicKey,onBroadcast:()=>{c("/staking")}})},children:g("action_withdraw_unstaked",{token:"SOL"})}),h&&(0,i.jsx)(r.DropDownItem,{onClick:()=>{s(),a(e)},children:g("action_split")})]})}},"../../libs/shared/dist/features/staking/extension/ActionsMore/index.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StakingActionsMore=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=a(s("../../../node_modules/react/index.js")),o=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/rise-ui/dist/index.js"),l=s("../../libs/shared/dist/features/stakingCore/index.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js"),c=s("../../libs/shared/dist/features/staking/web/ExplorerDropDownItem.js"),g=s("../../libs/shared/dist/features/staking/extension/ActionsMore/Activating.js"),m=s("../../libs/shared/dist/features/staking/extension/ActionsMore/Active.js"),k=s("../../libs/shared/dist/features/staking/extension/ActionsMore/Deactivating.js"),j=s("../../libs/shared/dist/features/staking/extension/ActionsMore/Inactive.js"),p=s("../../libs/shared/dist/features/staking/extension/ActionsMore/InactiveActive.js");t.StakingActionsMore=({stakingAccount:e,wallet:t,openSplitModal:s,setSelectedRestakeAccount:a,tEvents:h})=>{const x=(0,u.getStakeStatus)(e.statuses),[f,v]=n.default.useState(null),b=Boolean(f),{setStakingEvents:_}=(0,l.useStakingProvider)(),S=()=>{v(null)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ActionableIcon,{icon:o.faEllipsisVertical,size:"l",onClick:e=>{v(e.currentTarget)}}),(0,i.jsxs)(d.DropDown,{anchorEl:f,open:b,onClose:S,children:["active"===x&&(0,i.jsx)(m.Active,{wallet:t,stakingAccount:e,openSplitModal:s,closeDropdown:S}),"activating"===x&&(0,i.jsx)(g.Activating,{wallet:t,stakingAccount:e,openSplitModal:s,closeDropdown:S}),"deactivating"===x&&(0,i.jsx)(k.Deactivating,{stakingAccount:e,wallet:t,closeDropdown:S,tEvents:h}),"inactive-active"===x&&(0,i.jsx)(p.InactiveActive,{wallet:t,stakingAccount:e,openSplitModal:s,closeDropdown:S}),"inactive"===x&&(0,i.jsx)(j.Inactive,{wallet:t,stakingAccount:e,closeDropdown:()=>{S(),_({...l.STAKING_EVENTS_DEFAULT_STATE,source:"restakeUnstaked"})},setSelectedRestakeAccount:a}),(0,i.jsx)(c.ExplorerDropDownItem,{onClose:S,publicKey:e.publicKey})]})]})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/Active.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Active=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/stakingCore/index.js"),r=s("../../libs/shared/dist/features/stakingModal/hooks/useUnstakeForm.js");t.Active=({stakingAccount:e,openDeactivateModal:t})=>{const{t:s}=(0,i.useTranslation)(),{isFetching:d}=(0,o.useStakingAccounts)(),{standardUnstake:l}=(0,r.useUnstakeForm)({stakeAccount:e});return(0,a.jsx)(n.ButtonGroup,{children:(0,a.jsx)(n.Button,{variant:"secondary",disabled:d,onClick:()=>{e.lockup?l():t(e)},children:s("action_unstake")})})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/Empty.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Empty=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationCloseStake.js")),l=s("../../libs/shared/dist/features/stakingCore/index.js");t.Empty=({stakingAccount:e,wallet:t})=>{const{replace:s}=(0,o.useHistory)(),{t:a}=(0,n.useTranslation)(),u=e.actions.find((e=>"withdraw"===e.name))?.metadata?.amountWithClosing,{isFetching:c}=(0,l.useStakingAccounts)(),{mutateAsync:g,isLoading:m}=(0,l.useWithdrawMutation)(),k=e.validator;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.Alert,{title:a("staking_alert_view_only_title"),message:a("staking_alert_view_only_message"),variant:"info"}),u&&(0,i.jsx)(r.ButtonGroup,{children:(0,i.jsx)(r.Button,{variant:"secondary",disabled:m||c,onClick:()=>{g({closeAccount:!0,amountLamports:u,wallet:t,confirmData:(0,i.jsx)(d.default,{stakeStatus:(0,i.jsx)(r.StakeStatusTag,{status:"empty",children:a("staking_status_empty")}),validatorName:k?.name??"Stake Account",validatorImage:k?.image}),stakePubkey:e.publicKey,onBroadcast:()=>{s("/staking")}})},children:a("action_close_account")})})]})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/Inactive.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Inactive=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),l=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),c=s("../../libs/shared/dist/features/stakingCore/index.js"),g=s("../../libs/shared/dist/features/staking/constants/index.js");t.Inactive=({stakingAccount:e,openWithdrawModal:t,wallet:s})=>{const{replace:a,push:m}=(0,o.useHistory)(),{t:k}=(0,n.useTranslation)(),{isFetching:j}=(0,c.useStakingAccounts)(),{mutateAsync:p,isLoading:h}=(0,c.useWithdrawMutation)(),{data:x}=(0,u.useSolanaToken)(),f=e.actions.find((e=>"withdraw"===e.name)),v=e.actions.find((e=>"withdraw"===e.name))?.metadata?.amountWithClosing,b=e.validator,_=Boolean(e.lockup),S=e.actions.find((e=>"delegate"===e.name)),w=!!x?.amount&&Boolean(parseFloat(x?.amount)>g.MIN_SOL_FOR_STAKING);return(0,i.jsxs)(r.ButtonGroup,{children:[S&&_&&w&&(0,i.jsx)(r.Button,{onClick:()=>{m(`/staking/restake/${e.publicKey}`)},children:k("action_stake")}),f?(0,i.jsx)(i.Fragment,{children:!b&&v?(0,i.jsx)(r.Button,{disabled:h||j,onClick:()=>{p({amountLamports:v,wallet:s,confirmData:(0,i.jsx)(d.default,{amount:(0,l.lamportsToSol)(e.amount).toString(),walletName:s.accountName,walletPubkey:s.getPublicKey()}),stakePubkey:e.publicKey,onBroadcast:()=>{a("/staking")}})},children:k("action_withdraw")}):(0,i.jsx)(r.Button,{onClick:()=>t(e),children:k("action_withdraw")})}):null]})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/InactiveActive.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InactiveActive=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/stakingCore/index.js"),r=s("../../libs/shared/dist/features/stakingModal/hooks/useUnstakeForm.js");t.InactiveActive=({stakingAccount:e,openDeactivateModal:t})=>{const{t:s}=(0,i.useTranslation)(),{isFetching:d}=(0,o.useStakingAccounts)(),{standardUnstake:l}=(0,r.useUnstakeForm)({stakeAccount:e});return(0,a.jsx)(n.ButtonGroup,{children:(0,a.jsx)(n.Button,{variant:"secondary",disabled:d,onClick:()=>{e.lockup?l():t(e)},children:s("action_unstake")})})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/UnstakedUnstaking.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnstakedUnstaking=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/WithdrawSingle.js");t.UnstakedUnstaking=({stakingAccount:e,wallet:t})=>{const{t:s}=(0,i.useTranslation)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Alert,{title:s("staking_alert_partially_unstaked_title"),message:"Due to high network unstaking volume, it will take about 2-3 days longer to unstake your full amount.",variant:"info"}),(0,a.jsx)(n.ButtonGroup,{children:(0,a.jsx)(o.WithdrawSingle,{wallet:t,stakingAccount:e})})]})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/WithdrawSingle.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawSingle=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=a(s("../../libs/shared/dist/components/ConfirmationHelpers/ConfirmationWithdrawStake.js")),l=s("../../libs/shared/dist/utils/lamportToSol.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js");t.WithdrawSingle=({stakingAccount:e,wallet:t})=>{const{replace:s}=(0,o.useHistory)(),{t:a}=(0,n.useTranslation)(),c=e.actions.find((e=>"withdraw"===e.name||"partialWithdraw"===e.name)),g=c?.metadata?.amount??0,m=(0,l.lamportsToSol)(g).toString(),{mutate:k,isLoading:j}=(0,u.useWithdrawMutation)(),{isFetching:p}=(0,u.useStakingAccounts)();return(0,i.jsx)(r.Button,{disabled:j||p,onClick:()=>k({wallet:t,amountLamports:g,confirmData:(0,i.jsx)(d.default,{amount:m,walletName:t.accountName,walletPubkey:t.getPublicKey()}),stakePubkey:e.publicKey,onBroadcast:()=>{s("/staking")}}),children:a("action_withdraw")})}},"../../libs/shared/dist/features/staking/extension/ActionsPrimary/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawSingle=t.UnstakedUnstaking=t.InactiveActive=t.Inactive=t.Empty=t.Active=void 0;var a=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/Active.js");Object.defineProperty(t,"Active",{enumerable:!0,get:function(){return a.Active}});var i=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/Empty.js");Object.defineProperty(t,"Empty",{enumerable:!0,get:function(){return i.Empty}});var n=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/Inactive.js");Object.defineProperty(t,"Inactive",{enumerable:!0,get:function(){return n.Inactive}});var o=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/InactiveActive.js");Object.defineProperty(t,"InactiveActive",{enumerable:!0,get:function(){return o.InactiveActive}});var r=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/UnstakedUnstaking.js");Object.defineProperty(t,"UnstakedUnstaking",{enumerable:!0,get:function(){return r.UnstakedUnstaking}});var d=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/WithdrawSingle.js");Object.defineProperty(t,"WithdrawSingle",{enumerable:!0,get:function(){return d.WithdrawSingle}})},"../../libs/shared/dist/features/staking/extension/Restake/RestakeForm.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RestakeForm=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../../node_modules/react-router/esm/react-router.js"),o=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=s("../../libs/shared/dist/features/stakingModal/components/StakeForm.js"),l=s("../../libs/shared/dist/features/stakingModal/hooks/useCreateStakeForm.js");t.RestakeForm=({wallet:e,restakeAccount:t})=>{const{maxSOLBalance:s,selectedAmount:u,setSelectedValidator:c,selectedValidator:g,error:m,createStake:k,createStakeLoading:j,setValidatorFilter:p,validatorOptions:h,validatorsLoading:x,validatorsFetching:f}=(0,l.useCreateStakeForm)(e,t),{t:v}=(0,i.useTranslation)(),{goBack:b}=(0,n.useHistory)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.PageTitle,{left:(0,a.jsx)(r.ActionableIcon,{onClick:b,icon:o.faArrowLeft,size:"l"}),center:v("action_stake")}),(0,a.jsx)(r.PageContent,{children:(0,a.jsx)(r.StakingForm,{children:(0,a.jsx)(r.StakingFormContent,{children:(0,a.jsx)(d.StakeForm,{maxSOLBalance:s,selectedAmount:u,validatorOptions:h,onValidatorQueryChange:p,validatorsLoading:x,validatorsFetching:f,onValidatorChange:c,selectedValidator:g})})})}),(0,a.jsxs)(r.FooterActions,{children:[m&&(0,a.jsx)(r.Alert,{variant:"error",title:m.title,message:m.message}),(0,a.jsx)(r.ButtonGroup,{children:(0,a.jsx)(r.Button,{disabled:void 0===u||0==+u||Boolean(m)||!g||j,onClick:k,children:v("action_stake")})})]})]})}},"../../libs/shared/dist/features/staking/extension/Restake/RestakeLoading.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RestakeLoading=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js");t.RestakeLoading=()=>{const{t:e}=(0,i.useTranslation)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.PageTitle,{center:e("action_restake")}),(0,a.jsx)(n.PageContent,{children:(0,a.jsx)(n.Spinner,{size:"l"})})]})}},"../../libs/shared/dist/features/staking/extension/RestakePage.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RestakePage=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-router/esm/react-router.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/features/stakingCore/index.js"),r=s("../../libs/shared/dist/features/staking/extension/Restake/RestakeForm.js"),d=s("../../libs/shared/dist/features/staking/extension/Restake/RestakeLoading.js");t.RestakePage=({wallet:e})=>{const{data:t}=(0,o.useStakingAccounts)(),{stakeId:s}=(0,i.useParams)(),l=t?.stakeAccounts.find((e=>e.publicKey===s));return l?(0,a.jsx)(n.PagePortal,{children:l?(0,a.jsx)(r.RestakeForm,{wallet:e,restakeAccount:l}):(0,a.jsx)(d.RestakeLoading,{})}):(0,a.jsx)(d.RestakeLoading,{})}},"../../libs/shared/dist/features/staking/extension/RewardsList.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RewardsList=void 0;const a=s("../../../node_modules/react/jsx-runtime.js"),i=s("../../../node_modules/react-i18next/dist/es/index.js"),n=s("../../libs/foundation-ui/dist/index.js"),o=s("../../libs/shared/dist/utils/humanDate.js"),r=s("../../libs/shared/dist/utils/lamportToSol.js"),d=s("../../libs/shared/dist/features/currencies/index.js"),l=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),u=s("../../libs/shared/dist/features/stakingCore/index.js");t.RewardsList=({stakingAccount:{publicKey:e,activationEpoch:t}})=>{const{t:s}=(0,i.useTranslation)(),{data:c,isFetching:g}=(0,u.useRewards)(e,t),m=c?.rewards??[],{data:k}=(0,l.useSolanaToken)(),j=!g&&m&&0===m?.length;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.RewardList,{isLoading:g,isEmpty:j,data:m??[],extractKey:e=>String(e.epoch),emptyStateMessage:s("staking_no_staking_rewards_yet"),renderItem:e=>(0,a.jsx)(n.RewardListItem,{title:(0,o.humanDate)(1e3*e.rewardTime,!0,!1,!0),amount:(0,r.lamportsToSol)(e.amount).toString(),value:(0,a.jsx)(d.DisplayComputedFiatValue,{value:(0,r.lamportsToSol)(e.amount).multipliedBy(k?.price?.price??0).toString()})})})})}},"../../libs/shared/dist/features/staking/extension/Staking.js":function(e,t,s){var a=this&&this.__createBinding||(Object.create?function(e,t,s,a){void 0===a&&(a=s);var i=Object.getOwnPropertyDescriptor(t,s);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,i)}:function(e,t,s,a){void 0===a&&(a=s),e[a]=t[s]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&a(t,e,s);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Staking=void 0;const o=s("../../../node_modules/react/jsx-runtime.js"),r=n(s("../../../node_modules/react/index.js")),d=s("../../../node_modules/react-router/esm/react-router.js"),l=s("../../libs/shared/dist/features/stakingModal/extension/index.js"),u=s("../../libs/shared/dist/features/stakingModal/shared/UnstakeModal.js"),c=s("../../libs/shared/dist/features/staking/extension/RestakePage.js"),g=s("../../libs/shared/dist/features/staking/extension/StakingAccountListPage.js"),m=s("../../libs/shared/dist/features/staking/extension/StakingSinglePage.js");t.Staking=({wallet:e})=>{const{path:t}=(0,d.useRouteMatch)(),[s,a]=r.default.useState(void 0),[i,n]=r.default.useState(void 0),[k,j]=r.default.useState(void 0),[p,h]=(0,r.useState)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.StakingAccountListPage,{}),(0,o.jsx)(d.Route,{path:`${t}/stake/:stakeId`,children:(0,o.jsx)(m.StakingSinglePage,{wallet:e,setSplitAccount:n,setWithdrawAccount:a,setSelectedRestakeAccount:j,setDeactivateAccount:h})}),(0,o.jsx)(d.Route,{path:`${t}/restake/:stakeId`,children:(0,o.jsx)(c.RestakePage,{wallet:e})}),k&&(0,o.jsx)(l.StakingModal,{stakeAccount:k,setSelectedRestakeAccount:j}),s&&(0,o.jsx)(l.WithdrawModal,{wallet:e,withdrawStakeAccount:s,setWithdrawStakeAccount:a}),i&&(0,o.jsx)(l.SplitModal,{wallet:e,splitStakeAccount:i,setSplitStakeAccount:n}),p&&(0,o.jsx)(u.UnstakeModal,{stakeAccount:p,close:()=>h(void 0)})]})}},"../../libs/shared/dist/features/staking/extension/StakingAccountListPage.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StakingAccountListPage=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/react-router/esm/react-router.js"),r=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),d=s("../../../node_modules/@fortawesome/pro-solid-svg-icons/index.js"),l=a(s("../../../node_modules/bignumber.js/bignumber.js")),u=s("../../libs/foundation-ui/dist/index.js"),c=s("../../libs/shared/src/constants/validatorStatus.ts"),g=s("../../libs/shared/dist/utils/displayPrice.js"),m=s("../../libs/shared/dist/utils/lamportToSol.js"),k=s("../../libs/shared/dist/utils/truncateMiddle.js"),j=s("../../libs/shared/dist/features/currencies/index.js"),p=s("../../libs/shared/dist/features/stakingCore/index.js"),h=s("../../libs/shared/dist/features/stakingCore/utils/stakeStatusToDSStakeStatus.js");t.StakingAccountListPage=()=>{const{t:e}=(0,n.useTranslation)(),{data:t,isLoading:s,isError:a}=(0,p.useStakingAccounts)(),[x,f]=(0,p.useStakeModal)(),{push:v,goBack:b}=(0,o.useHistory)();if(a)return(0,i.jsx)("div",{children:e("error_something_wrong")});const _=t?.header,S=(0,m.lamportsToSol)(_?.totalAmount||0),w=t&&void 0!==_?.totalAmount?S.multipliedBy(new l.default(_?.price?.price||0)).toString():void 0,y={active:e("staking_status_active"),activating:e("staking_status_activating"),deactivating:e("staking_status_unstaking"),inactive:e("staking_status_unstaked"),empty:e("staking_status_empty"),inactiveDeactivating:e("staking_status_unstaking"),activeInactive:e("staking_status_unstaked")};return(0,i.jsxs)(u.PagePortal,{children:[(0,i.jsx)(u.PageTitle,{left:(0,i.jsx)(u.ActionableIcon,{onClick:b,icon:r.faArrowLeft,size:"l"}),center:e("staking_title")}),(0,i.jsxs)(u.PageContent,{children:[(0,i.jsx)(u.StakingHero,{isLoading:s,avatar:(0,i.jsx)(u.IconAvatar,{size:"l",icon:d.faPiggyBank}),amount:(0,g.displayPrice)({amount:S,displayType:"amount",suffix:" SOL"}),value:void 0!==w?(0,i.jsx)(j.DisplayComputedFiatValue,{value:w}):null,actions:[(0,i.jsx)(u.ButtonGroup,{justifyContent:"center",children:(0,i.jsx)(u.Button,{disabled:s,onClick:f,children:e("action_stake")})},"actions-button")]}),(0,i.jsx)(u.StakingList,{isLoading:s,onStakingAccountClick:e=>{v(`/staking/stake/${e.publicKey}`)},data:(t?.stakeAccounts||[]).map((t=>{const s=t.validator,a=s?.status===c.ValidatorStatusEnum.Active?s.name||(0,k.truncateMiddle)(s.votePublicKey):e("staking_account_info_route_deactivated_validator"),n=Boolean(t.lockup);return{publicKey:t.publicKey,title:a,locked:n,statuses:t.statuses.map((e=>({status:(0,h.convertApiStakeStatusToDSStakeStatus)(e),text:y[e]??e}))),validatorImage:s?.image??void 0,amount:(0,g.displayPrice)({amount:(0,m.lamportsToSol)(t.amount),displayType:"amount",suffix:" SOL"}),value:(0,i.jsx)(j.DisplayComputedFiatValue,{value:(0,m.lamportsToSol)(t.amount).multipliedBy(new l.default(_?.price?.price||0)).toString()})}}))})]})]})}},"../../libs/shared/dist/features/staking/extension/StakingSinglePage.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StakingSinglePage=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react/index.js"),o=s("../../../node_modules/react-i18next/dist/es/index.js"),r=s("../../../node_modules/react-redux/es/index.js"),d=s("../../../node_modules/react-router/esm/react-router.js"),l=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),u=a(s("../../../node_modules/bignumber.js/bignumber.js")),c=s("../../libs/foundation-ui/dist/index.js"),g=s("../../libs/shared/dist/features/stakingCore/components/StakingProvider.js"),m=s("../../libs/shared/dist/store/actions/common.js"),k=s("../../libs/shared/dist/store/selectors/config.js"),j=s("../../libs/shared/dist/utils/displayPrice.js"),p=s("../../libs/shared/dist/utils/lamportToSol.js"),h=s("../../libs/shared/dist/utils/timeRemaining.js"),x=s("../../libs/shared/dist/utils/truncateMiddle.js"),f=s("../../libs/shared/dist/features/currencies/index.js"),v=s("../../libs/shared/dist/features/stakingCore/index.js"),b=s("../../libs/shared/dist/features/staking/shared/InstantUnstakeSpeedupBanner.js"),_=s("../../libs/shared/dist/features/staking/utils/getStakeStatusDetails.js"),S=s("../../libs/shared/dist/features/staking/extension/ActionsMore/index.js"),w=s("../../libs/shared/dist/features/staking/extension/ActionsPrimary/index.js"),y=s("../../libs/shared/dist/features/staking/extension/RewardsList.js");t.StakingSinglePage=({wallet:e,setSplitAccount:t,setWithdrawAccount:s,setSelectedRestakeAccount:a,setDeactivateAccount:A})=>{const P=(0,r.useDispatch)(),{data:M}=(0,v.useStakingAccounts)(),{setStakingEvents:D,stakingEvents:C}=(0,v.useStakingProvider)(),{stakeId:T}=(0,d.useParams)(),{goBack:I}=(0,d.useHistory)(),{t:F}=(0,o.useTranslation)(),{cluster:L}=(0,r.useSelector)(k.networkSelector),O="mainnet"===L,[B,W]=(0,n.useState)(""),R=M?.stakeAccounts.find((e=>e.publicKey===T));if(!R)return null;const E=R.validator,H=(0,v.getStakeStatus)(R.statuses),{title:K,pageHeroAvatarVariant:U,pageHeroIcon:N}=(0,_.getStakeStatusDetails)(R,F),V=(0,p.lamportsToSol)(R.amount||0),G=M&&void 0!==M.header?.totalAmount?V.multipliedBy(new u.default(M.header?.price?.price||0)).toString():void 0,z=(0,h.secondsToTimeRemaining)(M?.header.epochEndSeconds??0),$=Boolean(R.lockup),q={...g.STAKING_EVENTS_DEFAULT_STATE,amountInSol:(0,j.displayPrice)({amount:V,displayType:"solana"}),amountInUsd:(0,j.displayPrice)({amount:G,displayType:"value"}),validatorName:E?.name??C.validatorName,validatorVotePubKey:E?.votePublicKey??C.validatorVotePubKey,validatorNodePubKey:E?.nodePublicKey??C.validatorNodePubKey};return(0,i.jsxs)(c.PagePortal,{children:[(0,i.jsx)(c.PageTitle,{left:(0,i.jsx)(c.ActionableIcon,{onClick:()=>{D({...g.STAKING_EVENTS_DEFAULT_STATE}),I()},icon:l.faArrowLeft,size:"l"}),center:K,right:(0,i.jsx)(S.StakingActionsMore,{wallet:e,stakingAccount:R,openSplitModal:t,setSelectedRestakeAccount:a,tEvents:q})}),(0,i.jsxs)(c.PageContent,{children:[(0,i.jsx)(c.StakingHero,{avatar:(0,i.jsx)(c.IconAvatar,{background:U,size:"l",icon:N}),amount:(0,j.displayPrice)({amount:V,displayType:"solana",suffix:" SOL"}),value:void 0!==G?(0,i.jsx)(f.DisplayComputedFiatValue,{value:G}):null,actions:(()=>{const t=[];switch($&&t.push((0,i.jsx)(c.Alert,{title:F("staking_alert_locked_title"),message:F("staking_alert_locked_message"),variant:"info"},"actions-alert")),H){case"active":t.push((0,i.jsx)(w.Active,{stakingAccount:R,openDeactivateModal:A},"actions-button"));break;case"deactivating-inactive":t.push((0,i.jsx)(w.UnstakedUnstaking,{wallet:e,stakingAccount:R},"actions-button"));break;case"inactive-active":t.push((0,i.jsx)(w.InactiveActive,{stakingAccount:R,openDeactivateModal:A},"actions-button"));break;case"inactive":t.push((0,i.jsx)(w.Inactive,{wallet:e,openWithdrawModal:s,stakingAccount:R},"actions-button"));break;case"empty":t.push((0,i.jsx)(w.Empty,{wallet:e,stakingAccount:R},"actions-button"))}return t})(),banner:"deactivating"===H||"deactivating-inactive"===H?(0,i.jsx)(b.InstantUnstakeSpeedupBanner,{stakeAccount:R}):void 0}),(E||O||$)&&(0,i.jsx)(c.TabsContainer,{activeTab:""!==B?B:E||$?"details":"rewards",onChange:e=>W(e),tabs:[...E||$?[{value:"details",label:F("form_details"),content:(0,i.jsxs)(c.DetailsSection,{children:[$&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.DetailsSectionRow,{title:F("staking_unlock_time_label"),content:(0,h.secondsToTimeRemaining)(R.lockup?.expiresInSeconds??0)}),(0,i.jsx)(c.Divider,{fullWidthNegativeMargin:!0})]}),E&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.DetailsSectionRow,{title:F("staking_native_validator"),content:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.ValidatorAvatar,{size:"s",src:E.image||void 0}),E.name??(0,x.truncateMiddle)(E.votePublicKey),(0,i.jsx)(c.ActionableIcon,{icon:l.faExternalLink,size:"s",onClick:()=>P((0,m.openExplorerAccount)({account:E?.votePublicKey}))})]})}),(0,i.jsx)(c.Divider,{fullWidthNegativeMargin:!0})]}),R.statuses.includes("deactivating")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.DetailsSectionRow,{title:F("staking_unstake_time_label"),content:z}),(0,i.jsx)(c.Divider,{fullWidthNegativeMargin:!0})]}),R.statuses.includes("activating")&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.DetailsSectionRow,{title:F("staking_stake_detail_time_to_stake_label"),content:z}),(0,i.jsx)(c.Divider,{fullWidthNegativeMargin:!0})]}),E&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.DetailsSectionRow,{title:F("table_apy"),content:(0,j.displayPrice)({amount:E.apy,displayType:"medium",suffix:"%"})}),(0,i.jsx)(c.Divider,{fullWidthNegativeMargin:!0}),(0,i.jsx)(c.DetailsSectionRow,{title:F("staking_stake_detail_total_stake_label"),content:(0,j.displayPrice)({amount:(0,p.lamportsToSol)(E.stakeActive),displayType:"none",suffix:" SOL"})})]})]})}]:[],...O?[{value:"rewards",label:F("form_rewards"),content:(0,i.jsx)(y.RewardsList,{stakingAccount:R})}]:[]]})]})]})}},"../../libs/shared/dist/features/staking/extension/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Staking=void 0;var a=s("../../libs/shared/dist/features/staking/extension/Staking.js");Object.defineProperty(t,"Staking",{enumerable:!0,get:function(){return a.Staking}})},"../../libs/shared/dist/features/staking/utils/getStakeStatusDetails.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStakeStatusDetails=void 0;const a=s("../../../node_modules/@fortawesome/pro-solid-svg-icons/index.js"),i=s("../../libs/shared/dist/features/stakingCore/index.js");t.getStakeStatusDetails=(e,t)=>{const s=(0,i.getStakeStatus)(e.statuses);return"active"===s?{title:t("staking_status_active"),pageHeroAvatarVariant:"stakingStatusStaked",pageHeroIcon:a.faPiggyBank}:"activating"===s?{title:t("staking_status_activating"),pageHeroAvatarVariant:"stakingStatusInProcess",pageHeroIcon:a.faHourglassHalf}:"deactivating"===s?{title:t("staking_status_unstaking"),pageHeroAvatarVariant:"stakingStatusInProcess",pageHeroIcon:a.faHourglassHalf}:"deactivating-inactive"===s?{title:t("staking_status_unstaking"),pageHeroAvatarVariant:"stakingStatusUnstaked",pageHeroIcon:a.faCoins}:"inactive-active"===s?{title:t("staking_status_active"),pageHeroAvatarVariant:"stakingStatusStaked",pageHeroIcon:a.faCoins}:"inactive"===s?{title:t("staking_status_unstaked"),pageHeroAvatarVariant:"stakingStatusUnstaked",pageHeroIcon:a.faCoins}:"empty"===s?{title:t("staking_status_empty_title"),pageHeroAvatarVariant:"stakingStatusEmpty",pageHeroIcon:a.faReceipt}:{title:t("staking_status_unstaked"),pageHeroAvatarVariant:"stakingStatusUnstaked",pageHeroIcon:a.faCoins}}},"../../libs/shared/dist/features/stakingCore/utils/stakeStatusToDSStakeStatus.js":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertApiStakeStatusToDSStakeStatus=void 0,t.convertApiStakeStatusToDSStakeStatus=e=>({active:"active",inactive:"inactive",activating:"activating",deactivating:"deactivating",empty:"empty",inactiveDeactivating:"deactivating",activeInactive:"inactive"}[e])},"../../libs/shared/dist/features/stakingModal/extension/SplitModal.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SplitModal=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=a(s("../../libs/shared/dist/assets/solana.png")),l=s("../../libs/shared/dist/components/WebInfoTooltip/index.js"),u=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),g=s("../../libs/shared/dist/features/stakingCore/constants.js"),m=s("../../libs/shared/dist/features/stakingModal/hooks/useSplitStakeForm.js");t.SplitModal=({wallet:e,splitStakeAccount:t,setSplitStakeAccount:s})=>{const{t:a}=(0,n.useTranslation)(),k=()=>{s(void 0)},{maxAmountBN:j,setSelectedAmount:p,selectedAmount:h,error:x,splitStake:f}=(0,m.useSplitStakeForm)(e,t,k);return(0,i.jsxs)(r.PageModal,{open:!0,onOpenChange:k,children:[(0,i.jsx)(r.PageTitle,{left:(0,i.jsx)(r.ActionableIcon,{icon:o.faArrowLeft,onClick:k,size:"l"}),center:a("action_split")}),(0,i.jsx)(r.PageContent,{children:(0,i.jsx)(r.StakingForm,{children:(0,i.jsxs)(r.StakingFormContent,{children:[(0,i.jsx)(r.SendInput,{label:(0,i.jsx)(r.Label,{htmlFor:"token-input",children:a("table_token")}),right:j.isGreaterThanOrEqualTo(g.MIN_STAKE_AMOUNT)&&(0,i.jsxs)(r.RightLabel,{onClick:()=>p(j.toString()),children:[a("swap_max"),": ",j.toString()," SOL"]}),id:"token-input",selectedToken:{tokenId:"-",symbol:"SOL",amount:"-",logoURI:d.default,verified:!0},amount:h||"",onAmountChange:e=>p(e.target.value),tokens:[],onSelectedTokenChange:()=>{},disabledTokenSelect:!0,amountTextInputType:"number"}),(0,i.jsx)(r.FormField,{label:(0,i.jsxs)(r.Label,{children:[a("table_validator"),(0,i.jsx)(l.WebInfoTooltip,{tooltip:a("staking_validator_description")})]}),children:(0,i.jsx)(r.ValidatorListItem,{background:"dropDown",image:t.validator?.image??void 0,title:t.validator?.name??(0,c.truncateMiddle)(t.validator?.votePublicKey),apr:(0,u.displayPrice)({amount:t.validator?.apy??0,suffix:"% APY",displayType:"medium"})})})]})})}),(0,i.jsxs)(r.FooterActions,{children:[x&&(0,i.jsx)(r.Alert,{variant:"error",title:x.title,message:x.message}),(0,i.jsx)(r.ButtonGroup,{children:(0,i.jsx)(r.Button,{disabled:Boolean(x)||!h,onClick:()=>{k(),f()},children:a("action_split")})})]})]})}},"../../libs/shared/dist/features/stakingModal/extension/WithdrawModal.js":function(e,t,s){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawModal=void 0;const i=s("../../../node_modules/react/jsx-runtime.js"),n=s("../../../node_modules/react-i18next/dist/es/index.js"),o=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),r=s("../../libs/foundation-ui/dist/index.js"),d=a(s("../../libs/shared/dist/assets/solana.png")),l=s("../../libs/shared/dist/components/WebInfoTooltip/index.js"),u=s("../../libs/shared/dist/utils/displayPrice.js"),c=s("../../libs/shared/dist/utils/truncateMiddle.js"),g=s("../../libs/shared/dist/features/currencies/index.js"),m=s("../../libs/shared/dist/features/portfolio/hooks/useSolanaToken.js"),k=s("../../libs/shared/dist/features/stakingModal/hooks/useWithdrawStakeForm.js");t.WithdrawModal=({wallet:e,withdrawStakeAccount:t,setWithdrawStakeAccount:s})=>{const{t:a}=(0,n.useTranslation)(),j=()=>{s(void 0)},{amount:p,withdrawStake:h,setCloseAccount:x,closeAccount:f,withdrawLoading:v}=(0,k.useWithdrawStakeForm)(e,t,j),{data:b}=(0,m.useSolanaToken)();return(0,i.jsxs)(r.PageModal,{open:!0,onOpenChange:j,children:[(0,i.jsx)(r.PageTitle,{left:(0,i.jsx)(r.ActionableIcon,{icon:o.faArrowLeft,onClick:j,size:"l"}),center:a("withdraw")}),(0,i.jsx)(r.PageContent,{children:(0,i.jsx)(r.StakingForm,{children:(0,i.jsxs)(r.StakingFormContent,{children:[(0,i.jsx)(r.FormField,{label:(0,i.jsx)(r.Label,{children:a("table_token")}),children:(0,i.jsx)(r.StakeAccountListItem,{statuses:[],validatorImage:d.default,background:"dropDown",title:a("solana"),amount:(0,u.displayPrice)({amount:p,displayType:"solana",suffix:" SOL"}),height:"s",value:(0,i.jsx)(g.DisplayComputedFiatValue,{value:p.multipliedBy(b?.price?.price??0).toNumber()}),spacingX:"select",avatarSize:"s"})}),(0,i.jsx)(r.FormField,{label:(0,i.jsxs)(r.Label,{children:[a("table_validator"),(0,i.jsx)(l.WebInfoTooltip,{tooltip:a("staking_validator_description")})]}),children:(0,i.jsx)(r.ValidatorListItem,{background:"dropDown",image:t.validator?.image??void 0,apr:(0,u.displayPrice)({amount:t.validator?.apy??0,displayType:"medium",suffix:"% APY"}),title:t.validator?.name??(0,c.truncateMiddle)(t.validator?.votePublicKey)})}),(0,i.jsx)(r.Control,{id:"cb-close",label:a("action_close_account"),tooltip:a("staking_withdraw_available_tooltip"),action:(0,i.jsx)(r.Checkbox,{checked:f,onChange:e=>x(Boolean(e.target.checked))})})]})})}),(0,i.jsx)(r.FooterActions,{children:(0,i.jsx)(r.ButtonGroup,{children:(0,i.jsx)(r.Button,{disabled:v,onClick:()=>{j(),h()},children:a("withdraw")})})})]})}},"../../libs/shared/dist/features/stakingModal/extension/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WithdrawModal=t.StakingModal=t.SplitModal=void 0;var a=s("../../libs/shared/dist/features/stakingModal/extension/SplitModal.js");Object.defineProperty(t,"SplitModal",{enumerable:!0,get:function(){return a.SplitModal}});var i=s("../../libs/shared/dist/features/stakingModal/extension/StakingModal.js");Object.defineProperty(t,"StakingModal",{enumerable:!0,get:function(){return i.StakingModal}});var n=s("../../libs/shared/dist/features/stakingModal/extension/WithdrawModal.js");Object.defineProperty(t,"WithdrawModal",{enumerable:!0,get:function(){return n.WithdrawModal}})},"../../libs/shared/dist/hooks/useSolanaBalance/index.js":(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSolanaBalance=void 0;const a=s("../../../node_modules/react-redux/es/index.js"),i=s("../../../node_modules/@tanstack/react-query/build/lib/index.js"),n=s("../../libs/shared/dist/constants/mints.js"),o=s("../../libs/shared/dist/features/currencies/index.js"),r=s("../../libs/shared/dist/features/portfolio/api/portfolio.js"),d=s("../../libs/shared/dist/store/selectors/config.js");t.useSolanaBalance=()=>{const{data:e,isLoading:t}=(()=>{const e=(0,a.useSelector)(d.activePubkeySelector),t=(0,a.useSelector)(d.networkSelector),s=(0,o.useCurrentCurrency)();return(0,i.useQuery)({queryKey:["tokens",e,t.url,s.ticker],queryFn:()=>(0,r.getTokens)(e,t.cluster,s.ticker),refetchInterval:6e4,enabled:!!e})})(),s=e?.tokens?.find((e=>e.mint===n.SOL_MINT_ADDRESS));return{isLoading:t,lamports:s?.accounts?.[0]?.amount||0,price:s?.price?.price||0,usdPrice:s?.price?.usdPrice||0}}},"../../libs/shared/src/constants/validatorStatus.ts":(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorStatusEnum=void 0,function(e){e.Active="active",e.Inactive="inactive"}(s||(t.ValidatorStatusEnum=s={}))}}]);