"use strict";(self.webpackChunk_solflare_extension=self.webpackChunk_solflare_extension||[]).push([["SingleTokenActivityPage","vendors-node_modules_mui_styles_makeStyles_index_js"],{"../../../node_modules/@mui/styles/makeStyles/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i.Z});var i=s("../../../node_modules/@mui/styles/makeStyles/makeStyles.js")},"./src/features/activity/components/Activity/index.js":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var n=Object.getOwnPropertyDescriptor(t,s);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,n)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),l=o(s("../../../node_modules/react/index.js")),d=s("../../../node_modules/react-i18next/dist/es/index.js"),c=s("../../../node_modules/react-virtuoso/dist/index.m.js"),u=s("../../../node_modules/@mui/material/index.js"),m=a(s("../../../node_modules/@mui/styles/makeStyles/index.js")),p=a(s("../../../node_modules/dayjs/dayjs.min.js")),f=s("../../libs/foundation-ui/dist/index.js"),x=a(s("../../libs/shared/dist/assets/no-activity.svg")),h=a(s("../../libs/shared/dist/assets/no-apps-light.svg")),j=s("../../libs/shared/dist/features/activity/index.js"),_=s("../../libs/shared/dist/utils/humanDate.js"),y=a(s("./src/features/activity/components/ActivityItem/index.js")),g=a(s("./src/features/activity/components/SingleActivity/index.js")),v=(0,m.default)((e=>({list:{width:"calc(100% + 32px)",left:-16,position:"relative"},groupHeader:{backgroundColor:e.palette.background.modal,color:"rgba(255, 255, 255, 0.4)",paddingBottom:8,paddingLeft:16,paddingTop:8,fontSize:"12px",lineHeight:"14px",fontWeight:400,position:"relative",top:-1},headerRow:{backgroundColor:"inherit",display:"grid",position:"relative",padding:4,gridTemplateColumns:"200px 200px auto 300px 24px",minHeight:"72px",minWidth:"min-content",alignItems:"center"},row:{borderBottom:`1px solid ${e.palette.common.white05}`,"&:hover":{cursor:"pointer"}},rowLast:{borderBottom:"none"}})));t.default=({publicKey:e})=>{const t=(0,u.useTheme)(),{t:s,i18n:i}=(0,d.useTranslation)(),n=v(),{loadTransactions:o,loadSignatures:a,signatures:m,transactions:b,isLoading:k}=(0,j.useActivityTransactions)({layout:"ext"}),[w,P]=(0,l.useState)(null);(0,l.useEffect)((()=>{const t=setInterval((()=>{a({publicKey:e,onlyNewer:!0})}),15e3);return()=>clearInterval(t)}),[e]),(0,l.useEffect)((()=>{a({publicKey:e})}),[e]);const[M,T,O]=(0,l.useMemo)((()=>{const e={},t=[];m.forEach((s=>{if(s?.blockTime){const i=p.default.unix(s.blockTime),n=(0,_.humanDate)(i.valueOf(),!0,!1,!0);void 0===e[n]?(e[n]=1,t.push(n)):e[n]+=1}}));const s=Object.values(e);let i=0;return[s,t,s.map((e=>(i+=e)-1))]}),[m]);return(0,r.jsxs)(r.Fragment,{children:[null!==w&&(0,r.jsx)(g.default,{transaction:w,onBack:()=>{P(null)}}),(0,r.jsxs)(f.PageContent,{noBottomPadding:!0,children:[0===m.length&&!k&&(0,r.jsxs)(u.Box,{display:"flex",flexDirection:"column",alignItems:"center",my:10,children:[(0,r.jsx)("img",{alt:"No nft",src:t.dark?x.default:h.default}),(0,r.jsx)(u.Typography,{variant:"bodyS",color:"text.tertiary",children:s("no_recent_activity")})]}),0===m.length&&k&&(0,r.jsxs)(u.Box,{className:n.list,pt:1,children:[(0,r.jsx)(u.Box,{ml:2,mb:1,children:(0,r.jsx)(f.Skeleton,{variant:"text",__height:14,__width:"20%"})}),[...Array(8)].map(((e,t)=>(0,r.jsx)(u.Box,{class:n.row,children:(0,r.jsx)(y.default,{item:null})},t)))]}),0!==m.length&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.GroupedVirtuoso,{className:n.list,groupCounts:M,groupContent:e=>(0,r.jsx)("div",{className:n.groupHeader,children:T[e]}),totalCount:m.length,itemsRendered:e=>o(e,i.language),overscan:10,itemContent:e=>{const t=m[e].hash,s=b[t];return(0,r.jsx)(u.Box,{className:`${n.row} ${O.includes(e)?n.rowLast:""}`,onClick:()=>{s.components&&P(s)},children:(0,r.jsx)(y.default,{item:s})},e)}})})]})]})}},"./src/features/activity/components/ActivityItem/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s("../../../node_modules/react/jsx-runtime.js"),o=(i(s("../../../node_modules/react/index.js")),s("../../libs/shared/dist/features/activity/index.js"));t.default=e=>{return(0,n.jsx)(n.Fragment,{children:(t=e?.item,t?.components?(0,o.parse)(t.components.lineItem):(0,n.jsx)(o.ExtLineItem,{loading:!0}))});var t}},"./src/features/activity/components/SingleActivity/index.js":function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=s("../../../node_modules/react/jsx-runtime.js"),o=(i(s("../../../node_modules/react/index.js")),s("../../../node_modules/react-i18next/dist/es/index.js")),a=s("../../../node_modules/react-redux/es/index.js"),r=s("../../../node_modules/react-router-dom/esm/react-router-dom.js"),l=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),d=i(s("../../../node_modules/@mui/styles/makeStyles/index.js")),c=i(s("../../../node_modules/dayjs/dayjs.min.js")),u=s("../../../node_modules/redux/es/redux.js"),m=s("../../libs/foundation-ui/dist/index.js"),p=s("../../libs/shared/dist/components/withWallet/index.js"),f=s("../../libs/shared/dist/features/activity/index.js"),x=s("../../libs/shared/dist/store/actions/common.js"),h=s("../../libs/shared/dist/utils/displayPrice.js"),j=s("../../libs/shared/dist/utils/truncateMiddle.js"),_=(0,d.default)((e=>({list:{marginLeft:0,marginRight:0},item:{color:e.palette.common.white},pointer:{cursor:"pointer"},price:{opacity:.5}}))),y=(0,u.compose)((0,p.withWallet)({protectedPage:!0,Fallback:()=>(0,n.jsx)(r.Redirect,{to:"/"})}),(0,a.connect)(null,{openExplorerTransaction:x.openExplorerTransaction}))((({transaction:e,onBack:t,openExplorerTransaction:s})=>{const{t:i}=(0,o.useTranslation)(),a=_(),r=[{id:"timestamp",data:(0,n.jsx)(m.ActivityDetailsRow,{title:i("form_date"),children:(0,n.jsx)("span",{children:`${(0,c.default)(1e3*e.blockTime).format("YYYY MMMM D")} ${i("at_time")} ${(0,c.default)(1e3*e.blockTime).format("HH:mm:ss")}`})})},{id:"details",data:(0,n.jsx)(m.ActivityDetailsRow,{title:i("form_details"),children:(0,f.parse)(e.components.expandedData.details)})}];return e.components.expandedData.balances&&r.push({id:"balances",data:(0,n.jsx)(m.ActivityDetailsRow,{title:i("form_transaction_result"),children:(0,f.parse)(e.components.expandedData.balances,{layout:"details"})})}),e.fee&&r.push({id:"fee",data:(0,n.jsxs)(m.ActivityDetailsRow,{title:i("form_transaction_fee"),children:[(0,n.jsxs)("span",{children:[e.fee.amount," ",e.fee.symbol]}),(0,n.jsx)(m.Typography,{variant:"textXS",color:"secondary",children:(0,h.displayPrice)({amount:e.fee.amount*e.fee.price,displayType:"value",prefix:"$"})})]})}),r.push({id:5,data:(0,n.jsxs)(m.ActivityDetailsRow,{title:i("transaction_id"),childrenClassName:a.pointer,children:[(0,n.jsx)("span",{onClick:()=>{s({signature:e.hash})},children:(0,j.truncateMiddle)(e.hash)}),(0,n.jsx)(m.Tooltip,{content:i("action_view_in_explorer"),children:(0,n.jsx)(m.IconV2,{onClick:()=>{s({signature:e.hash})},size:"s",color:"linkPrimary",icon:l.faExternalLink})})]})}),(0,n.jsxs)(m.PagePortal,{children:[(0,n.jsx)(m.PageTitle,{left:(0,n.jsx)(m.ActionableIcon,{icon:l.faArrowLeft,size:"l",onClick:t}),center:e.components.expandedData.title}),(0,n.jsx)(m.PageContent,{noBottomPadding:!0,children:(0,n.jsx)(m.GeneralList,{className:a.list,extractKey:e=>e.id,data:r,renderItem:e=>e.data})})]})}));t.default=y},"./src/pages/Portfolio/SingleToken/Activity/index.tsx":function(e,t,s){var i=this&&this.__createBinding||(Object.create?function(e,t,s,i){void 0===i&&(i=s);var n=Object.getOwnPropertyDescriptor(t,s);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,i,n)}:function(e,t,s,i){void 0===i&&(i=s),e[i]=t[s]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&i(t,e,s);return n(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s("../../../node_modules/react/jsx-runtime.js"),l=o(s("../../../node_modules/react/index.js")),d=s("../../../node_modules/react-i18next/dist/es/index.js"),c=s("../../../node_modules/react-router/esm/react-router.js"),u=s("../../../node_modules/@fortawesome/pro-light-svg-icons/index.js"),m=s("../../libs/foundation-ui/dist/index.js"),p=s("../../libs/shared/dist/features/portfolio/index.js"),f=s("../../libs/shared/dist/utils/truncateMiddle.js"),x=a(s("./src/features/activity/components/Activity/index.js"));t.default=()=>{const{t:e}=(0,d.useTranslation)(),t=(0,c.useHistory)(),s=(0,c.useRouteMatch)(),{data:i}=(0,p.usePortfolio)(),n=(0,l.useMemo)((()=>i?.tokens?.find((e=>e.mint===s.params.id))||null),[i,s.params.id]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.PageTitle,{left:(0,r.jsx)(m.ActionableIcon,{onClick:()=>t.push(`/portfolio/${s.params.id}`),icon:u.faArrowLeft,size:"l"}),center:e("single_token_acitivy_header",{token:n?.symbol?n.symbol:(0,f.truncateMiddle)(n?.mint)})}),(0,r.jsx)(x.default,{publicKey:s.params.tokenAccountId})]})}},"../../libs/shared/dist/assets/no-activity.svg":(e,t,s)=>{e.exports=s.p+"assets/no-activity.7bed8688..svg"},"../../libs/shared/dist/assets/no-apps-light.svg":(e,t,s)=>{e.exports=s.p+"assets/no-apps-light.9b6ced7e..svg"}}]);